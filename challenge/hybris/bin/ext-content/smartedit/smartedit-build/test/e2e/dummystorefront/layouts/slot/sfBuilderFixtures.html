<!-- TODO CHANGE TO BUILDER API-->

<div id="sf-builder-fixtures">

    <label>Component Fixtures</label>

    <!-- ================== ADD COMPONENT ================== -->
    <form id="addComponent"
        class="form-inline">
        <div class="form-group">
            <a id="sf-builder-add-component-button"
                class="btn btn-primary">Add</a>
            <a id="sf-builder-queue-add-component-button"
                class="btn btn-primary">Queue (Backend)</a>
            <input id="sf-builder-add-component-alias"
                placeholder="Component Alias"
                class="form-control"
                type="text" />
            <input id="sf-builder-add-component-parent"
                placeholder="Parent Id"
                class="form-control"
                type="text" />
        </div>
    </form>
    <script>
    $('#sf-builder-add-component-button').click(function() {
        var alias = $('#sf-builder-add-component-alias').val();
        var parentId = $('#sf-builder-add-component-parent').val();
        try {
            sfBuilder.addComponent(alias, parentId);
            $('#sf-builder-add-component-alias').val('');
            $('#sf-builder-add-component-parent').val('');
        } catch (e) {
            throw e;
        }
    });
    $('#sf-builder-queue-add-component-button').click(function() {
        var alias = $('#sf-builder-add-component-alias').val();
        var parentId = $('#sf-builder-add-component-parent').val();
        try {
            sfBuilder.queueAddComponent(alias, parentId);
            $('#sf-builder-add-component-alias').val('');
            $('#sf-builder-add-component-parent').val('');
        } catch (e) {
            throw e;
        }
    });
    </script>

    <!-- ================== REMOVE COMPONENT ================== -->
    <form id="removeComponent"
        class="form-inline">
        <div class="form-group">
            <a id="sf-builder-remove-component-button"
                class="btn btn-primary">Remove</a>
            <a id="sf-builder-queue-remove-component-button"
                class="btn btn-primary">Queue (Backend)</a>
            <input id="sf-builder-remove-component-id"
                placeholder="Component Id"
                class="form-control"
                type="text" />
            <input id="sf-builder-remove-component-parent"
                placeholder="Parent Id"
                class="form-control"
                type="text" />
        </div>
    </form>
    <script>
    $('#sf-builder-remove-component-button').click(function() {
        var componentId = $('#sf-builder-remove-component-id').val();
        var parentId = $('#sf-builder-remove-component-parent').val();
        try {
            sfBuilder.removeComponent(componentId, parentId);
            $('#sf-builder-remove-component-id').val('');
            $('#sf-builder-remove-component-parent').val('');
        } catch (e) {
            throw e;
        }
    });
    $('#sf-builder-queue-remove-component-button').click(function() {
        var componentId = $('#sf-builder-remove-component-id').val();
        var parentId = $('#sf-builder-remove-component-parent').val();
        try {
            sfBuilder.queueRemoveComponent(componentId, parentId);
            $('#sf-builder-remove-component-id').val('');
            $('#sf-builder-remove-component-parent').val('');
        } catch (e) {
            throw e;
        }
    });
    </script>

    <!-- ================== RE-RENDER COMPONENT ================== -->
    <form id="rerenderComponent"
        class="form-inline">
        <div class="form-group">
            <a id="sf-builder-rerender-component-button"
                class="btn btn-primary">Rerender</a>
            <input id="sf-builder-rerender-component-id"
                placeholder="Component Id"
                class="form-control"
                type="text" />
            <input id="sf-builder-rerender-component-parent"
                placeholder="Parent Id"
                class="form-control"
                type="text" />
        </div>
    </form>
    <script>
    $('#sf-builder-rerender-component-button').click(function() {
        var componentId = $('#sf-builder-rerender-component-id').val();
        var parentId = $('#sf-builder-rerender-component-parent').val();
        try {
            sfBuilder.rerender(componentId, parentId);
            $('#sf-builder-rerender-component-id').val('');
            $('#sf-builder-rerender-component-parent').val('');
        } catch (e) {
            throw e;
        }
    });
    </script>

    <label>Page Fixtures</label>

    <!-- ================== PAGE ID and Catalog Version ================== -->
    <form id="updatePageId"
        class="form-inline">
        <div class="form-group">
            <a id="sf-builder-update-page-id-button"
                class="btn btn-primary">Update Page ID and Catalog Version</a>
            <input id="sf-builder-update-page-id"
                placeholder="Page Id"
                class="form-control"
                type="text" />
            <input id="sf-builder-update-catalog-version"
                placeholder="Catalog Version Uuid"
                class="form-control"
                type="text" />
        </div>
    </form>
    <script>
    $('#sf-builder-update-page-id-button').click(function() {
        var pageId = $('#sf-builder-update-page-id').val();
        var catalogVersionUuid = $('#sf-builder-update-catalog-version').val();
        try {
            sfBuilder.updatePageId(pageId, catalogVersionUuid);
            $('#sf-builder-update-page-id').val('');
            $('#sf-builder-update-catalog-version').val('');
        } catch (e) {
            throw e;
        }
    });
    </script>

    <!-- ================== SPA CHANGE PAGE ================== -->
    <form id="spaChangePage"
        class="form-inline">
        <div class="form-group">
            <a id="sf-builder-change-page-button"
                class="btn btn-primary">SPA Change Page</a>
            <input id="sf-builder-change-page-layout"
                placeholder="layout alias"
                class="form-control"
                type="text" />
            <input id="sf-builder-change-page-delays"
                placeholder="delay alias"
                class="form-control"
                type="text" />
            <input id="sf-builder-change-page-render"
                placeholder="render strategy alias"
                class="form-control"
                type="text" />
        </div>
    </form>
    <script>
    $('#sf-builder-change-page-button').click(function() {
        var layout = $('#sf-builder-change-page-layout').val();
        var delay = $('#sf-builder-change-page-delays').val();
        var render = $('#sf-builder-change-page-render').val();
        try {
            sfBuilder.build({
                layoutAlias: layout,
                delayAlias: delay,
                renderAlias: render
            });
            $('#sf-builder-change-page-layout').val('');
            $('#sf-builder-change-page-delays').val('');
            $('#sf-builder-change-page-render').val('');
        } catch (e) {
            throw e;
        }
    });
    </script>

    <label>Manual Test Fixtures</label>
    <button class="btn btn-info btn-sm"
        id="enlargeComponentButton">Enlarge resizeComponentDomListenerTest in resizeSlotDomListenerTest</button>
    <button class="btn btn-info btn-sm"
        id="enlargeComponent3Button">Enlarge component3 in topHeaderSlot</button>
    <button class="btn btn-info btn-sm"
        id="shrinkComponentButton">Shrink component3 in topHeaderSlot</button>
    <button class="btn btn-info btn-sm"
        id="moveComponentButton">move 'new component 1' in slotWrapper</button>
    <button class="btn btn-info btn-sm"
        id="removeComponentButton">Remove 'new component 1' from slotWrapper</button>
    <button class="btn btn-info btn-sm"
        id="toggleComponentTypeButton">toggle 'new component 1' component-type (from slotWrapper)</button>
    <br/>
    <button class="btn btn-info btn-sm"
        id="changePage">changePage</button>
    <button class="btn btn-info btn-sm"
        id="removeSlotButton">Remove slot bottomHeaderSlot</button>
    <button class="btn btn-info btn-sm"
        id="animateComponentButton">Animate component from slotWrapper</button>
    <button class="btn btn-info btn-sm"
        id="stopAnimateComponentButton">Stop Animate component from slotWrapper</button>
</div>

<script>
storeFrontApi = {};
storeFrontApi.animateSmartEditComponent = function animateSmartEditComponent(htmlElement) {
    htmlElement.animate({
        width: '30%',
        height: '100px',
        top: '50px',
        left: '50px'
    }, 1000).animate({
        width: '60%',
        height: '75px',
        top: '0px',
        left: '0px'
    }, 1000, storeFrontApi.animateSmartEditComponent.bind(this, htmlElement));
};

storeFrontApi.animateSmartEditSlot = function animateSmartEditComponent(htmlElement) {
    htmlElement.animate({
        width: '30%',
        height: '200px',
        top: '50px',
        left: '50px'
    }, 1000).animate({
        width: '60%',
        height: '150px',
        top: '0px',
        left: '0px'
    }, 1000, storeFrontApi.animateSmartEditSlot.bind(this, htmlElement));
};

$('#addSlotButton').click(function(event) {
    if ($('#otherSlot').length == 0) {
        $.ajax({
            url: "layouts/slot/asyncSlot.html",
        }).done(function(data) {
            $('#footerSlot').after(data);
        });
    }
});
$('#removeSlotButton').click(function(event) {
    $('.smartEditComponent[data-smartedit-component-id=bottomHeaderSlot]').remove();
});

$('#removeComponentButton').click(function(event) {
    $('#componentWrapper').remove();
    $('#newComponent1').remove();
});

$('#enlargeComponentButton').click(function(event) {
    $('.smartEditComponent[data-smartedit-component-id=resizeComponentDomListenerTest]').addClass("large", 4000);
});
$('#enlargeComponent3Button').click(function(event) {
    $('.smartEditComponent[data-smartedit-component-id=component3]').addClass("large", 4000);
});

$('#shrinkComponentButton').click(function(event) {
    $('.smartEditComponent[data-smartedit-component-id=component3]').removeClass("large", 4000);
});

$('#changePage').click(function() {
    var layout = sfConfigManager.ALIASES.DEMO_LAYOUT_ALIAS;
    var delays = sfConfigManager.ALIASES.DEMO_DELAY_ALIAS;
    var rerenderer = sfConfigManager.ALIASES.JS_RENDERED_ALIAS;
    sfBuilder.build({
        layoutAlias: layout,
        delayAlias: delays,
        renderAlias: rerenderer
    });
});

$('#animateComponentButton').click(function(event) {
    storeFrontApi.animateSmartEditSlot($('#otherSlot'));
    storeFrontApi.animateSmartEditComponent($('#newComponent1'));
});

$('#stopAnimateComponentButton').click(function(event) {
    $('#otherSlot').stop(true);
    $('#newComponent1').stop(true);
});

$('#moveComponentButton').click(function(event) {
    $('#newComponent1').toggleClass("componentOffset");
});

$('#toggleComponentTypeButton').click(function(event) {
    var type = $('#newComponent1').attr("data-smartedit-component-type");
    var newType = type === 'componentType1' ? 'componentType2' : 'componentType1';
    $('#newComponent1').attr("data-smartedit-component-type", newType);
    $('#newComponent1').attr("data-smartedit-component-id", Math.random());
    $('#newComponent1').attr("data-smartedit-component-uuid", Math.random());
});
</script>