!function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=111)}([function(e,t){e.exports=angular},function(e,t){e.exports=CryptoJS},function(e,t,n){var r={"./templates.js":3};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=2},function(e,t){angular.module("coretemplates",[]).run(["$templateCache",function(e){"use strict";e.put("web/app/common/components/authorization/hasOperationPermissionTemplate.html",'<div data-ng-if="ctrl.isPermissionGranted"\n    ng-transclude></div>'),e.put("web/app/common/components/genericEditor/components/boolean/booleanComponentTemplate.html",'<div class="ySEBooleanField">\n    <span class="y-toggle y-toggle-lg">\n        <input type="checkbox"\n            id="{{$ctrl.field.qualifier}}-checkbox"\n            class="ySEBooleanField__input"\n            placeholder="{{$ctrl.field.tooltip| translate}}"\n            name="{{$ctrl.field.qualifier}}"\n            data-ng-disabled="!$ctrl.field.editable"\n            data-ng-model="$ctrl.model[$ctrl.qualifier]" />\n        <label class="ySEBooleanField__label"\n            for="{{$ctrl.field.qualifier}}-checkbox"></label>\n        <p data-ng-if="$ctrl.field.labelText && !$ctrl.model[$ctrl.qualifier]"\n            class="ySEBooleanField__text">{{$ctrl.field.labelText| translate}}</p>\n    </span>\n</div>'),e.put("web/app/common/components/genericEditor/components/breadcrumb/genericEditorBreadcrumbComponentTemplate.html",'<div class="se-ge-breadcrumb">\n    <div data-ng-if="$ctrl.showBreadcrumb()"\n        data-ng-repeat="breadcrumbItem in $ctrl.getEditorsStack()"\n        class="se-ge-breadcrumb__item">\n        <div class="se-ge-breadcrumb__data">\n            <span class="se-ge-breadcrumb__title">{{$ctrl.getComponentName(breadcrumbItem)}}</span>\n            <span class="se-ge-breadcrumb__info">{{breadcrumbItem.componentType | translate}}</span>\n        </div>\n\n        <div class="se-ge-breadcrumb__divider"\n            data-ng-if="$index < $ctrl.getEditorsStack().length - 1">\n            <img data-ng-src="{{$ctrl.arrowIconUrl}}">\n        </div>\n    </div>\n</div>'),e.put("web/app/common/components/genericEditor/components/dateTimePicker/dateTimePickerComponentTemplate.html",'<div class="input-group se-date-field"\n    id="date-time-picker-{{::$ctrl.name}}"\n    data-ng-show="$ctrl.isEditable">\n    <input type="text"\n        class="form-control se-date-field--input"\n        data-ng-class="{ \'se-input--has-error\': $ctrl.field.hasErrors, \'se-input--has-warning\': $ctrl.field.hasWarnings, \'se-input--is-disabled\': !$ctrl.isEditable}"\n        placeholder="{{::$ctrl.placeholderText | translate}}"\n        name="{{::$ctrl.name}}" />\n    <span class="input-group-addon se-date-field--button"\n        data-ng-class="{ \'se-date-field--button-has-error\': $ctrl.field.hasErrors, \'se-date-field--button-has-warning\': $ctrl.field.hasWarnings }">\n        <span class="glyphicon glyphicon-calendar se-date-field--button-icon"></span>\n    </span>\n</div>\n<div class="input-group date se-date-field"\n    data-ng-if="!$ctrl.isEditable">\n    <input type=\'text\'\n        class="form-control se-date-field--input"\n        data-ng-class="{\'se-input--is-disabled\': !$ctrl.isEditable}"\n        data-ng-model="$ctrl.model"\n        data-date-formatter\n        data-ng-disabled="true"\n        data-format-type="short">\n</div>'),e.put("web/app/common/components/genericEditor/components/dropdown/seDropdownTemplate.html",'<y-select data-ng-if="$ctrl.dropdown.initialized"\n    data-id="{{$ctrl.dropdown.qualifier}}"\n    data-ng-click="$ctrl.dropdown.onClick()"\n    data-placeholder="$ctrl.field.placeholder"\n    data-ng-model="$ctrl.model[$ctrl.qualifier]"\n    data-on-change="$ctrl.dropdown.triggerAction"\n    data-fetch-strategy="$ctrl.dropdown.fetchStrategy"\n    data-reset="$ctrl.dropdown.reset"\n    data-multi-select="$ctrl.dropdown.isMultiDropdown"\n    data-controls="$ctrl.dropdown.isMultiDropdown"\n    data-is-read-only="!$ctrl.field.editable"\n    data-item-template="$ctrl.itemTemplateUrl"\n    data-results-header-template-url="$ctrl.dropdown.resultsHeaderTemplateUrl"\n    data-results-header-template="$ctrl.dropdown.resultsHeaderTemplate"\n    data-get-api="$ctrl.dropdown.setYSelectAPI($api)" />'),e.put("web/app/common/components/genericEditor/components/richText/seRichTextFieldComponentTemplate.html",'<textarea class="form-control"\n    data-ng-class="{\'has-error\': $ctrl.field.hasErrors}"\n    name="{{$ctrl.field.qualifier}}-{{$ctrl.qualifier}}"\n    data-ng-disabled="$ctrl.isDisabled"\n    data-ng-model="$ctrl.model[$ctrl.qualifier]"\n    data-ng-change="$ctrl.reassignUserCheck()"></textarea>\n<div data-ng-if="$ctrl.requiresUserCheck()">\n    <input type="checkbox"\n        data-ng-model="$ctrl.field.isUserChecked" />\n    <span class="ng-class:{\'warning-check-msg\':true, \'not-checked\':$ctrl.editor.hasFrontEndValidationErrors && !$ctrl.field.isCheckedByUser}"\n        data-translate="se.editor.richtext.check">{{\'se.editor.richtext.check\' | translate}}</span>\n</div>'),e.put("web/app/common/components/genericEditor/genericEditorComponentTemplate.html",'<div data-ng-cloak\n    class="ySEGenericEditor">\n    <generic-editor-breadcrumb></generic-editor-breadcrumb>\n    <form name="componentForm"\n        novalidate\n        data-ng-submit="$ctrl.editor.submit()"\n        class="no-enter-submit">\n        <div class="modal-header"\n            data-ng-show="modalHeaderTitle">\n            <h4 class="modal-title">{{modalHeaderTitle| translate}}</h4>\n        </div>\n\n        <y-tabset class="ySEGenericEditorTabs"\n            tabs-list="$ctrl.editor.tabs"\n            data-num-tabs-displayed="3">\n        </y-tabset>\n\n        <div class="ySErow"\n            data-ng-if="$ctrl.showNoEditSupportDisclaimer()">\n            <y-message data-type="info"\n                id="GenericEditor.NoEditingSupportDisclaimer">\n                <message-description>\n                    <translate>se.editor.notification.editing.not.supported</translate>\n                </message-description>\n            </y-message>\n        </div>\n\n        <div class="ySEBtnRow modal-footer"\n            data-ng-show="$ctrl.showCommands()">\n            <button id="cancel"\n                type="button"\n                class="btn btn-subordinate"\n                data-ng-if="$ctrl.showCancel()"\n                data-ng-click="$ctrl.reset()">{{$ctrl.editor.cancelButtonText | translate}}</button>\n            <button id="submit"\n                name="submit"\n                class="btn btn-primary"\n                data-ng-if="$ctrl.showSubmit()"\n                data-ng-disabled="$ctrl.isSubmitDisabled()">{{$ctrl.editor.submitButtonText | translate}}</button>\n        </div>\n    </form>\n</div>'),e.put("web/app/common/components/genericEditor/genericEditorFieldComponentTemplate.html",'<div validation-id="{{$ctrl.field.qualifier}}"\n    data-ng-cloak\n    class="ySEField">\n\n    <div data-ng-if="$ctrl.field.template"\n        class="ySEGenericEditorField ySEGenericEditorField__input-page-name--color"\n        data-ng-include="$ctrl.field.template"></div>\n\n    <se-generic-editor-field-messages data-field="$ctrl.field"\n        data-qualifier="$ctrl.qualifier"></se-generic-editor-field-messages>\n    <div data-ng-if="$ctrl.field.postfix"\n        class="ySEText ySEFieldPostfix">{{$ctrl.field.postfix | translate}}</div>\n</div>'),e.put("web/app/common/components/genericEditor/genericEditorFieldMessagesComponentTemplate.html",'<div>\n    <div data-ng-if="$ctrl.errors.length > 0">\n        <span data-ng-repeat="error in $ctrl.errors"\n            class="se-help-block--has-error help-block">\n            {{ error | translate}}\n        </span>\n    </div>\n    <div data-ng-if="$ctrl.warnings.length > 0">\n        <span data-ng-repeat="warning in $ctrl.warnings"\n            class="se-help-block--has-warning help-block">\n            {{ warning | translate }}\n        </span>\n    </div>\n</div>'),e.put("web/app/common/components/genericEditor/genericEditorFieldWrapperTemplate.html",'<generic-editor-field data-field="model.field"\n    data-model="model.component"\n    data-qualifier="tabId"\n    data-id="tabId">\n</generic-editor-field>'),e.put("web/app/common/components/genericEditor/genericEditorTabComponentTemplate.html",'<div class="ySErow"\n    data-ng-repeat="field in $ctrl.fields">\n    <label class="control-label"\n        data-ng-if="!field.hidePrefixLabel && field.i18nKey"\n        data-ng-class="{\'required\': field.required}"\n        id="{{field.qualifier}}-label">{{field.i18nKey | lowercase | translate}}\n    </label>\n    <div class="ySEGenericEditorFieldStructure"\n        id="{{field.qualifier}}"\n        data-cms-field-qualifier="{{field.qualifier}}"\n        data-cms-structure-type="{{field.cmsStructureType}}">\n        <localized-element data-ng-if="field.localized"\n            data-field="field"\n            class="form-group multi-tabs-editor"\n            data-input-template="genericEditorFieldWrapperTemplate.html"></localized-element>\n        <generic-editor-field data-ng-if="!field.localized"\n            data-model="$ctrl.component"\n            data-field="field"\n            data-qualifier="field.qualifier"\n            data-id="$ctrl.id" />\n    </div>\n</div>'),e.put("web/app/common/components/genericEditor/genericEditorTabWrapperTemplate.html",'<generic-editor-tab data-tab-id="tabId"></generic-editor-tab>'),e.put("web/app/common/components/genericEditor/templates/booleanWrapperTemplate.html",'<se-boolean data-model="model"\n    data-qualifier="qualifier"\n    data-field="field"\n    data-editor="editor"></se-boolean>'),e.put("web/app/common/components/genericEditor/templates/dateTimePickerWrapperTemplate.html",'<date-time-picker data-name="field.qualifier"\n    data-model="model[qualifier]"\n    data-is-editable="!$ctrl.isFieldDisabled()"\n    data-field="field"></date-time-picker>'),e.put("web/app/common/components/genericEditor/templates/dropdownTemplate.html",'<ui-select id="{{field.qualifier}}-selector"\n    ng-model="model[qualifier]"\n    theme="select2"\n    title=""\n    style="width:100%"\n    search-enabled="false"\n    data-dropdown-auto-width="false"\n    class="se-generic-editor-dropdown">\n    <ui-select-match placeholder="{{\'se.genericeditor.sedropdown.placeholder\' | translate}}"\n        class="se-generic-editor-dropdown__match">\n        <span ng-bind="$select.selected.label"></span>\n    </ui-select-match>\n    <ui-select-choices id="{{field.qualifier}}-list"\n        repeat="option in field.options"\n        position="down"\n        value="{{$selected.selected}}">\n        <span ng-bind="option.label"></span>\n    </ui-select-choices>\n</ui-select>'),e.put("web/app/common/components/genericEditor/templates/dropdownWrapperTemplate.html",'<se-dropdown data-field="field"\n    data-qualifier="qualifier"\n    data-model="model"\n    data-id="id"></se-dropdown>'),e.put("web/app/common/components/genericEditor/templates/enumTemplate.html",'<ui-select id="{{field.qualifier}}-selector"\n    ng-model="model[qualifier]"\n    theme="select2"\n    data-ng-disabled="$ctrl.isFieldDisabled()"\n    reset-search-input="false"\n    title=""\n    style="width:100%">\n    <ui-select-match placeholder="{{\'se.genericeditor.dropdown.placeholder\' | translate}}"\n        allow-clear="true">\n        <span id="enum-{{field.qualifier}}">{{$select.selected.label}}</span>\n        <br/>\n    </ui-select-match>\n    <ui-select-choices id="{{field.qualifier}}-list"\n        repeat="option.code as option in field.options[qualifier]"\n        refresh="editor.refreshOptions(field, qualifier, $select.search)"\n        value="{{$select.selected.code}}"\n        refresh-delay="0"\n        position="down">\n        <small>\n            <span>{{option.label}}</span>\n        </small>\n    </ui-select-choices>\n</ui-select>'),e.put("web/app/common/components/genericEditor/templates/errorMessageTemplate.html",'<span data-ng-if="field.errors"\n    data-ng-repeat="error in field.errors | filter:{language:qualifier}"\n    id=\'validation-error-{{field.qualifier}}-{{qualifier}}-{{$index}}\'\n    class="se-help-block--has-error help-block">\n    {{ error.message | translate }}\n</span>'),e.put("web/app/common/components/genericEditor/templates/floatTemplate.html",'<input type="number"\n    id="{{field.qualifier}}-float"\n    class="form-control"\n    data-ng-class="{ \'se-input--has-error\': field.hasErrors, \'se-input--has-warning\': field.hasWarnings }"\n    placeholder="{{field.tooltip| translate}}"\n    name="{{field.qualifier}}"\n    data-ng-disabled="$ctrl.isFieldDisabled()"\n    data-ng-model="model[qualifier]"\n    data-ng-pattern="/^([0-9]+)\\.{1}([0-9]{1,5})?$/"\n    step="{{ field.precision }}" />'),e.put("web/app/common/components/genericEditor/templates/longStringTemplate.html",'<textarea class="form-control"\n    data-ng-class="{ \'se-input--has-error\': field.hasErrors, \'se-input--has-warning\': field.hasWarnings }"\n    placeholder="{{field.tooltip| translate}}"\n    name="{{field.qualifier}}"\n    data-ng-disabled="$ctrl.isFieldDisabled()"\n    data-ng-model="model[qualifier]"></textarea>'),e.put("web/app/common/components/genericEditor/templates/numberTemplate.html",'<input type="number"\n    min="1"\n    id="{{field.qualifier}}-number"\n    class="form-control"\n    data-ng-class="{ \'se-input--has-error\': field.hasErrors, \'se-input--has-warning\': field.hasWarnings }"\n    placeholder="{{field.tooltip| translate}}"\n    name="{{field.qualifier}}"\n    data-ng-disabled="$ctrl.isFieldDisabled()"\n    data-ng-model="model[qualifier]" />'),e.put("web/app/common/components/genericEditor/templates/richTextTemplate.html",'<se-rich-text-field data-field="field"\n    data-qualifier="qualifier"\n    data-model="model"\n    data-editor="editor"\n    data-is-disabled="$ctrl.isFieldDisabled()"></se-rich-text-field>'),e.put("web/app/common/components/genericEditor/templates/shortStringTemplate.html",'<input type="text"\n    id="{{field.qualifier}}-shortstring"\n    data-ng-class="{ \'se-input--has-error\': field.hasErrors, \'se-input--has-warning\': field.hasWarnings }"\n    class="form-control"\n    placeholder="{{field.tooltip| translate}}"\n    name="{{field.qualifier}}"\n    data-ng-disabled="$ctrl.isFieldDisabled()"\n    data-ng-model="model[qualifier]" />'),e.put("web/app/common/components/help/yHelpTemplate.html",'<span class="se-help-control"\n    data-y-popover\n    data-title="$ctrl.title"\n    data-template="$ctrl.template"\n    data-template-url="$ctrl.templateUrl"\n    data-placement="$ctrl.placement"\n    data-trigger="$ctrl.trigger">\n    <span class="hyicon hyicon-help-icon"></span>\n</span>'),e.put("web/app/common/components/infiniteScrolling/yInfiniteScrollingTemplate.html",'<div class="ySEInfiniteScrolling-container {{$ctrl.dropDownContainerClass}}">\n    <div class="ySEInfiniteScrolling {{$ctrl.dropDownClass}}"\n        data-ng-if="!!$ctrl.initiated"\n        data-infinite-scroll="$ctrl.nextPage()"\n        data-infinite-scroll-disabled="$ctrl.pagingDisabled"\n        data-infinite-scroll-distance="$ctrl.distance"\n        data-infinite-scroll-immediate-check="true"\n        data-infinite-scroll-container="$ctrl.container">\n        <div data-ng-transclude></div>\n    </div>\n    <div data-ng-if="!$ctrl.pagingDisabled"\n        class="panel panel-default panel__ySEInfiniteScrolling">\n        <div class="panel-body panel-body__ySEInfiniteScrolling">\n            <div class="spinner">\n                <div class="spinner-container spinner-container1">\n                    <div class="spinner-circle1"></div>\n                    <div class="spinner-circle2"></div>\n                    <div class="spinner-circle3"></div>\n                    <div class="circle4"></div>\n                </div>\n                <div class="spinner-container spinner-container2">\n                    <div class="spinner-circle1"></div>\n                    <div class="spinner-circle2"></div>\n                    <div class="spinner-circle3"></div>\n                    <div class="circle4"></div>\n                </div>\n                <div class="spinner-container spinner-container3">\n                    <div class="spinner-circle1"></div>\n                    <div class="spinner-circle2"></div>\n                    <div class="spinner-circle3"></div>\n                    <div class="circle4"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("web/app/common/components/languageSelector/dropdown/languageDropdownSelectorTemplate.html",'<div data-uib-dropdown\n    data-auto-close="always"\n    id="languageSelectorDropdown"\n    class="language-selector-dropdown">\n    <div data-uib-dropdown-toggle>\n        <span class="icon-world yToolbarActions__icon"\n            id="languageSelector"></span>\n    </div>\n    <div class="yToolbarActions__dropdownArrow"></div>\n    <ul class="language-selector-dropdown__dropdown-menu dropdown-menu bottom btn-block"\n        role="menu">\n        <li>\n            <a class="yToolbarActions__dropdown-element"\n                data-ng-bind="$ctrl.selectedLanguage.name"></a>\n        </li>\n        <li data-ng-repeat="language in $ctrl.languages track by $index"\n            data-ng-if="$ctrl.selectedLanguage !== language">\n            <a class="yToolbarActions__dropdown-element"\n                data-ng-click="$ctrl.onSelectedLanguage(language)"\n                data-ng-bind="language.name"></a>\n        </li>\n    </ul>\n</div>'),e.put("web/app/common/components/languageSelector/selector/languageSelectorTemplate.html",'<ui-select id="uiSelectToolingLanguage"\n    data-ng-model="$ctrl.selectedLanguage"\n    data-on-select="$ctrl.onSelectedLanguage($item)"\n    theme="select2"\n    style="width:100%"\n    data-search-enabled="false"\n    data-dropdown-auto-width="false">\n    <ui-select-match placeholder="{{\'se.languageselector.dropdown.placeholder\' | translate}}">\n        <span ng-bind="$ctrl.selectedLanguage.name"></span>\n    </ui-select-match>\n    <ui-select-choices repeat="language in $ctrl.languages track by $index"\n        position="down">\n        <span ng-bind="language.name"></span>\n    </ui-select-choices>\n</ui-select>'),e.put("web/app/common/components/list/yEditableListDefaultItemTemplate.html",'<div>\n    <span>{{node.uid}}</span>\n    <y-drop-down-menu data-ng-if="$ctrl.editable"\n        dropdown-items="$ctrl.getDropdownItems()"\n        selected-item="this"\n        class="y-dropdown pull-right nav-node-editor-entry-item__more-menu" />\n</div>'),e.put("web/app/common/components/list/yEditableListTemplate.html",'<div data-ng-class="{ \'y-editable-list-disabled\': !ctrl.editable }">\n    <ytree remove-default-template=true\n        data-root-node-uid="ctrl.rootId"\n        data-node-template-url="ctrl.itemTemplateUrl"\n        data-node-actions="ctrl.actions"\n        data-drag-options="ctrl.dragOptions"\n        data-show-as-list="true" />\n</div>'),e.put("web/app/common/components/localizedElement/localizedElementTemplate.html",'<y-tabset data-model="le.model"\n    tabs-list="le.tabs"\n    data-num-tabs-displayed="6">\n</y-tabset>'),e.put("web/app/common/components/popover/yPopoverPopupTemplate.html",'<div class="popover se-ypopover"\n    data-ng-class="$ctrl.placement">\n    <div class="arrow"\n        x-arrow>\n    </div>\n    <div class="popover-inner">\n        <h3 class="popover-title"\n            data-ng-if="$ctrl.title">{{ $ctrl.title | translate }}</h3>\n        <div class="popover-content"\n            data-compile-html="$ctrl.template"></div>\n    </div>\n</div>'),e.put("web/app/common/components/sliderPanel/sliderPanelTemplate.html",'<div class="sliderpanel-container"\n    ng-class="::{\'sliderpanel--noGreyedOutOverlay\': $sliderPanelCtrl.sliderPanelConfiguration.noGreyedOutOverlay }"\n    ng-style="{\'height\': $sliderPanelCtrl.inlineStyling.container.height, \'width\': $sliderPanelCtrl.inlineStyling.container.width,  \'left\': $sliderPanelCtrl.inlineStyling.container.left, \'top\': $sliderPanelCtrl.inlineStyling.container.top, \'z-index\': $sliderPanelCtrl.inlineStyling.container.zIndex }"\n    ng-if="$sliderPanelCtrl.isShown">\n\n    <div class="sliderpanel-content {{ ::$sliderPanelCtrl.slideClassName }}"\n        ng-style="{{ ::$sliderPanelCtrl.inlineStyling.content }}">\n\n        <div class="sliderpanel-header"\n            ng-show="{{ ::$sliderPanelCtrl.sliderPanelConfiguration.modal }}">\n\n            <button type="button"\n                class="btn-sliderpanel__close"\n                data-ng-if="$sliderPanelCtrl.sliderPanelConfiguration.modal.showDismissButton"\n                data-ng-click="$sliderPanelCtrl.sliderPanelDismissAction()">\n                <span class="hyicon hyicon-close"></span>\n            </button>\n\n            <h4 class="h4__sliderpanel"\n                data-ng-if="$sliderPanelCtrl.sliderPanelConfiguration.modal.title">{{ $sliderPanelCtrl.sliderPanelConfiguration.modal.title | translate }}</h4>\n\n        </div>\n\n        <div class="sliderpanel-body"\n            ng-transclude></div>\n\n        <div class="sliderpanel-footer"\n            data-ng-if="($sliderPanelCtrl.sliderPanelConfiguration.modal.cancel || $sliderPanelCtrl.sliderPanelConfiguration.modal.save)">\n\n            <button type="button"\n                class="btn btn-lg btn-subordinate sliderpanel-footer__button"\n                data-ng-if="$sliderPanelCtrl.sliderPanelConfiguration.modal.cancel"\n                data-ng-click="$sliderPanelCtrl.sliderPanelConfiguration.modal.cancel.onClick()">\n                {{ $sliderPanelCtrl.sliderPanelConfiguration.modal.cancel.label | translate }}\n            </button>\n\n            <button type="button"\n                class="btn btn-lg btn-default sliderpanel-footer__button"\n                data-ng-if="$sliderPanelCtrl.sliderPanelConfiguration.modal.save"\n                data-ng-click="$sliderPanelCtrl.sliderPanelConfiguration.modal.save.onClick()"\n                data-ng-disabled="$sliderPanelCtrl.isSaveDisabled()">\n                {{ $sliderPanelCtrl.sliderPanelConfiguration.modal.save.label | translate }}\n            </button>\n\n        </div>\n\n    </div>\n\n</div>'),e.put("web/app/common/components/tabset/yTabsetTemplate.html",'<div>\n    <ul class="nav nav-tabs  multi-tabs"\n        data-ng-if="yTabset.tabsList.length > 1">\n        <li ng-if="yTabset.tabsList.length!=yTabset.numTabsDisplayed"\n            data-ng-repeat="tab in yTabset.tabsList.slice( 0, yTabset.numTabsDisplayed-1 ) track by $index"\n            data-ng-class="{\'active\': tab.active }"\n            data-tab-id="{{tab.id}}">\n            <a data-ng-class="{\'sm-tab-error\': tab.hasErrors}"\n                data-ng-click="yTabset.selectTab(tab)"\n                data-ng-if="!tab.message">{{tab.title | translate}}</a>\n            <a data-ng-class="{\'sm-tab-error\': tab.hasErrors}"\n                data-ng-click="yTabset.selectTab(tab)"\n                data-ng-if="tab.message"\n                data-popover="{{tab.message}}"\n                data-popover-trigger="mouseenter">{{tab.title | translate}}</a>\n        </li>\n        <li ng-if="yTabset.tabsList.length==yTabset.numTabsDisplayed"\n            data-ng-repeat="tab in yTabset.tabsList.slice( 0, yTabset.numTabsDisplayed ) track by $index"\n            data-ng-class="{\'active\': tab.active }"\n            data-tab-id="{{tab.id}}">\n            <a data-ng-class="{\'sm-tab-error\': tab.hasErrors}"\n                data-ng-click="yTabset.selectTab(tab)"\n                data-ng-if="!tab.message">{{tab.title | translate}}</a>\n            <a data-ng-class="{\'sm-tab-error\': tab.hasErrors}"\n                data-ng-click="yTabset.selectTab(tab)"\n                data-ng-if="tab.message"\n                data-popover="{{tab.message}}"\n                data-popover-trigger="mouseenter">{{tab.title | translate}}</a>\n        </li>\n        <li data-uib-dropdown\n            data-ng-if="yTabset.tabsList.length > yTabset.numTabsDisplayed"\n            class="more-tab"\n            data-ng-class="{\'active\': yTabset.isActiveInMoreTab()}">\n            <a data-ng-class="{\'sm-tab-error\': yTabset.dropDownHasErrors()}"\n                class="dropdown-toggle"\n                data-uib-dropdown-toggle>\n                <span data-ng-if="!yTabset.isActiveInMoreTab()"\n                    class="multi-tabs__more-span"\n                    data-translate="se.ytabset.tabs.more"></span>\n                <span data-ng-if="yTabset.isActiveInMoreTab()"\n                    class="multi-tabs__more-span">{{yTabset.selectedTab.title | translate}}</span>\n                <span class="caret"></span>\n            </a>\n            <ul class="dropdown-menu"\n                data-uib-dropdown-menu>\n                <li ng-if="yTabset.tabsList.length!=yTabset.numTabsDisplayed"\n                    data-ng-repeat="tab in yTabset.tabsList.slice( yTabset.numTabsDisplayed-1)"\n                    data-tab-id="{{tab.id}}">\n                    <a data-ng-class="{\'sm-tab-error\': tab.hasErrors}"\n                        data-ng-click="yTabset.selectTab(tab)">{{tab.title | translate}}</a>\n                </li>\n            </ul>\n        </li>\n    </ul>\n    <div>\n        <y-tab data-ng-repeat="tab in yTabset.tabsList"\n            ng-show="tab.active"\n            data-tab-id="{{tab.id}}"\n            content="tab.templateUrl"\n            data-model="yTabset.model"\n            tab-control="yTabset.tabControl">\n        </y-tab>\n    </div>\n</div>'),e.put("web/app/common/components/tree/treeNodeRendererTemplate.html",'<div ui-tree-handle\n    class="tree-node tree-node-content ySETreeNodeDesktop clearfix"\n    data-ng-class="{ hovered: node.mouseHovered }"\n    data-ng-mouseenter="$ctrl.onNodeMouseEnter(node)"\n    data-ng-mouseleave="$ctrl.onNodeMouseLeave(node)">\n\n    <div data-ng-show="!$ctrl.showAsList"\n        class="col-xs-1 text-center">\n        <a class="ySETreeNodeDesktop__expander btn btn-link btn-sm"\n            data-ng-if="$ctrl.hasChildren(this)"\n            data-ng-disabled="$ctrl.isDisabled"\n            data-ng-click="$ctrl.toggleAndfetch(this)">\n            <span class="glyphicon"\n                data-ng-class="{\'glyphicon-chevron-down\': collapsed,\'glyphicon-chevron-up\': !collapsed}"></span>\n        </a>\n    </div>\n\n    <div data-ng-show="$ctrl.displayDefaultTemplate()"\n        class="ySETreeNodeDesktop__node-name col-xs-5">\n        <span>{{node.name | l10n}}</span>\n        <h6 data-ng-show="node.title">{{node.title | l10n}}\n        </h6>\n    </div>\n    <div data-ng-include="$ctrl.nodeTemplateUrl"\n        data-ng-if="$ctrl.nodeTemplateUrl"\n        data-include-replace></div>\n</div>\n<ol data-ui-tree-nodes=""\n    data-ng-model="node.nodes"\n    data-ng-class="{hidden: collapsed}"\n    class="ySETreeNodeDesktop__ol">\n    <li data-ng-repeat="node in node.nodes"\n        data-ui-tree-node\n        data-ng-include="\'treeNodeRendererTemplate.html\'">\n    </li>\n</ol>'),e.put("web/app/common/components/tree/yTreeComponentTemplate.html",'<div data-ui-tree="$ctrl.treeOptions.callbacks"\n    data-drag-enabled="$ctrl.treeOptions.dragEnabled"\n    data-drag-delay="$ctrl.treeOptions.dragDelay"\n    class="categoryTable ySENavigationTree">\n\n    <div class="ySENavigationTree-body">\n        <div class="desktopLayout clearfix">\n\n            <ol data-ui-tree-nodes=""\n                data-ng-model="$ctrl.root.nodes"\n                class="ySENavigationTree-body__nodes">\n\n                <li data-ng-if="$ctrl.root.nodes.length === 0"\n                    class="ySENavigationTree__nodata"\n                    data-translate="se.ytree.no.nodes.to.display"></li>\n\n                <li class="ySENavigationTree-body__nodes__item"\n                    data-ng-repeat="node in $ctrl.root.nodes"\n                    data-ui-tree-node\n                    data-ng-include="\'treeNodeRendererTemplate.html\'"></li>\n            </ol>\n        </div>\n    </div>\n</div>'),e.put("web/app/common/components/yCollapsibleContainer/accordion-group.html",'<div role="tab"\n    id="{{::headingId}}"\n    aria-selected="{{isOpen}}"\n    class="yCollapsibleContainer__header"\n    ng-keypress="toggleOpen($event)">\n\n    <a role="button"\n        data-toggle="collapse"\n        href\n        aria-expanded="{{isOpen}}"\n        aria-controls="{{::panelId}}"\n        tabindex="0"\n        class="accordion-toggle yCollapsibleContainer__title"\n        ng-click="toggleOpen()"\n        uib-accordion-transclude="heading"\n        ng-disabled="isDisabled"\n        uib-tabindex-toggle>\n        <span uib-accordion-header\n            ng-class="{\'text-muted\': isDisabled}">{{heading}}</span>\n    </a>\n\n    <a class="yCollapsibleContainer__icon btn btn-link"\n        data-toggle-id="toggle-1"\n        title="{{isOpen ? \'se.ycollapsible.action.collapse\' : \'se.ycollapsible.action.expand\' | translate}}"\n        aria-expanded="{{isOpen}}"\n        ng-click="toggleOpen()">\n        <span class="hyicon hyicon-chevron y-collapsible-icon"\n            data-ng-class="{\n            \'y-collapsible-icon--collapse\':isOpen, \'y-collapsible-icon--expand\':!isOpen}"></span>\n    </a>\n\n</div>\n\n<div id="{{::panelId}}"\n    aria-labelledby="{{::headingId}}"\n    aria-hidden="{{!isOpen}}"\n    role="tabpanel"\n    class="panel-collapse collapse"\n    uib-collapse="!isOpen">\n    <div ng-transclude></div>\n</div>'),e.put("web/app/common/components/yCollapsibleContainer/yCollapsibleContainer.html",'<uib-accordion class="y-collapsible">\n    <div uib-accordion-group\n        class="yCollapsibleContainer__group y-collapsible__group"\n        data-template-url="web/app/common/components/yCollapsibleContainer/accordion-group.html"\n        data-is-open="$yCollapsibleContainerCtrl.configuration.expandedByDefault"\n        data-ng-class="$yCollapsibleContainerCtrl.getIconRelatedClassname()">\n\n        <uib-accordion-heading class="y-collapsible__heading">\n            <div class="yCollapsibleContainer__title y-collapsible__title"\n                data-ng-transclude="collapsible-container-title"></div>\n        </uib-accordion-heading>\n\n        <div class="y-collapsible__content"\n            data-ng-transclude="collapsible-container-content"></div>\n\n    </div>\n</uib-accordion>'),e.put("web/app/common/components/yDropdown/yDropdownDefaultItemTemplate.html",'<a class="se-dropdown-item"\n    data-ng-click="dropdownItem.callback($ctrl.selectedItem) ">\n    {{dropdownItem.key | translate}}\n</a>'),e.put("web/app/common/components/yDropdown/yDropDownMenu/yDropDownMenuTemplate.html",'<div class="y-dropdown-more-menu"\n    data-uib-dropdown>\n    <button class="btn btn-link dropdown-toggle"\n        type="button"\n        data-uib-dropdown-toggle="dropdown"\n        aria-haspopup="true"\n        aria-expanded="true">\n        <span class="hyicon hyicon-more y-dropdown-more-menu__ddlb__icon"></span>\n    </button>\n    <ul class="dropdown-menu dropdown-menu-right"\n        data-uib-dropdown-menu>\n        <li data-ng-repeat=\'dropdownItem in $ctrl.clonedDropdownItems\'\n            data-ng-if="dropdownItem.condition($ctrl.selectedItem)">\n            <span data-ng-include="dropdownItem.templateUrl"></span>\n        </li>\n    </ul>\n</div>'),e.put("web/app/common/components/yMessage/yMessage.html",'<div message-id="{{$ctrl.messageId}}"\n    class="{{$ctrl.classes}}">\n    <div class="y-message-icon-outer">\n        <span class="{{$ctrl.icon}} y-message-icon"></span>\n    </div>\n    <div class="y-message-text">\n        <div class="y-message-info-title"\n            data-ng-transclude="messageTitle">\n        </div>\n        <div class="y-message-info-description"\n            data-ng-transclude="messageDescription">\n        </div>\n    </div>\n</div>'),e.put("web/app/common/components/yMoreText/moreTextTemplate.html",'<span id="y-more-text-payload"\n    class="se-more-text__payload">{{$ctrl.text}}</span>\n<span id="y-more-text-toggle"\n    class="se-more-text__toggle"\n    ng-click="$ctrl.showHideMoreText($event)"\n    ng-show="$ctrl.isTruncated">{{$ctrl.linkLabel}}</span>'),e.put("web/app/common/directives/alerts/alertsTemplate.html",'<div class="row-fluid"\n    data-ng-if="alerts!=null &amp;&amp; alerts.length>0">\n    <div data-ng-repeat="alert in alerts"\n        class="ng-class: {\'col-xs-12\':true, \'alert\':true, \'alert-danger\':(alert.successful==false),\'alert-success\':(alert.successful==true)};">\n        <button type="button"\n            class="close"\n            data-ng-hide="alert.closeable==false"\n            data-ng-click="dismissAlert($index);">&times;</button>\n        <span id="alertMsg">{{alert.message | translate}}</span>\n    </div>\n</div>'),e.put("web/app/common/directives/select/defaultItemTemplate.html",'<span class="y-select-default-item"\n    data-ng-bind-html="item.label | l10n | translate"></span>'),e.put("web/app/common/directives/select/uiSelectChoicesTemplate.html",'<ul tabindex="-1"\n    class="ui-select-choices ui-select-choices-content select2-results">\n    <li class="ui-select-choices-group"\n        ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }">\n        <div ng-show="$select.choiceGrouped($group)"\n            class="ui-select-choices-group-label select2-result-label"\n            ng-bind="$group.name"></div>\n        <ul role="listbox"\n            id="ui-select-choices-{{ $select.generatedId }}"\n            ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }">\n            <div data-ng-if="ySelect.resultsHeaderTemplate || ySelect.resultsHeaderTemplateUrl">\n                <div data-ng-if="ySelect.resultsHeaderTemplate"\n                    data-compile-html="ySelect.resultsHeaderTemplate"></div>\n                <div data-ng-if="ySelect.resultsHeaderTemplateUrl"\n                    data-ng-include="ySelect.resultsHeaderTemplateUrl"></div>\n            </div>\n            <li class="y-infinite-scrolling__listbox-header"\n                data-ng-show="ySelect.showResultHeader()">{{ ySelect.resultsHeaderLabel | translate }}</li>\n            <li role="option"\n                ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}"\n                class="ui-select-choices-row"\n                ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}">\n                <div class="select2-result-label ui-select-choices-row-inner"></div>\n            </li>\n        </ul>\n    </li>\n</ul>'),e.put("web/app/common/directives/select/uiSelectPagedChoicesTemplate.html",'<ul tabindex="-1"\n    class="ui-select-choices ui-select-choices-content select2-results ui-select-choices__infinite-scrolling">\n    <li class="ui-select-choices-group"\n        data-ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }">\n        <div data-ng-show="$select.choiceGrouped($group)"\n            class="ui-select-choices-group-label select2-result-label"\n            data-ng-bind="$group.name">\n        </div>\n        <y-infinite-scrolling data-ng-if="$select.open"\n            data-drop-down-class=""\n            data-page-size="10"\n            data-mask="$select.search"\n            data-fetch-page="ySelect.fetchStrategy.fetchPage"\n            data-context="ySelect">\n            <ul role="listbox"\n                id="ui-select-choices-{{ $select.generatedId }}"\n                data-ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }">\n                <div data-ng-if="ySelect.resultsHeaderTemplate"\n                    data-compile-html="ySelect.resultsHeaderTemplate"></div>\n                <div data-ng-if="ySelect.resultsHeaderTemplateUrl"\n                    data-ng-include="ySelect.resultsHeaderTemplateUrl"></div>\n                <li class="y-infinite-scrolling__listbox-header"\n                    data-ng-show="ySelect.showResultHeader()">{{ ySelect.resultsHeaderLabel | translate }}</li>\n                <li role="option"\n                    data-ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}"\n                    class="ui-select-choices-row"\n                    data-ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}">\n                    <div class="select2-result-label ui-select-choices-row-inner">\n                    </div>\n                </li>\n            </ul>\n        </y-infinite-scrolling>\n    </li>\n</ul>'),e.put("web/app/common/directives/select/yMultiSelectTemplate.html",'<ui-select id="{{ySelect.id}}-selector"\n    multiple\n    sortable="true"\n    theme="<%= theme %>"\n    data-ng-model="ySelect.model"\n    style="width:100%"\n    data-ng-change="ySelect.internalOnChange()"\n    ng-disabled="ySelect.isReadOnly"\n    reset-search-input="ySelect.resetSearchInput"\n    on-remove="ySelect.internalOnRemove($item, $model)"\n    on-select="ySelect.internalOnSelect($item, $model)"\n    data-ng-init="ySelect.internalInit($select)"\n    data-ng-keyup="ySelect.internalKeyup($event, $select.search)"\n    class="se-generic-editor-dropdown"\n    data-ng-class="{\'se-generic-editor-dropdown__paged\':ySelect.requiresPaginatedStyling(), \'has-error\': ySelect.hasError(), \'has-warning\': ySelect.hasWarning()}">\n    <ui-select-match class="se-generic-editor-dropdown__match se-generic-editor-multiple-dropdown__match"\n        placeholder="{{ySelect.placeholder || \'se.genericeditor.sedropdown.placeholder\' | translate}}">\n        <item-printer id="{{ySelect.id}}-selected"\n            data-model="$item"\n            data-template-url="ySelect.itemTemplate"\n            class=""\n            data-ng-class="{\'se-generic-editor-dropdown__item-printer\':ySelect.hasControls()}"> </item-printer>\n    </ui-select-match>\n    <ui-select-choices id="{{ySelect.id}}-list"\n        "<%= filtering %>"\n        position="down">\n        <div data-ng-include="ySelect.itemTemplate"></div>\n    </ui-select-choices>\n</ui-select>'),e.put("web/app/common/directives/select/ySelectExtensions/yActionableSearchItemTemplate.html",'<div class="se-actionable-search-item"\n    data-ng-if="$ctrl.getInputText()">\n\n    <div class="se-actionable-search-item__name">{{ $ctrl.getInputText() }}</div>\n    <button type="button"\n        class="btn se-actionable-search-item__create-btn"\n        data-ng-show="$ctrl.showForm()"\n        data-ng-click="$ctrl.buttonPressed()">\n        {{ $ctrl.getActionText() | translate }}\n    </button>\n</div>'),e.put("web/app/common/directives/select/ySelectTemplate.html",'<ui-select id="{{ySelect.id}}-selector"\n    data-ng-model="ySelect.model"\n    style="width:100%"\n    theme="<%= theme %>"\n    search-enabled="ySelect.searchEnabled"\n    data-ng-change="ySelect.internalOnChange()"\n    reset-search-input="ySelect.resetSearchInput"\n    on-remove="ySelect.internalOnRemove($item, $model)"\n    on-select="ySelect.internalOnSelect($item, $model)"\n    data-ng-init="ySelect.internalInit($select)"\n    data-ng-keyup="ySelect.internalKeyup($event, $select.search)"\n    data-ng-class="{\'se-generic-editor-dropdown__paged\':ySelect.requiresPaginatedStyling(), \'has-error\': ySelect.hasError(), \'has-warning\': ySelect.hasWarning() }"\n    class="se-generic-editor-dropdown"\n    ng-disabled="ySelect.isReadOnly">\n    <ui-select-match placeholder="{{ySelect.placeholder || \'se.genericeditor.sedropdown.placeholder\' | translate}}"\n        class="se-generic-editor-dropdown__match2">\n        <span data-ng-if="ySelect.hasControls()"\n            class="input-group-addon glyphicon glyphicon-search ySESearchIcon__navigation"></span>\n        <item-printer id="{{ySelect.id}}-selected"\n            data-model="$select.selected"\n            data-template-url="ySelect.itemTemplate"\n            class="y-select-item-printer"\n            data-ng-class="{\'se-generic-editor-dropdown__item-printer\':ySelect.hasControls()}"> </item-printer>\n        <span data-ng-if="ySelect.hasControls()"\n            class="input-group-addon glyphicon glyphicon-remove-sign ySESearchIcon__navigation"\n            data-ng-click="ySelect.clear($select, $event)"></span>\n    </ui-select-match>\n    <ui-select-choices id="{{ySelect.id}}-list"\n        "<%= filtering %>"\n        position="down"\n        ui-disable-choice="ySelect.disableChoice(item)">\n        <div data-ng-include="ySelect.itemTemplate"></div>\n    </ui-select-choices>\n    <ui-select-no-choice data-ng-if="ySelect.noResultLabel"\n        class="y-select-no-result-label">\n        {{ySelect.noResultLabel | translate}}\n    </ui-select-no-choice>\n</ui-select>'),e.put("web/app/common/services/templates/loginDialog.html",'<div data-ng-cloak\n    class="se-login">\n    <div class="se-login--wrapper">\n        <div class="se-login--logo-wrapper"\n            data-ng-class="{\'se-login--logo-wrapper_full\': !modalController.initialized}">\n            <img src="static-resources/images/SAP_R_grad.svg"\n                class="se-login--logo">\n            <span class="se-login--logo-text"\n                data-translate="se.application.name"></span>\n        </div>\n        <form autocomplete="off"\n            data-ng-submit="modalController.submit(loginDialogForm)"\n            class="se-login--form"\n            name=\'loginDialogForm\'\n            novalidate>\n            <div class="se-login--auth-message"\n                data-ng-if="modalController.initialized">\n                <div data-translate="se.logindialogform.reauth.message1"></div>\n                <div data-translate="se.logindialogform.reauth.message2"></div>\n            </div>\n            <div class="se-login--form-group"\n                data-ng-if="loginDialogForm.errorMessage && loginDialogForm.posted && (loginDialogForm.$invalid || loginDialogForm.failed)">\n                <div class="alert se-login--alert-error"\n                    id="invalidError"\n                    data-translate="{{ loginDialogForm.errorMessage }}"></div>\n            </div>\n            <div class="se-login--form-group">\n                <input class="se-login--form-control"\n                    type="text"\n                    id="username_{{modalController.authURIKey}}"\n                    name="username"\n                    placeholder="{{ \'se.authentication.form.input.username\' | translate}}"\n                    autofocus\n                    data-ng-model="modalController.auth.username"\n                    required/>\n            </div>\n            <div class="se-login--form-group">\n                <input class="se-login--form-control"\n                    type="password"\n                    id=\'password_{{modalController.authURIKey}}\'\n                    name=\'password\'\n                    placeholder="{{ \'se.authentication.form.input.password\' | translate}}"\n                    data-ng-model="modalController.auth.password"\n                    required/>\n            </div>\n            <div class="se-login--form-group">\n                <language-selector class="se-login-language"></language-selector>\n            </div>\n            <button class="btn btn-lg btn-primary btn-block se-login--btn"\n                id="submit_{{modalController.authURIKey}}"\n                name="submit"\n                type="submit"\n                data-translate="se.authentication.form.button.submit"></button>\n        </form>\n    </div>\n</div>'),e.put("web/app/common/services/templates/modalTemplate.html",'<div id="y-modal-dialog">\n    <div class="modal-header se-modal__header"\n        data-ng-if="modalController._modalManager.title">\n        <button type="button"\n            class="close"\n            data-ng-if="modalController._modalManager._showDismissButton()"\n            data-ng-click="modalController._modalManager._handleDismissButton()">\n            <span class="hyicon hyicon-close"></span>\n        </button>\n        <h4 class="se-nowrap-ellipsis se-modal__header-title"\n            id="smartedit-modal-title-{{ modalController._modalManager.title }}">{{ modalController._modalManager.title | translate }}&nbsp;{{ modalController._modalManager.titleSuffix | translate }}</h4>\n    </div>\n    <div class="modal-body"\n        id="modalBody">\n        <div data-ng-include="modalController.templateUrl" />\n    </div>\n    <div class="modal-footer"\n        data-ng-if="modalController._modalManager._hasButtons()">\n        <span data-ng-repeat="button in modalController._modalManager.getButtons()">\n            <button id=\'{{ button.id }}\'\n                type="button"\n                data-ng-disabled="button.disabled"\n'+"                data-ng-class=\"{ 'btn':true, 'btn-subordinate':button.style=='default', 'btn-primary':button.style=='primary' }\"\n                data-ng-click=\"modalController._modalManager._buttonPressed(button)\">{{ button.label | translate }}</button>\n        </span>\n    </div>\n</div>"),e.put("web/app/common/services/templates/waitDialog.html",'<div class="panel panel-default ySEPanelSpinner">\n    <div class="panel-body">\n        <div class="spinner ySESpinner">\n            <div class="spinner-container spinner-container1">\n                <div class="spinner-circle1"></div>\n                <div class="spinner-circle2"></div>\n                <div class="spinner-circle3"></div>\n                <div class="circle4"></div>\n            </div>\n            <div class="spinner-container spinner-container2">\n                <div class="spinner-circle1"></div>\n                <div class="spinner-circle2"></div>\n                <div class="spinner-circle3"></div>\n                <div class="circle4"></div>\n            </div>\n            <div class="spinner-container spinner-container3">\n                <div class="spinner-circle1"></div>\n                <div class="spinner-circle2"></div>\n                <div class="spinner-circle3"></div>\n                <div class="circle4"></div>\n            </div>\n        </div>\n        <div class="ySESpinnerText"\n            data-translate="{{ modalController._modalManager.loadingMessage }}"></div>\n    </div>\n</div>'),e.put("web/app/common/services/wizard/modalWizardNavBarTemplate.html",'<div class="modal-wizard-template">\n    <div class="modal-wizard-template__steps">\n        <div data-ng-repeat="action in modalController._wizardContext.navActions track by action.id"\n            class="modal-wizard-template-step">\n            <button id="{{ ::action.id }}"\n                class="btn modal-wizard-template-step__action"\n                data-ng-class="{\n                    \'modal-wizard-template-step__action__enabled\': action.enableIfCondition(),\n                    \'modal-wizard-template-step__action__disabled\': !action.enableIfCondition(),\n                    \'modal-wizard-template-step__action__current\': action.isCurrentStep()\n                }"\n                data-ng-click="modalController.executeAction(action)"\n                data-ng-disabled="!action.enableIfCondition()">{{ action.i18n | translate }}\n            </button>\n            <span data-ng-if="!$last"\n                data-ng-class="{\n                    \'modal-wizard-template-step__glyph-enabled\':  action.enableIfCondition(),\n                    \'modal-wizard-template-step__glyph-disabled\': !action.enableIfCondition()\n                }">\n            </span>\n        </div>\n    </div>\n    <div data-ng-repeat="step in modalController._wizardContext._steps track by step.id">\n        <div data-ng-show="step.templateUrl === modalController._wizardContext.templateUrl"\n            class="modal-wizard-template-content"\n            data-ng-include="step.templateUrl">\n        </div>\n    </div>\n</div>'),e.put("web/app/common/services/wizard/modalWizardTemplate.html",'<div id="yModalWizard"\n    data-ng-include="modalController._wizardContext.templateOverride || modalController._wizardContext.templateUrl"></div>'),e.put("web/app/smartedit/modules/system/features/contextualMenu/contextualMenuDecoratorTemplate.html",'<div class="cmsx-ctx-wrapper1">\n    <div class="cmsx-ctx-wrapper2">\n        <div class="decorative-top-border decorative-border"\n            data-ng-if="ctrl.showContextualMenuBorders()"></div>\n        <div class="decorative-right-border decorative-border"\n            data-ng-if="ctrl.showContextualMenuBorders()"></div>\n        <div class="decorative-bottom-border decorative-border"\n            data-ng-if="ctrl.showContextualMenuBorders()"></div>\n        <div class="decorative-left-border decorative-border"\n            data-ng-if="ctrl.showContextualMenuBorders()"></div>\n        <div class="contextualMenuOverlay"\n            data-ng-show="ctrl.showOverlay() || ctrl.status.isopen">\n            <div data-ng-repeat="item in ctrl.getItems().leftMenuItems"\n                id="{{ item.key }}"\n                class="btn btn-primary cmsx-ctx-btns">\n                <contextual-menu-item data-mode="small"\n                    class="se-contextual--menu-item"\n                    data-ng-click="ctrl.triggerMenuItemAction(item, $event)"\n                    y-popup-overlay="ctrl.itemTemplateOverlayWrapper"\n                    y-popup-overlay-trigger="{{ctrl.shouldShowTemplate(item)}}"\n                    y-popup-overlay-on-show="ctrl.onShowItemPopup(item)"\n                    y-popup-overlay-on-hide="ctrl.onHideItemPopup(false)"\n                    data-index="$index"\n                    data-component-attributes="ctrl.componentAttributes"\n                    data-slot-attributes="ctrl.slotAttributes"\n                    data-item-config="item"\n                    data-component-id="{{ctrl.smarteditComponentId}}"\n                    data-component-uuid="{{ctrl.componentAttributes.smarteditComponentUuid}}"\n                    data-component-type="{{ctrl.smarteditComponentType}}"\n                    data-slot-id="{{ctrl.smarteditSlotId}}"\n                    data-slot-uuid="{{ctrl.smarteditSlotUuid}}"\n                    data-container-id="{{ctrl.smarteditContainerId}}"\n                    data-container-type="{{ctrl.smarteditContainerType}}">\n                </contextual-menu-item>\n            </div>\n            <div data-ng-if="ctrl.getItems().moreMenuItems.length > 0"\n                class="cmsx-ctx-more">\n                <div class="btn-group yCmsCtxMenu">\n                    <a type="button"\n                        class="cmsx-ctx-more-btn pull-right"\n                        data-ng-click="ctrl.moreMenuIsOpen = !ctrl.moreMenuIsOpen"\n                        y-popup-overlay="ctrl.moreMenuPopupConfig"\n                        y-popup-overlay-trigger="{{ctrl.moreMenuIsOpen}}"\n                        y-popup-overlay-on-show="ctrl.onShowMoreMenuPopup()"\n                        y-popup-overlay-on-hide="ctrl.onHideMoreMenuPopup()">\n                        <span title="{{ctrl.moreButton.i18nKey | translate}}"\n                            class="{{ctrl.moreButton.displayClass}}"></span>\n                    </a>\n                </div>\n            </div>\n            <div class="contextualmenuBackground"></div>\n        </div>\n        <div class="yWrapperData">\n            <div data-ng-transclude></div>\n        </div>\n    </div>\n</div>'),e.put("web/app/smartedit/modules/system/features/contextualMenu/contextualMenuItemOverlayWrapper.html",'<div data-ng-if="item.action.template || item.action.templateUrl"\n    class="se-contextual-extra-menu">\n    <div data-ng-if="item.action.template">\n        <div data-compile-html="item.action.template"></div>\n    </div>\n    <div data-ng-if="item.action.templateUrl">\n        <div data-ng-include="item.action.templateUrl"></div>\n    </div>\n</div>'),e.put("web/app/smartedit/modules/system/features/contextualMenu/moreItemsTemplate.html",'<div class="se-contextual-more-menu">\n    <div id="{{::ctrl.smarteditComponentId}}-{{::ctrl.smarteditComponentType}}-more-menu">\n        <div data-ng-repeat="item in ctrl.getItems().moreMenuItems">\n            <a class="se-contextual-more-menu--link"\n                data-smartedit-id="{{ctrl.smarteditComponentId}}"\n                data-smartedit-type="{{ctrl.smarteditComponentType}}">\n                <contextual-menu-item data-mode="compact"\n                    class="se-contextual-more-menu--item"\n                    data-ng-click="ctrl.triggerMenuItemAction(item, $event)"\n                    y-popup-overlay="ctrl.itemTemplateOverlayWrapper"\n                    y-popup-overlay-trigger="{{ctrl.shouldShowTemplate(item)}}"\n                    y-popup-overlay-on-show="ctrl.onShowItemPopup(item)"\n                    y-popup-overlay-on-hide="ctrl.onHideItemPopup(true)"\n                    data-index="$index"\n                    data-component-attributes="ctrl.componentAttributes"\n                    data-slot-attributes="ctrl.slotAttributes"\n                    data-item-config="item"\n                    data-component-id="{{ctrl.smarteditComponentId}}"\n                    data-component-uuid="{{ctrl.componentAttributes.smarteditComponentUuid}}"\n                    data-component-type="{{ctrl.smarteditComponentType}}"\n                    data-slot-id="{{ctrl.smarteditSlotId}}"\n                    data-slot-uuid="{{ctrl.smarteditSlotUuid}}"\n                    data-container-id="{{ctrl.smarteditContainerId}}"\n                    data-container-type="{{ctrl.smarteditContainerType}}">\n                </contextual-menu-item>\n            </a>\n        </div>\n    </div>\n</div>'),e.put("web/app/smartedit/modules/system/features/contextualMenuItem/contextualMenuItemComponentTemplate.html",'<div class="se-contextual--element"\n    data-ng-if="$ctrl.mode === \'small\'">\n    <span id="{{$ctrl.itemConfig.i18nKey | translate}}-{{$ctrl.componentAttributes.smarteditComponentId}}-{{$ctrl.componentAttributes.smarteditComponentType}}-{{$ctrl.index}}"\n        data-ng-if="$ctrl.isHybrisIcon($ctrl.itemConfig.displayIconClass)"\n        data-ng-class="[$ctrl.itemConfig.displayIconClass, $ctrl.itemConfig.displayClass, {\'is-active\': $ctrl.itemConfig.isOpen }]"\n        class="se-contextual--icon clickable"\n        title="{{$ctrl.itemConfig.i18nKey | translate}}">\n    </span>\n    <img data-ng-init="$ctrl.itemsrc = $ctrl.itemConfig.iconIdle"\n        data-ng-mouseout="$ctrl.setHoverState(false);"\n        data-ng-mouseover="$ctrl.setHoverState(true);"\n        id="{{$ctrl.itemConfig.i18nKey | translate}}-{{$ctrl.componentAttributes.smarteditComponentId}}-{{$ctrl.componentAttributes.smarteditComponentType}}-{{$ctrl.index}}"\n        title="{{$ctrl.itemConfig.i18nKey | translate}}"\n        data-ng-if="!$ctrl.isHybrisIcon($ctrl.itemConfig.displayIconClass)"\n        class="clickable"\n        data-ng-class="[$ctrl.itemConfig.displayClass]"\n        data-ng-src="{{ $ctrl.getIconState() }}" />\n</div>\n<div class="se-contextual--element"\n    data-ng-if="$ctrl.mode === \'compact\'">\n    <span id="{{$ctrl.itemConfig.i18nKey | translate}}-{{$ctrl.componentAttributes.smarteditComponentId}}-{{$ctrl.componentAttributes.smarteditComponentType}}-{{$ctrl.index}}"\n        data-ng-if="$ctrl.isHybrisIcon($ctrl.itemConfig.displaySmallIconClass)"\n        data-ng-class="[$ctrl.itemConfig.displaySmallIconClass, $ctrl.itemConfig.displayClass, {\'is-active\': $ctrl.itemConfig.isOpen }]"\n        class="se-contextual-more-menu--icon clickable"\n        title="{{$ctrl.itemConfig.i18nKey | translate}}">\n    </span>\n    <img data-ng-init="$ctrl.itemsrc = $ctrl.itemConfig.iconIdle"\n        data-ng-mouseout="$ctrl.setHoverState(false);"\n        data-ng-mouseover="$ctrl.setHoverState(true);"\n        id="{{$ctrl.itemConfig.i18nKey | translate}}-{{$ctrl.componentAttributes.smarteditComponentId}}-{{$ctrl.componentAttributes.smarteditComponentType}}-{{$ctrl.index}}"\n        title="{{$ctrl.itemConfig.i18nKey | translate}}"\n        data-ng-if="$ctrl.itemConfig.smallIconIdle && !$ctrl.isHybrisIcon($ctrl.itemConfig.displaySmallIconClass)"\n        data-ng-class="$ctrl.classes"\n        data-ng-src="{{ $ctrl.getIconState() }}" />\n    <span class="se-contextual--label"\n        id="{{$ctrl.itemConfig.i18nKey | translate}}-{{$ctrl.componentAttributes.smarteditComponentId}}-{{$ctrl.componentAttributes.smarteditComponentType}}-{{$ctrl.index}}"\n        data-ng-class="$ctrl.itemConfig.displayClass">\n        {{$ctrl.itemConfig.i18nKey | translate}}\n    </span>\n</div>'),e.put("web/app/smartedit/modules/system/features/slotContextualMenu/slotContextualMenuDecoratorTemplate.html",'<div>\n    <div class="cmsx-ctx-wrapper1 se-slot-contextual-menu-level1">\n        <div class="cmsx-ctx-wrapper2 se-slot-contextual-menu-level2">\n            <div class="decorative-panel-area"\n                data-ng-if="ctrl.showOverlay()">\n                <p class="decorative-panel-text">{{::ctrl.smarteditComponentId}}</p>\n                <div class="decorator-panel-padding-center"></div>\n                <div class="decorative-panel-slot-contextual-menu"\n                    data-ng-if="ctrl.showOverlay() && ctrl.showItems">\n                    <div data-ng-repeat="item in ctrl.getItems().leftMenuItems"\n                        class="btn btn-primary cmsx-ctx-btns pull-right"\n                        data-ng-init="itemsrc = item.iconIdle"\n                        data-ng-mouseout="itemsrc = item.iconIdle"\n                        data-ng-mouseover="itemsrc = item.iconNonIdle">\n                        <div data-ng-if="!item.action.templateUrl">\n                            <span id="{{::item.i18nKey | translate}}-{{::ctrl.smarteditComponentId}}-{{::ctrl.smarteditComponentType}}-hyicon"\n                                data-ng-if="item.iconIdle && ctrl.isHybrisIcon(item.displayClass)"\n                                data-ng-click="ctrl.triggerMenuItemAction(item, $event)"\n                                class="ng-class:{clickable:true}">\n                                <img data-ng-src="{{itemsrc}}"\n                                    id="{{::item.i18nKey | translate}}-{{::ctrl.smarteditComponentId}}-{{::ctrl.smarteditComponentType}}-hyicon-img"\n                                    title="{{::item.i18nKey | translate}}" />\n                            </span>\n                            <img id="{{::item.i18nKey | translate}}-{{::ctrl.smarteditComponentId}}-{{::ctrl.smarteditComponentType}}"\n                                title="{{::item.i18nKey | translate}}"\n                                data-ng-if="item.iconIdle && !ctrl.isHybrisIcon(item.displayClass)"\n                                class="{{item.displayClass}}"\n                                data-ng-class="{clickable:true}"\n                                data-ng-click="ctrl.triggerMenuItemAction(item, $event)"\n                                data-ng-src="{{itemsrc}}"\n                                alt="{{item.i18nKey}}" />\n                        </div>\n                        <div data-ng-if="item.action.templateUrl">\n                            <div data-ng-include="item.action.templateUrl"></div>\n                        </div>\n                        <div class="slot-context-menu-divider"></div>\n                    </div>\n                    <div data-ng-repeat="item in ctrl.getItems().moreMenuItems"\n                        class="btn btn-primary cmsx-ctx-btns pull-right"\n                        data-ng-init="itemsrc = item.iconIdle"\n                        data-ng-mouseout="itemsrc = item.iconIdle"\n                        data-ng-mouseover="itemsrc = item.iconNonIdle">\n                        <div data-ng-if="!item.action.templateUrl">\n                            <span id="{{::item.i18nKey | translate}}-{{::ctrl.smarteditComponentId}}-{{::ctrl.smarteditComponentType}}-hyicon"\n                                data-ng-if="item.iconIdle && ctrl.isHybrisIcon(item.displayClass)"\n                                data-ng-click="ctrl.triggerMenuItemAction(item, $event)"\n                                class="ng-class:{clickable:true}">\n                                <img data-ng-src="{{itemsrc}}"\n                                    id="{{::item.i18nKey | translate}}-{{::ctrl.smarteditComponentId}}-{{::ctrl.smarteditComponentType}}-hyicon-img"\n                                    title="{{::item.i18nKey | translate}}" />\n                            </span>\n                            <img id="{{::item.i18nKey | translate}}-{{::ctrl.smarteditComponentId}}-{{::ctrl.smarteditComponentType}}"\n                                title="{{::item.i18nKey | translate}}"\n                                data-ng-if="item.iconIdle && !ctrl.isHybrisIcon(item.displayClass)"\n                                class="{{item.displayClass}}"\n                                data-ng-class="{clickable:true}"\n                                data-ng-click="ctrl.triggerMenuItemAction(item, $event)"\n                                data-ng-src="{{itemsrc}}"\n                                alt="{{item.i18nKey}}" />\n                        </div>\n                        <div data-ng-if="item.action.templateUrl">\n                            <div data-ng-include="item.action.templateUrl"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="decorator-padding-container">\n                <div class="decorator-padding-left"\n                    data-ng-class="{active: ctrl.active}"></div>\n                <div class="decorator-slot-border"\n                    data-ng-class="{active: ctrl.active}"></div>\n                <div class="yWrapperData"\n                    data-ng-transclude\n                    data-ng-class="{active: ctrl.active}"></div>\n                <div class="decorator-padding-right"\n                    data-ng-class="{active: ctrl.active}"></div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/components/experienceSelector/experienceSelectorTemplate.html",'<div data-recompile-dom="$ctrl.recompile">\n    <generic-editor data-ng-if="$ctrl.isReady"\n        data-smartedit-component-type="$ctrl.smarteditComponentType"\n        data-smartedit-component-id="$ctrl.smarteditComponentId"\n        data-structure-api="$ctrl.structureApi"\n        data-content="$ctrl.content"\n        data-content-api="$ctrl.contentApi"\n        data-get-api="$ctrl.getApi($api);">\n    </generic-editor>\n</div>'),e.put("web/app/smarteditcontainer/components/generalConfiguration/editConfigurationsTemplate.html",'<div id="editConfigurationsBody"\n    class="ySEConfigBody">\n    <form name="form.configurationForm"\n        novalidate\n        data-ng-submit="editor.submit(form.configurationForm)">\n        <button class="y-add-btn y-se-add-key-value__button"\n            type="button"\n            data-ng-click="editor.addEntry(); ">\n            <span class="hyicon hyicon-add "></span>\n            <span class="y-add-btn__text">{{\'se.general.configuration.add.button\' | translate}}</span>\n        </button>\n\n        <label for=""\n            class="control-label y-se-add-key-value__label">{{\'se.configurationform.label.keyvalue\' | translate}}</label>\n\n        <div class="ySECfgEntity form-group"\n            data-ng-repeat="entry in editor.filterConfiguration() "\n            data-ng-mouseenter="mouseenter() "\n            data-ng-mouseout="mouseout() ">\n\n            <div class="ySECfgEntity__data">\n\n                <div class="ySECfgEntity__key">\n                    <input type="text "\n                        data-ng-class="{\'has-error\':entry.errors.keys.length>0}"\n                        name="{{entry.key}}_key"\n                        placeholder="{{\'se.configurationform.header.key.name\' | translate}}"\n                        data-ng-model="entry.key"\n                        data-ng-required="true"\n                        data-ng-disabled="!entry.isNew"\n                        class="form-control ySECfgEntity__input"\n                        title="{{entry.key}}" />\n                    <span id="{{entry.key}}_error_{{$index}}"\n                        data-ng-if="entry.errors.keys"\n                        data-ng-repeat="error in entry.errors.keys"\n                        class="error-input help-block">\n                        {{error.message|translate}}\n                    </span>\n                </div>\n                <div class="ySECfgEntity__value">\n                    <textarea data-ng-class="{\'has-error\':entry.errors.values.length>0}"\n                        name="{{entry.key}}_value"\n                        ng-attr-placeholder="{{\'se.configurationform.header.value.name\' | translate}}"\n                        data-ng-model="entry.value"\n                        data-ng-required="true"\n                        class="form-control ySECfgEntity__textarea"\n                        data-ng-change="editor._validateUserInput(entry)"></textarea>\n                    <div data-ng-if="entry.requiresUserCheck">\n                        <input id="{{entry.key}}_absoluteUrl_check_{{$index}}"\n                            type="checkbox"\n                            data-ng-model="entry.isCheckedByUser" />\n                        <span id="{{entry.key}}_absoluteUrl_msg_{{$index}}"\n                            class="ng-class:{\'warning-check-msg\':true, \'not-checked\':entry.hasErrors && !entry.isCheckedByUser}">{{\'se.configurationform.absoluteurl.check\' | translate}}</span>\n                    </div>\n\n                    <span id="{{entry.key}}_error_{{$index}}"\n                        data-ng-if="entry.errors.values"\n                        data-ng-repeat="error in entry.errors.values"\n                        class="error-input help-block">\n                        {{error.message|translate}}\n                    </span>\n                </div>\n\n            </div>\n\n            <button type="button"\n                id="{{entry.key}}_removeButton_{{$index}}"\n                class="btn btn-subordinate ySECfgEntity__remove-button"\n                data-ng-click="editor.removeEntry(entry, form.configurationForm);">\n                <span class="hyicon hyicon-remove"\n                    aria-hidden="true">\n                </span>\n            </button>\n        </div>\n    </form>\n</div>'),e.put("web/app/smarteditcontainer/components/generalConfiguration/generalConfigurationTemplate.html",'<a class="icon-action-settings yToolbarActions__icon general-configuration"\n    id="generalConfiguration"\n    data-ng-click="$ctrl.editConfiguration()"></a>'),e.put("web/app/smarteditcontainer/components/landingPage/landingPage.html",'<div class="ySmartEditToolbars"\n    style="position:absolute">\n    <div>\n        <toolbar data-css-class="ySmartEditHeaderToolbar"\n            data-image-root="imageRoot"\n            data-toolbar-name="smartEditHeaderToolbar"></toolbar>\n    </div>\n</div>\n<div class="se-landing-page">\n    <span class="se-landing-page-title"\n        data-translate=\'se.landingpage.title\' />\n\n    <div class="se-landing-page-site-selection"\n        data-ng-if="landingCtl.model != undefined">\n        <se-dropdown data-field="landingCtl.field"\n            data-qualifier="landingCtl.qualifier"\n            data-model="landingCtl.model"\n            data-id="landingCtl.sites_id"></se-dropdown>\n    </div>\n\n    <span class="se-landing-page-label"\n        data-translate=\'se.landingpage.label\' />\n\n    <div class="se-landing-page-catalogs">\n        <div class="se-landing-page-catalog"\n            data-ng-repeat="catalog in landingCtl.catalogs">\n            <catalog-details data-catalog="catalog"\n                data-is-catalog-for-current-site="$last"></catalog-details>\n        </div>\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/components/notifications/hotkeys/perspectiveSelectorHotkey/perspectiveSelectorHotkeyNotificationTemplate.html","<y-hotkey-notification data-hotkey-names=\"['esc']\"\n    data-title=\"'se.application.status.hotkey.title' | translate\"\n    data-message=\"'se.application.status.hotkey.message' | translate\">\n</y-hotkey-notification>"),e.put("web/app/smarteditcontainer/components/notifications/hotkeys/yHotkeyNotificationTemplate.html",'<div class="y-notification__hotkey">\n    <div data-ng-repeat="key in $ctrl.hotkeyNames"\n        data-ng-if="$ctrl.hotkeyNames">\n        <div class="y-notification__hotkey--key">\n            <span>{{key}}</span>\n        </div>\n        <span class="y-notification__hotkey__icon--add"\n            data-ng-if="!$last">+</span>\n    </div>\n    <div class="y-notification__hotkey--text">\n        <div class="y-notification__hotkey--title">{{$ctrl.title}}</div>\n        <div class="y-notification__hotkey--message">{{$ctrl.message}}</div>\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/components/notifications/yNotificationPanelTemplate.html",'<div class="y-notification-panel"\n    data-ng-if="$ctrl.getNotifications().length > 0"\n    data-ng-hide="$ctrl.isMouseOver"\n    data-ng-mouseenter="$ctrl.onMouseEnter()">\n    <y-notification data-ng-repeat="notification in $ctrl.getNotifications()"\n        data-notification="notification">\n    </y-notification>\n</div>'),e.put("web/app/smarteditcontainer/components/notifications/yNotificationTemplate.html",'<div class="y-notification"\n    id="{{ $ctrl.id }}"\n    data-ng-if="$ctrl.notification">\n    <div data-ng-if="$ctrl.hasTemplate()"\n        data-ng-bind-html="$ctrl.notification.template"></div>\n    <div data-ng-if="$ctrl.hasTemplateUrl()"\n        data-ng-include="$ctrl.notification.templateUrl"></div>\n</div>'),e.put("web/app/smarteditcontainer/components/sitesLink/sitesLinkTemplate.html",'<div data-ng-click="$ctrl.goToSites()"\n    data-ng-class="$ctrl.cssClass"\n    class="ySitesLink">\n    <span class="icon-navigation-left-arrow ySitesLink__arrow {{$ctrl.iconCssClass}}"></span>\n    <a data-translate="se.toolbar.sites"\n        class="ySitesLink__text"></a>\n</div>'),e.put("web/app/smarteditcontainer/components/systemAlerts/systemAlertsTemplate.html",'\x3c!--<div class="row-fluid alert-overlay">--\x3e\n<div class="alert-overlay"\n    data-ng-if="$ctrl.getAlerts().length > 0">\n    <div uib-alert\n        id="{{ \'system-alert-\' + $index }}"\n        data-ng-repeat="alert in $ctrl.getAlerts()"\n        data-ng-class="[\'alert-\' + (alert.type || \'info\'), {\'alert-item--closeable\': alert.closeable}]"\n        class="alert-item"\n        data-close="alert.hide()">\n        <div class="alert-item--icon">\n            <span class="alert-item--icon-span hyicon"\n                data-ng-class="$ctrl.getIconType(alert.type)"></span>\n        </div>\n        <div class="alert-item--content">\n            <span id="{{ \'close-alert-\' + $index }}"\n                data-ng-if="alert.message">\n                {{ alert.message | translate:alert.messagePlaceholders }}\n            </span>\n            <div data-ng-if="alert.controller"\n                data-ng-controller="alert.controller as $alertInjectedCtrl">\n                <div data-ng-if="alert.template"\n                    data-compile-html="alert.template"></div>\n                <div data-ng-if="alert.templateUrl"\n                    data-ng-include="alert.templateUrl"></div>\n            </div>\n            <div data-ng-if="!alert.controller">\n                <div data-ng-if="alert.template"\n                    data-compile-html="alert.template"></div>\n                <div data-ng-if="alert.templateUrl"\n                    data-ng-include="alert.templateUrl"></div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/components/topToolbars/deviceSupportTemplate.html",'<inflection-point-selector data-ng-if="isOnStorefront()"\n    class="toolbar-action"></inflection-point-selector>'),e.put("web/app/smarteditcontainer/components/topToolbars/experienceSelectorWrapperTemplate.html",'<experience-selector-button data-ng-if="isOnStorefront()"></experience-selector-button>'),e.put("web/app/smarteditcontainer/components/topToolbars/headerToolbarConfigurationTemplate.html","<div has-operation-permission=\"'smartedit.configurationcenter.read'\">\n    <general-configuration />\n</div>"),e.put("web/app/smarteditcontainer/components/topToolbars/headerToolbarLanguageSelectorTemplate.html","<language-dropdown-selector></language-dropdown-selector>"),e.put("web/app/smarteditcontainer/components/topToolbars/headerToolbarLogoTemplate.html",'<div class="ySmartEditAppLogo">\n    <img src="static-resources/images/SAP_scrn_R.png"\n        class="yLogo__image">\n    <div class="yLogo__text"\n        data-translate="se.application.name"></div>\n</div>'),e.put("web/app/smarteditcontainer/components/topToolbars/headerToolbarUserAccountTemplate.html","<user-account/>"),e.put("web/app/smarteditcontainer/components/topToolbars/perspectiveSelectorWrapperTemplate.html","<perspective-selector></perspective-selector>"),e.put("web/app/smarteditcontainer/components/topToolbars/sitesLinkWrapperTemplate.html","<sites-link/>"),e.put("web/app/smarteditcontainer/components/topToolbars/toolbarActionTemplate.html",'<div>\n    <div data-ng-if="item.type == \'ACTION\'"\n        class="toolbar-action">\n        <button type="button"\n            class="btn btn-default toolbar-action--button"\n            data-ng-click="triggerAction(item, $event)"\n            aria-pressed="false"\n            aria-haspopup="true"\n            id="{{toolbarName}}_option_{{item.key}}_btn"\n            aria-expanded="false">\n            <span data-ng-if=\'item.iconClassName\'\n                id="{{toolbarName}}_option_{{item.key}}_btn_iconclass"\n                data-ng-class="item.iconClassName"></span>\n            <img data-ng-if=\'!item.iconClassName && item.icons\'\n                id="{{toolbarName}}_option_{{item.key}}"\n                data-ng-src="{{::imageRoot}}{{item.icons[0]}}"\n                class="file"\n                id="{{toolbarName}}_option_{{item.key}}_btn_icon"\n                title="{{item.name | translate}}"\n                alt="{{item.name | translate}}" />\n            <span class="toolbar-action--button--txt"\n                id="{{toolbarName}}_option_{{item.key}}_btn_lbl">{{item.name | translate}}</span>\n        </button>\n    </div>\n    <div data-ng-if="item.type == \'HYBRID_ACTION\'"\n        class="toolbar-action toolbar-action--hybrid"\n        data-uib-dropdown\n        data-auto-close="outsideClick"\n        data-is-open="item.isOpen"\n        data-item-key="{{ item.key }}">\n        <button data-ng-show="item.iconClassName || item.icons"\n            type="button"\n            class="btn btn-default toolbar-action--button"\n            data-uib-dropdown-toggle\n            ng-disabled="disabled "\n            aria-pressed="false "\n            data-ng-click="triggerAction(item, $event)">\n            <span data-ng-if=\'item.iconClassName\'\n                data-ng-class="item.iconClassName"></span>\n            <img data-ng-if=\'!item.iconClassName && item.icons\'\n                id="{{toolbarName}}_option_{{item.key}}"\n                data-ng-src="{{::imageRoot}}{{item.icons[0]}}"\n                class="file"\n                title="{{item.name | translate}}"\n                alt="{{item.name | translate}}" />\n            <span class="toolbar-action--button--txt">{{item.name | translate}}</span>\n        </button>\n\n        <div data-uib-dropdown-menu\n            data-ng-class="{ \'dropdown-menu-left\': item.section == \'left\' || item.section == \'middle\', \'dropdown-menu-right\': item.section == \'right\' }"\n            class="btn-block toolbar-action--include">\n            <div data-ng-if="getItemVisibility(item)"\n                data-ng-include="item.include"></div>\n        </div>\n\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/components/topToolbars/toolbarItemContext/toolbarItemContextTemplate.html",'<div data-ng-if="$ctrl.displayContext"\n    id="toolbar_item_context_{{$ctrl.itemKey}}_btn"\n    class="se-toolbar-actionable-item-context"\n    data-ng-class="{\'se-toolbar-actionable-item-context--open\': $ctrl.itemIsOpen}">\n    <div class="se-toolbar-actionable-context__btn"\n        data-ng-include="$ctrl.contextTemplateUrl"></div>\n</div>'),e.put("web/app/smarteditcontainer/components/userAccount/userAccountTemplate.html",'<div data-uib-dropdown\n    auto-close="disabled"\n    class="user-account-dropdown"\n    id="userAccountDropdown">\n    <div data-uib-dropdown-toggle\n        data-ng-click="$ctrl.getUsername()">\n        <span class="icon-customer yToolbarActions__icon"></span>\n    </div>\n    <div class="yToolbarActions__dropdownArrow"></div>\n    <ul class="dropdown-menu bottom btn-block user-account-dropdown__dropdown-menu"\n        role="menu">\n        <li>\n            <div class="user-account-dropdown__role"\n                data-translate="se.toolbar.useraccount.role"></div>\n            <div class="user-account-dropdown__name">{{$ctrl.username}}</div>\n        </li>\n        <li class="divider"></li>\n        <li class="user-account-dropdown__actions"\n            role="menuitem">\n            <a class="se-sign-out__link"\n                data-ng-click="$ctrl.signOut($event)">{{\'se.toolbar.useraccount.signout\' |\n                translate}}</a>\n        </li>\n    </ul>\n</div>'),e.put("web/app/smarteditcontainer/fragments/mainview.html",'<div class="ySmartEditToolbars">\n    <toolbar data-css-class="ySmartEditHeaderToolbar"\n        data-image-root="imageRoot"\n        data-toolbar-name="smartEditHeaderToolbar"></toolbar>\n    <toolbar data-css-class="ySmartEditExperienceToolbar"\n        data-image-root="imageRoot"\n        data-toolbar-name="smartEditExperienceToolbar"></toolbar>\n    <toolbar data-css-class="ySmartEditPerspectiveToolbar"\n        data-image-root="imageRoot"\n        data-toolbar-name="smartEditPerspectiveToolbar"></toolbar>\n</div>\n<div id="js_iFrameWrapper"\n    class="iframeWrapper">\n    <iframe id="ySmartEditFrame"\n        src=""\n        hy-dropabpe-iframe></iframe>\n    <div id="ySmartEditFrameDragArea"></div>\n</div>'),e.put("web/app/smarteditcontainer/modules/administration/productCatalogVersionsSelector/multiProductCatalogVersionsConfigurationsTemplate.html",'<multi-product-catalog-version-selector data-product-catalogs="modalController.productCatalogs"\n    data-selected-versions="modalController.selectedCatalogVersions"\n    data-on-selection-change="modalController.updateSelection($selectedVersions)"></multi-product-catalog-version-selector>'),e.put("web/app/smarteditcontainer/modules/administration/productCatalogVersionsSelector/multiProductCatalogVersionSelector/multiProductCatalogVersionSelectorTemplate.html",'<div class="se-multi-product-catalog-version-selector">\n\n    <div class="form-group se-multi-product-catalog-version-selector__label"> {{\'se.product.catalogs.multiple.list.header\' | translate}}</div>\n\n    <div class="se-multi-product-catalog-version-selector__catalog form-group"\n        data-ng-repeat="productCatalog in $ctrl.productCatalogs">\n\n        <label class="control-label se-multi-product-catalog-version-selector__catalog-name"\n            id="{{productCatalog.catalogId}}-label">\n            {{productCatalog.name | l10n}}\n        </label>\n\n        <div class="se-multi-product-catalog-version-selector__catalog-version">\n            <y-select data-id="{{productCatalog.catalogId}}"\n                data-ng-model="productCatalog.selectedItem"\n                data-on-change="$ctrl.updateModel"\n                data-fetch-strategy="productCatalog.fetchStrategy" />\n        </div>\n\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/modules/administration/productCatalogVersionsSelector/productCatalogVersionsSelectorTemplate.html",'<div data-ng-if="$ctrl.isReady">\n\n    <div data-ng-if="$ctrl.isSingleVersionSelector">\n        <y-select data-id="{{$ctrl.qualifier}}"\n            data-ng-model="$ctrl.model.productCatalogVersions[0]"\n            data-reset="$ctrl.reset"\n            data-fetch-strategy="$ctrl.fetchStrategy" />\n    </div>\n\n    <div data-ng-if="$ctrl.isMultiVersionSelector"\n        data-y-popover\n        data-trigger="\'hover\'"\n        class="se-products-catalog-select-multiple__popover"\n        data-placement="\'bottom\'"\n        data-template="$ctrl.buildMultiProductCatalogVersionsTemplate()"\n        data-is-open="$ctrl.isTooltipOpen">\n        <div id="multi-product-catalog-versions-selector"\n            data-ng-click="$ctrl.onClick($ctrl.productCatalogs, $ctrl.model[$ctrl.qualifier])"\n            class="se-products-catalog-select-multiple">\n            <input type="text"\n                data-ng-model="$ctrl.model[$ctrl.qualifier]"\n                data-ng-value="$ctrl.getMultiProductCatalogVersionsSelectedOptions()"\n                class="form-control se-products-catalog-select-multiple__catalogs se-nowrap-ellipsis"\n                name="{{$ctrl.qualifier}}"\n                readonly/>\n            <span class="hyicon hyicon-optionssm se-products-catalog-select-multiple__icon">\n        </div>\n    </div>\n\n</div>'),e.put("web/app/smarteditcontainer/modules/administration/productCatalogVersionsSelector/productCatalogVersionsSelectorWrapperTemplate.html",'<se-product-catalog-versions-selector data-field="field"\n    data-qualifier="qualifier"\n    data-model="model"\n    data-id="id" />'),e.put("web/app/smarteditcontainer/services/experienceSelectorButton/experienceSelectorButtonTemplate.html",'<div class="ySEpreview"\n    data-uib-dropdown\n    data-is-open="status.isopen"\n    data-auto-close="disabled">\n    <a class="btn yWebsiteSelectBtn"\n        type="button"\n        data-uib-dropdown-toggle\n        id="experience-selector-btn"\n        data-ng-click="resetExperienceSelector()">\n        <span class="yWebsiteSelectBtn--info">\n            <span class="yWebsiteSelectBtn--text-wrapper">\n                <span class="yWebsiteSelectBtn--globe"\n                    data-ng-if="$ctrl.iscurrentPageFromParent"\n                    data-y-popover\n                    data-trigger="\'hover\'"\n                    data-placement="\'bottom\'"\n                    data-template="$ctrl.parentCatalogVersion">\n                    <span class="hyicon hyicon-globe yWebsiteSelectBtn--globe--icon"></span>\n                </span>\n                <span title="{{$ctrl.buildExperienceText()}}"\n                    class="yWebsiteSelectBtn--text se-nowrap-ellipsis">{{$ctrl.buildExperienceText()}}</span>\n                <span class="yWebsiteSelectBtn--arrow icon-navigation-down-arrow"></span>\n            </span>\n        </span>\n    </a>\n    <div class="dropdown-menu bottom btn-block yDdResolution "\n        role="menu">\n        <experience-selector data-experience="$ctrl.experience"\n            data-dropdown-status="status"\n            data-reset-experience-selector="resetExperienceSelector"></experience-selector>\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/services/inflectionPointSelectorWidget/inflectionPointSelectorWidgetTemplate.html",'<div data-uib-dropdown\n    is-open="status.isopen"\n    auto-close="disabled"\n    class="inflectionPtDropdown"\n    id="inflectionPtDropdown">\n    <button type="button"\n        class="btn btn-default yDddlbResolution"\n        data-uib-dropdown-toggle\n        data-ng-disabled="disabled "\n        aria-pressed="false"\n        data-ng-mouseenter="setHoverState(true)"\n        data-ng-mouseleave="setHoverState(false)"\n        data-ng-class="{\'yDddlbResolution--active\': status.isopen, \'yDddlbResolution--hover\': isHovered}">\n        <img data-ng-src="{{getButtonImageSrc()}}"\n            data-ng-typeSelected="{{currentPointSelected.type}}" />\n    </button>\n    <ul class="dropdown-menu bottom btn-block yDdResolution "\n        role="menu">\n        <li ng-repeat="choice in points"\n            class="item text-center"\n            id="se-device-{{choice.type}}">\n            <a href\n                data-ng-click="selectPoint(choice);"\n                data-ng-class="{\'inflection-point-dropdown--option\': currentPointSelected.type !== choice.type, \'inflection-point-dropdown--selected\':currentPointSelected.type === choice.type}">\n                <img data-ng-show="currentPointSelected.type !== choice.type"\n                    data-ng-src="{{imageRoot}}{{choice.icon}}"\n                    class="file" />\n                <img data-ng-show="currentPointSelected.type === choice.type"\n                    data-ng-src="{{imageRoot}}{{choice.selectedIcon}}"\n                    class="file" />\n            </a>\n        </li>\n    </ul>\n</div>'),e.put("web/app/smarteditcontainer/services/perspectiveSelectorWidget/perspectiveSelectorWidgetTemplate.html",'<div data-uib-dropdown\n    data-ng-if="$ctrl.hasActivePerspective()"\n    is-open="$ctrl.isOpen"\n    auto-close="disabled"\n    class="ySEPerspectiveSelector">\n\n    <a type="button"\n        class="btn btn-default yHybridAction"\n        data-uib-dropdown-toggle\n        ng-disabled="disabled "\n        aria-pressed="false">\n\n        <span id="perspectiveTooltip"\n            data-ng-if="!$ctrl.isOpen && $ctrl.isTooltipVisible()"\n            data-y-popover\n            data-placement="\'bottom\'"\n            data-template="$ctrl.getTooltipTemplate()"\n            data-trigger="\'hover\'">\n            <span class="hyicon hyicon-info ySEPerspectiveSelector__hotkey-tooltip--icon"></span>\n        </span>\n        <span class="ySEPerspectiveSelector__btn-text">{{$ctrl.getActivePerspectiveName() | translate}}</span>\n        <span class="ySEPerspectiveSelector__btn-arrow icon-navigation-down-arrow"></span>\n    </a>\n    <ul class="dropdown-menu bottom btn-block ySEPerspectiveList"\n        role="menu">\n        <li ng-repeat="choice in $ctrl.getDisplayedPerspectives()"\n            class="item ySEPerspectiveList--item">\n            <a href\n                data-ng-click="$ctrl.selectPerspective(choice.key);">{{choice.nameI18nKey | translate}}</a>\n        </li>\n    </ul>\n</div>'),e.put("web/app/smarteditcontainer/services/toolbar/toolbarTemplate.html",'<div class=\'{{cssClass}} yToolbar\'>\n    <div class="yToolbar__Left">\n        <div data-ng-repeat="item in actions | filter:{section:\'left\'}"\n            class="yTemplateToolbar yTemplateToolbar__left {{::item.className}}">\n            <div class="yTemplateToolbar__action-template"\n                data-ng-include="item.include && item.type ==\'TEMPLATE\' ? item.include : \'toolbarActionTemplate.html\'"></div>\n            <toolbar-item-context data-ng-if="item.contextTemplateUrl"\n                class="yTemplateToolbar__context-template"\n                data-item-key="item.key"\n                data-item-is-open="item.isOpen"\n                data-context-template-url="item.contextTemplateUrl"></toolbar-item-context>\n        </div>\n    </div>\n    <div class="yToolbar__Middle">\n        <div data-ng-repeat="item in actions | filter:{section:\'middle\'}"\n            class="yTemplateToolbar yTemplateToolbar__middle {{::item.className}}">\n            <div class="yTemplateToolbar__action-template"\n                data-ng-include="item.include && item.type ==\'TEMPLATE\' ? item.include : \'toolbarActionTemplate.html\'"> </div>\n            <toolbar-item-context data-ng-if="item.contextTemplateUrl"\n                class="yTemplateToolbar__context-template"\n                data-item-key="item.key"\n                data-item-is-open="item.isOpen"\n                data-context-template-url="item.contextTemplateUrl"></toolbar-item-context>\n\n        </div>\n\n    </div>\n    <div class="yToolbar__Right">\n        <div data-ng-repeat="item in actions | filter:{section:\'right\'}"\n            class="yTemplateToolbar yTemplateToolbar__right {{::item.className}}">\n            <div class="yTemplateToolbar__action-template"\n                data-ng-include="item.include && item.type ==\'TEMPLATE\' ? item.include : \'toolbarActionTemplate.html\'"> </div>\n            <toolbar-item-context data-ng-if="item.contextTemplateUrl"\n                class="yTemplateToolbar__context-template"\n                data-item-key="item.key"\n                data-item-is-open="item.isOpen"\n                data-context-template-url="item.contextTemplateUrl"></toolbar-item-context>\n        </div>\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/services/widgets/catalogDetails/catalogDetailsTemplate.html",'<div class="se-catalog-details"\n    data-ng-class="{\'se-catalog-for-current-site\': $ctrl.isCatalogForCurrentSite}">\n    <y-collapsible-container data-configuration="$ctrl.collapsibleConfiguration"\n        class="se-catalog-details__collapse">\n        <header class="se-catalog-details__header">\n            {{$ctrl.catalog.name | l10n}}\n        </header>\n        <content class="se-catalog-details__content">\n            \x3c!-- Left Side --\x3e\n            <div class="se-catalog-details__panel se-catalog-details__panel--left">\n                <catalog-versions-thumbnail-carousel data-catalog="$ctrl.catalog"\n                    data-site-id="$ctrl.siteIdForCatalog" />\n            </div>\n            \x3c!-- Right Side --\x3e\n            <div class="se-catalog-details__panel se-catalog-details__panel--right">\n                <div data-ng-repeat="catalogVersion in $ctrl.sortedCatalogVersions">\n                    <catalog-version-details data-catalog="$ctrl.catalog"\n                        data-catalog-version="catalogVersion"\n                        data-active-catalog-version="$ctrl.activeCatalogVersion"\n                        data-site-id="$ctrl.siteIdForCatalog" />\n                </div>\n            </div>\n        </content>\n    </y-collapsible-container>\n</div>\n\n<div class="se-catalog-divider"\n    data-ng-if="!$ctrl.isCatalogForCurrentSite">\n    <img data-ng-src="{{::$ctrl.cataloDeviderImage}}"\n        alt="" />\n</div>'),e.put("web/app/smarteditcontainer/services/widgets/catalogDetails/catalogVersionDetailsTemplate.html",'<div class="se-catalog-version-container">\n    <div class="se-catalog-version-container__left">\n        <div class="se-catalog-version-container__name">{{$ctrl.catalogVersion.version}}</div>\n        <div class="se-catalog-version-container__left__templates">\n            <div class="se-catalog-version-container__left__template"\n                data-ng-repeat="item in $ctrl.leftItems">\n                <div data-ng-include="item.include"></div>\n                <div class="se-catalog-version-container__divider"\n                    data-ng-if="!$last"></div>\n            </div>\n        </div>\n    </div>\n    <div class="se-catalog-version-container__right">\n        <div class="se-catalog-version-container__right__template"\n            data-ng-repeat="item in $ctrl.rightItems"\n            ng-include="item.include" />\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/services/widgets/catalogDetails/catalogVersionsThumbnailCarouselTemplate.html",'<div class="se-active-catalog-thumbnail">\n    <div class="se-active-catalog-version-container__thumbnail"\n        data-ng-click="$ctrl.onClick()">\n        <div class="se-active-catalog-version-container__thumbnail__default-img">\n            <div class="se-active-catalog-version-container__thumbnail__img"\n                data-ng-style="{\'background-image\': \'url(\' + $ctrl.selectedVersion.thumbnailUrl + \')\'}">\n            </div>\n        </div>\n        <div class="se-active-catalog-version-container__name">{{$ctrl.selectedVersion.version}}</div>\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/services/widgets/catalogDetails/links/homePageLinkTemplate.html",'<div class="home-link-container">\n    <a class="home-link-item__link se-catalog-version__link"\n        data-ng-click="ctrl.onClick()"\n        data-translate="se.landingpage.homepage"></a>\n</div>'),e.put("web/app/smarteditcontainer/services/widgets/catalogDetails/links/homePageLinkWrapperTemplate.html",'<home-page-link data-catalog="$ctrl.catalog"\n    data-catalog-version="$ctrl.catalogVersion"\n    data-site-id="$ctrl.siteId"></home-page-link>'),e.put("web/app/smarteditcontainer/services/widgets/clientPagedList/clientPagedList.html",'<div class="fluid-container ySEPageListResult">\n\n    <p class="paged-list-count"\n        ng-if="displayCount">\n        <span>({{ totalItems }} {{\'se.pagelist.countsearchresult\' | translate}})</span>\n    </p>\n\n    <table class="paged-list-table table table-striped table-hover techne-table">\n        <thead>\n            <tr>\n                <th data-ng-repeat="key in keys"\n                    data-ng-click="orderByColumn(key.property)"\n                    data-ng-style="{ \'width\': columnWidth + \'%\' }"\n                    class="paged-list-header"\n                    data-ng-class="\'paged-list-header-\'+key.property"\n                    ng-if="key.i18n">\n                    {{ key.i18n | translate }}\n                    <span class="header-icon"\n                        ng-show="visibleSortingHeader === key.property"\n                        ng-class="{ \'down\': headersSortingState[key.property] === true, \'up\': headersSortingState[key.property] === false }"></span>\n                </th>\n\n                <th class="paged-list-header"></th>\n                <th class="paged-list-header"\n                    data-ng-if="dropdownItems!==undefined"></th>\n            </tr>\n        </thead>\n        <tbody class="paged-list-table__body">\n            <tr data-ng-repeat=" item in items | filterByField: query : getFilterKeys() : filterCallback | startFrom:(currentPage-1)*itemsPerPage | limitTo:itemsPerPage "\n                class="techne-table-xs-right techne-table-xs-left paged-list-item ">\n                <td ng-repeat="key in keys"\n                    ng-class="\'paged-list-item-\'+key.property">\n                    <div data-ng-if="renderers[key.property]"\n                        compile-html="renderers[key.property](item, key)"></div>\n                    <span data-ng-if="!renderers[key.property]">{{ item[key.property] }}</span>\n                </td>\n                <td>\n                    <img data-ng-src="{{ item.visibilityIconSrc }}"\n                        tooltip-placement="bottom"\n                        tooltip="{{ \'se.icon.tooltip.visibility\' | translate: item.translationData }}" />\n                </td>\n                <td data-ng-if="dropdownItems!==undefined"\n                    has-operation-permission="\'se.edit.page\'"\n                    class="paged-list-table__body__td paged-list-table__body__td-menu">\n                    <y-drop-down-menu dropdown-items="dropdownItems"\n                        selected-item="item"\n                        class="y-dropdown pull-right" />\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <div class="pagination-container ">\n        <ul data-uib-pagination\n            boundary-links="true "\n            total-items="totalItems "\n            items-per-page="itemsPerPage "\n            ng-model="currentPage "\n            class="pagination-lg "\n            previous-text="&lsaquo; "\n            next-text="&rsaquo; "\n            first-text="&laquo; "\n            last-text="&raquo; "></ul>\n    </div>\n\n</div>'),e.put("web/app/smarteditcontainer/services/widgets/dynamicPagedList/dynamicPagedListTemplate.html",'<div data-ng-show="$ctrl.ready">\n\n    <p class="paged-list-count"\n        ng-if="$ctrl.config.displayCount">\n        <span>({{ $ctrl.totalItems }} {{\'se.pagelist.countsearchresult\' | translate}})</span>\n    </p>\n\n    <y-data-table data-columns="$ctrl.columns"\n        data-config="$ctrl.config"\n        data-items="$ctrl.items"\n        data-on-sort-column="$ctrl.orderByColumn($columnKey, $columnSortMode)"></y-data-table>\n\n    <y-pagination data-boundary-links="true "\n        data-total-items="$ctrl.totalItems "\n        data-items-per-page="$ctrl.config.itemsPerPage "\n        data-ng-model="$ctrl.currentPage"\n        data-on-change="$ctrl.onCurrentPageChange($currentPage)">\n    </y-pagination>\n\n</div>\n<div data-ng-if="!$ctrl.ready"\n    class="se-spinner">\n    <div class="spinner">\n        <div class="spinner-container spinner-container1">\n            <div class="spinner-circle1"></div>\n            <div class="spinner-circle2"></div>\n            <div class="spinner-circle3"></div>\n            <div class="circle4"></div>\n        </div>\n        <div class="spinner-container spinner-container2">\n            <div class="spinner-circle1"></div>\n            <div class="spinner-circle2"></div>\n            <div class="spinner-circle3"></div>\n            <div class="circle4"></div>\n        </div>\n        <div class="spinner-container spinner-container3">\n            <div class="spinner-circle1"></div>\n            <div class="spinner-circle2"></div>\n            <div class="spinner-circle3"></div>\n            <div class="circle4"></div>\n        </div>\n    </div>\n</div>'),e.put("web/app/smarteditcontainer/services/widgets/pagination/yPaginationTemplate.html",'<div class="pagination-container ">\n    <ul data-uib-pagination\n        boundary-links="true "\n        total-items="$ctrl.totalItems "\n        items-per-page="$ctrl.itemsPerPage "\n        ng-model="$ctrl.currentPage "\n        ng-change="$ctrl.pageChanged()"\n        class="pagination-lg "\n        previous-text="&lsaquo; "\n        next-text="&rsaquo; "\n        first-text="&laquo; "\n        last-text="&raquo; "></ul>\n</div>'),e.put("web/app/smarteditcontainer/services/widgets/yDataTable/yDataTableTemplate.html",'<table class="paged-list-table table table-striped table-hover techne-table">\n    <thead>\n        <tr>\n            <th data-ng-repeat="column in $ctrl.columns"\n                data-ng-click="$ctrl.sortColumn(column)"\n                data-ng-style="{ \'width\': columnWidth + \'%\' }"\n                class="paged-list-header"\n                data-ng-class="\'paged-list-header-\'+column.property">\n                {{ column.i18n | translate }}\n                <span class="header-icon"\n                    ng-show="$ctrl.visibleSortingHeader === column.property"\n                    ng-class="{ \'down\': $ctrl.headersSortingState[column.property] === true, \'up\': $ctrl.headersSortingState[column.property] === false }"></span>\n            </th>\n        </tr>\n    </thead>\n    <tbody class="paged-list-table__body">\n        <tr data-ng-repeat=" item in $ctrl.items"\n            class="techne-table-xs-right techne-table-xs-left paged-list-item ">\n            <td ng-repeat="column in $ctrl.columns"\n                ng-class="\'paged-list-item-\'+column.property">\n                <div data-ng-if="column.renderer"\n                    compile-html="column.renderer(item, column)"></div>\n                <span data-ng-if="!column.renderer">{{ item[column.property] }}</span>\n            </td>\n        </tr>\n    </tbody>\n</table>')}])},function(e,t,n){var r={"./components/authorization/hasOperationPermission.js":5,"./components/help/yHelp.js":6,"./components/list/yEditableList.js":7,"./components/localizedElement/localizedElement.js":8,"./components/popover/yPopover.js":9,"./components/sliderPanel/sliderPanelModule.js":10,"./components/sliderPanel/sliderPanelServiceModule.js":11,"./components/tabset/yTabset.js":12,"./components/yCollapsibleContainer/yCollapsibleContainer.js":13,"./components/yDropdown/yDropDownMenu/yDropDownMenu.js":14,"./components/yMessage/yMessage.js":15,"./directives/alerts/alerts.js":16,"./directives/includeReplace.js":17,"./directives/pageSensitiveDirective.js":18,"./directives/recompileDom.js":19,"./directives/select/itemPrinter.js":20,"./directives/select/ySelect.js":21,"./directives/select/ySelectExtensions/yActionableSearchItem.js":22,"./directives/yPopupOverlay.js":23,"./directives/yPopupOverlayUtils.js":24,"./services/auth/authenticationServiceInterface.js":25,"./services/browser/browserService.js":26,"./services/catalogVersionPermissionServiceInterface.js":27,"./services/constants.js":28,"./services/dragAndDrop/dragAndDropScrollingService.js":29,"./services/dragAndDrop/dragAndDropService.js":30,"./services/eventservice.js":31,"./services/filters/l10nFilterModule.js":32,"./services/httpErrorInterceptor/default/nonValidationErrorInterceptor.js":33,"./services/httpErrorInterceptor/default/permissionErrorInterceptor.js":34,"./services/httpErrorInterceptor/default/previewErrorInterceptor.js":35,"./services/httpErrorInterceptor/default/resourceNotFoundErrorInterceptor.js":36,"./services/httpErrorInterceptor/default/retryInterceptor.js":37,"./services/httpErrorInterceptor/default/retryInterceptor/predicates/httpErrorPredicates.js":38,"./services/httpErrorInterceptor/default/retryInterceptor/predicates/httpMethodPredicates.js":39,"./services/httpErrorInterceptor/default/retryInterceptor/predicates/operationContextPredicates.js":40,"./services/httpErrorInterceptor/default/retryInterceptor/retryPolicies/exponentialRetry.js":41,"./services/httpErrorInterceptor/default/retryInterceptor/retryPolicies/linearRetry.js":42,"./services/httpErrorInterceptor/default/retryInterceptor/retryPolicies/simpleRetry.js":43,"./services/httpErrorInterceptor/default/retryInterceptor/retryStrategies/defaultRetryStrategy.js":44,"./services/httpErrorInterceptor/default/retryInterceptor/retryStrategies/exponentialRetryStrategy.js":45,"./services/httpErrorInterceptor/default/retryInterceptor/retryStrategies/linearRetryStrategy.js":46,"./services/httpErrorInterceptor/default/retryInterceptor/retryStrategies/retryStrategyInterface.js":47,"./services/httpErrorInterceptor/default/unauthorizedErrorInterceptor.js":48,"./services/httpErrorInterceptor/httpErrorInterceptorService.js":49,"./services/httpErrorInterceptor/util/httpRequestUtil.js":50,"./services/interceptors/experienceInterceptor.js":51,"./services/interceptors/httpAuthInterceptor.js":52,"./services/interceptors/i18nInterceptor.js":53,"./services/interceptors/interceptorHelper.js":54,"./services/loadConfigurationsService.js":55,"./services/modalService.js":56,"./services/renderServiceInterface.js":57,"./services/rest/resourceLocations.js":58,"./services/templateCacheDecorator.js":59,"./services/timer.js":60,"./services/toolbarServiceInterface.js":61,"./services/vendors/yjQuery.js":62,"./services/vendors/ylodash.js":63};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=4},function(e,t){angular.module("hasOperationPermissionModule",["smarteditServicesModule","yLoDashModule"]).controller("hasOperationPermissionController",["$log","EVENTS","systemEventService","permissionService","lodash",function(e,t,n,r,i){this.refreshIsPermissionGranted=function(){r.isPermitted(this._validateAndPreparePermissions(this.hasOperationPermission)).then(function(e){this.isPermissionGranted=e}.bind(this),function(t){e.error("Failed to retrieve authorization",t),this.isPermissionGranted=!1}.bind(this))},this._validateAndPreparePermissions=function(e){if("string"!=typeof e&&!Array.isArray(e))throw new Error("Permission should be string or an array of objects");var t=i.cloneDeep(e);return"string"==typeof e&&(t=[{names:e.split(",")}]),t},this.$onInit=function(){this._unregisterHandler=n.subscribe(t.PERMISSION_CACHE_CLEANED,this.refreshIsPermissionGranted.bind(this))},this.$onChanges=function(e){e.hasOperationPermission&&(this.isPermissionGranted=!1,this.refreshIsPermissionGranted())},this.$onDestroy=function(){this._unregisterHandler()}}]).directive("hasOperationPermission",function(){return{transclude:!0,restrict:"A",templateUrl:"hasOperationPermissionTemplate.html",controller:"hasOperationPermissionController",controllerAs:"ctrl",scope:{},bindToController:{hasOperationPermission:"<"}}})},function(e,t){angular.module("yHelpModule",["yPopoverModule"]).component("yHelp",{templateUrl:"yHelpTemplate.html",controller:function(){this.$onInit=function(){this.placement="top",this.trigger="hover"},this.$onChanges=function(e){this.template&&e.template&&(this.template="<div>"+this.template+"</div>")}},bindings:{title:"<?",template:"<?",templateUrl:"<?"}})},function(e,t){angular.module("yEditableListModule",["treeModule","yLoDashModule"]).controller("YEditableListController",["$q",function(e){this.$onInit=function(){this._enableDragAndDrop=function(){this.dragOptions.allowDropCallback=function(e){return e.sourceNode.parentUid===this.rootId}.bind(this),this.dragOptions.onDropCallback=function(){this.actions.performUpdate()}.bind(this)};var t=[{key:"se.ydropdownmenu.remove",callback:function(e){this.actions.removeItem(e)}.bind(this)},{key:"se.ydropdownmenu.move.up",condition:function(e){return this.actions.isMoveUpAllowed(e)}.bind(this),callback:function(e){this.actions.moveUp(e)}.bind(this)},{key:"se.ydropdownmenu.move.down",condition:function(e){return this.actions.isMoveDownAllowed(e)}.bind(this),callback:function(e){this.actions.moveDown(e)}.bind(this)}];this.actions={fetchData:function(t,n){return this.items.map(function(e){e.id&&!e.uid&&(e.uid=e.id),e.parentUid=this.rootId}.bind(this)),n.nodes=this.items,e.when(n)}.bind(this),getDropdownItems:function(){return t},removeItem:function(e,t){var n=t.$modelValue,r=this.root.nodes.indexOf(n);this.root.nodes.splice(r,1),this.performUpdate(parent,t)},moveUp:function(e,t){var n=t.$modelValue,r=this.root.nodes.indexOf(n),i=this.root.nodes[r-1];this.root.nodes.splice(r-1,2,n,i),this.performUpdate(parent,t)},moveDown:function(e,t){var n=t.$modelValue,r=this.root.nodes.indexOf(n),i=this.root.nodes[r+1];this.root.nodes.splice(r,2,i,n),this.performUpdate(parent,t)},isMoveUpAllowed:function(e,t){var n=t.$modelValue;return this.root.nodes.indexOf(n)>0},isMoveDownAllowed:function(e,t){var n=t.$modelValue,r=this.root.nodes.length;return this.root.nodes.indexOf(n)!==r-1},performUpdate:function(){this.onChange&&this.onChange()}.bind(this),refreshList:function(){this.fetchData(this.root)}},this.dragOptions={},this.refresh=function(){this.actions.refreshList()}.bind(this),this.itemTemplateUrl||(this.itemTemplateUrl="yEditableListDefaultItemTemplate.html"),this.rootId="root"+this.id,void 0===this.editable&&(this.editable=!0),!0===this.editable&&this._enableDragAndDrop()}}]).component("yEditableList",{templateUrl:"yEditableListTemplate.html",controller:"YEditableListController",controllerAs:"ctrl",bindings:{id:"@",items:"<",refresh:"=?",onChange:"<",itemTemplateUrl:"<?",editable:"<?"}})},function(e,t){angular.module("localizedElementModule",["tabsetModule","seConstantsModule","yLoDashModule"]).controller("localizedElementController",["$scope","$attrs","sessionService","lodash","VALIDATION_MESSAGE_TYPES",function(e,t,n,r,i){var o;this.$onChanges=function(e){if(e.field&&(this.model={field:this.field,component:this.ge.editor.component[this.field.qualifier]},this.languages=this.ge.editor.languages,this.field)){var i=this.inputTemplate?this.inputTemplate:t.inputTemplate;this.field.isLanguageEnabledMap={},n.getCurrentUser().then(function(e){var t=e.writeableLanguages,n=e.readableLanguages;this.tabs=this.tabs||[],this.tabs.length=0,Array.prototype.push.apply(this.tabs,this.languages.filter(function(e){return r.includes(n,e.isocode)}).map(function(e){var n=e.isocode;return this.field.isLanguageEnabledMap[n]=t.some(function(e){return e===n}),{id:e.isocode,title:e.isocode.toUpperCase()+(this.field.required&&e.required?"*":""),templateUrl:i}}.bind(this)))}.bind(this))}},this.$doCheck=function(){if(this.field.messages!==o){o=this.field.messages;var e=this.field.messages?this.field.messages.filter(function(e){return e.type===i.VALIDATION_ERROR}).reduce(function(e,t){return e[t.language]=!0,e},{}):{};this.tabs.forEach(function(t){var n=e[t.id];t.hasErrors=void 0!==n&&n})}}}]).component("localizedElement",{templateUrl:"localizedElementTemplate.html",transclude:!1,require:{ge:"^genericEditor"},controller:"localizedElementController",controllerAs:"le",bindings:{field:"<",inputTemplate:"<"}})},function(e,t){angular.module("yPopoverModule",["coretemplates","yPopupOverlayModule","smarteditCommonsModule","functionsModule","yjqueryModule","seConstantsModule"]).controller("yPopoverController",["$log","$scope","$element","yjQuery","isBlank","$templateCache","yPopupEngineService","isIframe","OVERLAY_ID","$transclude",function(e,t,n,r,i,o,a,s,c,l){this.engine=null,this.config=null,this.transcludedContent=null,this.transclusionScope=null,l(function(e,t){n.append(e),this.transcludedContent=e,this.transclusionScope=t}.bind(this)),this.getTemplate=function(){return'<y-popover-popup class="se-popover-popup" data-placement="ypop.placement" data-template="ypop.template" data-title="ypop.title"></y-popover-popup>'},this.$onInit=function(){var e=n[0],o=s()?r("#"+c):null;this.config={placement:this.placement||"top",trigger:this.trigger||"click",container:o&&o.length?o[0]:"body",onShow:function(){this.isOpen=!0}.bind(this),onHide:function(){this.isOpen=!1}.bind(this),onChanges:function(e,n){this.placement!==n.placement&&(this.placement=n.placement,t.$apply())}.bind(this)},this.engine=new a(e,this.getTemplate(),t,this.config),this.isOpen=i(this.isOpen)?this.engine.isOpen:this.isOpen}.bind(this),this.$doCheck=function(){this.previousIsOpen!==this.isOpen&&(this.isOpen?this.engine.show():this.engine.hide(),this.previousIsOpen=this.isOpen)},this.$onChanges=function(){this.templateUrl&&(this.template=o.get(this.templateUrl),delete this.templateUrl),this.engine&&(this.config.placement=this.placement||"top",this.config.trigger=this.trigger||"click",this.engine.configure(this.config))},this.$onDestroy=function(){this.engine.dispose(),this.transcludedContent.remove(),this.transclusionScope.$destroy()}}]).directive("yPopover",function(){return{restrict:"A",transclude:!0,replace:!1,controller:"yPopoverController",controllerAs:"ypop",scope:{},bindToController:{template:"<?",templateUrl:"<?",title:"<?",placement:"<?",trigger:"<?",isOpen:"=?"}}}).component("yPopoverPopup",{templateUrl:"yPopoverPopupTemplate.html",bindings:{placement:"<?",title:"<?",template:"<?"}})},function(e,t){angular.module("sliderPanelModule",["ngAnimate","sliderPanelServiceModule","yjqueryModule","yLoDashModule"]).constant("CSS_CLASSNAMES",{SLIDERPANEL_ANIMATED:"sliderpanel--animated",SLIDERPANEL_SLIDEPREFIX:"sliderpanel--slidefrom"}).controller("sliderPanelController",["$animate","$element","$scope","$window","CSS_CLASSNAMES","yjQuery","lodash","sliderPanelServiceFactory",function(e,t,n,r,i,o,a,s){var c=this,l={};this.isSaveDisabled=function(){return!!(this.sliderPanelConfiguration.modal&&this.sliderPanelConfiguration.modal.save&&this.sliderPanelConfiguration.modal.save.isDisabledFn)&&this.sliderPanelConfiguration.modal.save.isDisabledFn()}.bind(this),this.$onInit=function(){this.isShown=!1,this.uniqueId=a.uniqueId(),l=s.getNewServiceInstance(t,r,this.sliderPanelConfiguration),this.sliderPanelConfiguration=l.sliderPanelConfiguration,this.slideClassName=i.SLIDERPANEL_SLIDEPREFIX+this.sliderPanelConfiguration.slideFrom,this.inlineStyling={container:l.inlineStyling.container,content:l.inlineStyling.content},this.sliderPanelShow=this.showSlider,this.sliderPanelHide=this.hideSlider,this.sliderPanelDismissAction=this.sliderPanelConfiguration.modal&&this.sliderPanelConfiguration.modal.dismiss&&this.sliderPanelConfiguration.modal.dismiss.onClick?this.sliderPanelConfiguration.modal.dismiss.onClick:this.hideSlider,o(window).on("resize.sliderPanelRedraw_"+c.uniqueId,function(){c.isShown&&n.$apply(function(){l.updateContainerInlineStyling(!0),c.inlineStyling.container=l.inlineStyling.container})}),this.sliderPanelConfiguration.displayedByDefault&&this.showSlider()},this.$onDestroy=function(){o(window).off("resize.doResize")},this.showSlider=function(){l.updateContainerInlineStyling(!1),c.inlineStyling.container=l.inlineStyling.container;var n=!1;return angular.forEach(angular.element("y-slider-panel.sliderpanel--animated .sliderpanel-container"),function(e){e=angular.element(e),n||e.css("height")===c.inlineStyling.container.height&&e.css("width")===c.inlineStyling.container.width&&e.css("left")===c.inlineStyling.container.left&&e.css("top")===c.inlineStyling.container.top&&(n=!0)}),c.sliderPanelConfiguration.noGreyedOutOverlay="boolean"==typeof c.sliderPanelConfiguration.noGreyedOutOverlay?c.sliderPanelConfiguration.noGreyedOutOverlay:n,c.isShown=!0,e.addClass(t,i.SLIDERPANEL_ANIMATED)},this.hideSlider=function(){return e.removeClass(t,i.SLIDERPANEL_ANIMATED).then(function(){c.isShown=!1})}}]).component("ySliderPanel",{templateUrl:"sliderPanelTemplate.html",controller:"sliderPanelController",controllerAs:"$sliderPanelCtrl",transclude:!0,bindings:{sliderPanelConfiguration:"<?",sliderPanelHide:"=?",sliderPanelShow:"="}})},function(e,t){angular.module("sliderPanelServiceModule",["yLoDashModule"]).factory("sliderPanelServiceFactory",["lodash",function(e){function sliderPanelService(t,n,r){var i=function(){var e=0,t=0,n=function(r){-1===["SCRIPT","lINK","BASE"].indexOf(angular.element(r)[0].nodeName)&&(function(n){t=angular.element(n).css("z-index"),!isNaN(t)&&t>e&&(e=t)}(r),angular.element(r).children().length>0&&function(e){angular.forEach(angular.element(e).children(),function(e){n(e)})}(r))};return n(angular.element("body")),parseInt(e)};this.updateContainerInlineStyling=function(e){var t=a[0].getBoundingClientRect(),r=a.css("border-left-width")?parseInt(a.css("border-left-width").replace("px","")):0,o=a.css("border-top-width")?parseInt(a.css("border-top-width").replace("px","")):0;this.inlineStyling.container.height=a[0].clientHeight+"px",this.inlineStyling.container.width=a[0].clientWidth+"px",this.inlineStyling.container.left=("BODY"===d.nodeName?Math.round(t.left+n.pageXOffset+r):0)+"px",this.inlineStyling.container.top=("BODY"===d.nodeName?Math.round(t.top+n.pageYOffset+o):0)+"px",e||(this.inlineStyling.container.zIndex=this.sliderPanelConfiguration.zIndex?parseInt(this.sliderPanelConfiguration.zIndex):i()+1)}.bind(this),this.sliderPanelConfiguration=e.defaultsDeep(r,{slideFrom:"right",overlayDimension:"80%"});var o=this.sliderPanelConfiguration.cssSelector?document.querySelector(this.sliderPanelConfiguration.cssSelector):null;o||(o=t.parent());for(var a=angular.element(o),s=a,c=!1,l=0;"BODY"!==s[0].nodeName;s=angular.element(s.parent()),l++)if("y-modal-dialog"===s[0].getAttribute("id")){c=!0;break}var d=c?s[0]:document.body;this.inlineStyling={container:{},content:{}},this.inlineStyling.content[-1===["top","bottom"].indexOf(this.sliderPanelConfiguration.slideFrom)?"width":"height"]=this.sliderPanelConfiguration.overlayDimension,angular.element(d).append(t[0])}return{getNewServiceInstance:function(e,t,n){return new sliderPanelService(e,t,n)}}}])},function(e,t){angular.module("tabsetModule",["ui.bootstrap","coretemplates","functionsModule","translationServiceModule"]).component("yTabset",{transclude:!1,templateUrl:"yTabsetTemplate.html",controller:"yTabsetController",controllerAs:"yTabset",bindings:{model:"=",tabsList:"<",tabControl:"=",numTabsDisplayed:"@"}}).controller("yTabsetController",function(){this.isActiveInMoreTab=function(){return this.tabsList.indexOf(this.selectedTab)>=this.numTabsDisplayed-1},this.$onChanges=function(){if(this.tabsList&&this.tabsList.length>0){var e=!1;for(var t in this.tabsList)this.tabsList.hasOwnProperty(t)&&this.tabsList[t].active&&(this.selectedTab=this.tabsList[t],e=!0);if(!e)for(t in this.selectedTab=this.tabsList[0],this.tabsList)if(this.tabsList.hasOwnProperty(t)){var n=this.tabsList[t];n.active="0"===t,n.hasErrors=!1}}},this.selectTab=function(e){e&&(this.selectedTab.active||this.findSelectedTab(),this.selectedTab.active=!1,this.selectedTab=e,this.selectedTab.active=!0)},this.dropDownHasErrors=function(){return this.tabsList.slice(this.numTabsDisplayed-1).some(function(e){return e.hasErrors})},this.markTabsInError=function(e){var t;this.resetTabErrors();var n=function(e){return e.id===t};for(var r in e)if(e.hasOwnProperty(r)){t=e[r];var i=this.tabsList.filter(n);i[0]&&(i[0].hasErrors=!0)}},this.resetTabErrors=function(){for(var e in this.tabsList)this.tabsList.hasOwnProperty(e)&&(this.tabsList[e].hasErrors=!1)},this.findSelectedTab=function(){var e=this.tabsList.filter(function(e){return e.active})[0];e&&(this.selectedTab=e)}}).controller("yTabController",["$templateCache","$compile","$log","$scope","isBlank","$element",function(e,t,n,r,i,o){this.$onInit=function(){var a=e.get(this.content);if(i(a))throw"did not find cached template for file "+this.content+" when building yTab "+this.tabId;if(r.model=this.model,r.tabId=this.tabId,o.append(t(a)(r)),this.tabControl)try{this.tabControl.bind(r)(r)}catch(e){n.error(e)}}}]).component("yTab",{transclude:!0,controller:"yTabController",controllerAs:"yTab",bindings:{content:"=",model:"=",tabControl:"=",tabId:"@"}})},function(e,t){angular.module("yCollapsibleContainerModule",["yLoDashModule","ui.bootstrap"]).constant("COLLAPSIBLE_CONTAINER_CONSTANTS",{DEFAULT_CONFIGURATION:{expandedByDefault:!1,iconAlignment:"right",iconVisible:!0},ICON_LEFT:"icon-left",ICON_RIGHT:"icon-right"}).controller("yCollapsibleContainerController",["lodash","COLLAPSIBLE_CONTAINER_CONSTANTS",function(e,t){this.getIconRelatedClassname=function(){if(this.configuration.iconVisible)return t["ICON_"+this.configuration.iconAlignment.toUpperCase()]}.bind(this),this.$onInit=function(){this.configuration=e.defaultsDeep(this.configuration,t.DEFAULT_CONFIGURATION)}}]).component("yCollapsibleContainer",{templateUrl:"yCollapsibleContainer.html",controller:"yCollapsibleContainerController",controllerAs:"$yCollapsibleContainerCtrl",transclude:{"collapsible-container-content":"content","collapsible-container-title":"?header"},bindings:{configuration:"<?"}})},function(e,t){angular.module("yDropDownMenuModule",["functionsModule"]).controller("YDropDownMenuController",["$templateCache","getEncodedString",function(e,t){var n=function(e){var t={callback:"function",template:"string",templateUrl:"string"},n=Object.keys(t),r=Object.keys(e).filter(function(e){return-1!==n.indexOf(e)}.bind(this));if(1!==r.length)throw new Error("Please provide only one of callback, template or templateUrl.");if(typeof e[r[0]]!==t[r[0]])throw new Error("Please provide a parameter of a proper type: callback(Function), template(String) or templateUrl(String).");return r[0]}.bind(this),r=function(n){var r="yDropdownItem_"+t(n.template)+"_Template.html";return e.get(r)||e.put(r,n.template),r}.bind(this);this.setTemplateUrl=function(e){switch(n(e)){case"callback":e.templateUrl="yDropdownDefaultItemTemplate.html";break;case"template":e.templateUrl=r(e),delete e.template}},this.$onChanges=function(){this.clonedDropdownItems=angular.copy(this.dropdownItems),this.clonedDropdownItems.forEach(function(e){e.condition=e.condition||function(){return!0},this.setTemplateUrl(e)}.bind(this))}}]).component("yDropDownMenu",{templateUrl:"yDropDownMenuTemplate.html",controller:"YDropDownMenuController",bindings:{dropdownItems:"<",selectedItem:"<"}})},function(e,t){angular.module("yMessageModule",[]).controller("YMessageController",function(){this.$onInit=function(){switch(this.messageId=this.messageId||"y-message-default-id",this.type){case"danger":this.classes="y-message-danger",this.icon="hyicon-msgdanger";break;case"info":this.classes="y-message-info",this.icon="hyicon-msginfo";break;case"success":this.classes="y-message-success",this.icon="hyicon-msgsuccess";break;case"warning":this.classes="y-message-warning",this.icon="hyicon-msgwarning";break;default:this.classes="y-message-info",this.icon="hyicon-msginfo"}this.icon="hyicon "+this.icon}}).component("yMessage",{templateUrl:"yMessage.html",controller:"YMessageController",transclude:{messageTitle:"?messageTitle",messageDescription:"?messageDescription"},bindings:{messageId:"@?",type:"@"}})},function(e,t){angular.module("alertsBoxModule",[]).directive("alertsBox",function(){return{templateUrl:"alertsTemplate.html",restrict:"E",transclude:!0,replace:!1,scope:{alerts:"="},link:function(e){e.dismissAlert=function(t){e.alerts.splice(t,1)}}}})},function(e,t){angular.module("includeReplaceModule",[]).directive("includeReplace",function(){return{require:"ngInclude",restrict:"A",link:function(e,t){t.replaceWith(t.children())}}})},function(e,t){angular.module("pageSensitiveDirectiveModule",["smarteditServicesModule"]).controller("pageSensitiveController",["$timeout","EVENTS","crossFrameEventService",function(e,t,n){this.$onInit=function(){this.hasContent=!0,this.unRegisterPageChangeListener=n.subscribe(t.PAGE_CHANGE,function(){this.hasContent=!1,e(function(){this.hasContent=!0}.bind(this),0)}.bind(this))},this.$onDestroy=function(){this.unRegisterPageChangeListener()}}]).directive("pageSensitive",function(){return{restrict:"A",replace:!1,transclude:!0,template:"<div class='se-page-sensitive' data-ng-if='ctrl.hasContent' data-ng-transclude></div>",scope:!0,controller:"pageSensitiveController",controllerAs:"ctrl",bindToController:!0}})},function(e,t){angular.module("recompileDomModule",[]).directive("recompileDom",["$timeout",function(e){return{restrict:"A",replace:!1,transclude:!0,template:"<div data-ng-if='showContent' data-ng-transclude></div>",scope:{trigger:"=recompileDom"},link:function(t){t.showContent=!0,t.trigger=function(){t.showContent=!1,e(function(){t.showContent=!0},0)}}}}])},function(e,t){angular.module("itemPrinterModule",[]).component("itemPrinter",{transclude:!1,replace:!1,template:'<div class="se-item-printer" ng-include="printer.templateUrl"></div>',require:{ySelect:"^ySelect"},controller:["$scope",function(e){e.selected=!0,this.$onChanges=function(){e.item=this.model,e.ySelect=this.ySelect}}],controllerAs:"printer",bindings:{templateUrl:"<",model:"<"}})},function(e,t){angular.module("ySelectModule",["smarteditCommonsModule","functionsModule","smarteditCommonsModule","itemPrinterModule","ui.select","ngSanitize","coretemplates","yActionableSearchItemModule","l10nModule","seConstantsModule"]).run(["$templateCache",function(e){e.put("select2/select-multiple.tpl.html",e.get("select2/select-multiple.tpl.html").replace("{'select2-display-none': !$select.open || $select.items.length === 0}","{'select2-display-none': !$select.open }")),e.put("select2/select-multiple.tpl.html",e.get("select2/select-multiple.tpl.html").replace('placeholder="{{$selectMultiple.getPlaceholder()}}"','placeholder="{{$select.placeholder}}"')),e.put("select2/select.tpl.html",e.get("select2/select.tpl.html").replace('<input type="search"','<input type="search" placeholder="{{$select.isEmpty() ? null : $select.placeholder}}"')),e.put("select2/match-multiple.tpl.html",e.get("select2/match-multiple.tpl.html").replace('href="javascript:;"',"")),e.put("pagedSelect2/match-multiple.tpl.html",e.get("select2/match-multiple.tpl.html")),e.put("pagedSelect2/match.tpl.html",e.get("select2/match.tpl.html")),e.put("pagedSelect2/no-choice.tpl.html",e.get("select2/no-choice.tpl.html")),e.put("pagedSelect2/select-multiple.tpl.html",e.get("select2/select-multiple.tpl.html")),e.put("pagedSelect2/select.tpl.html",e.get("select2/select.tpl.html")),e.put("pagedSelect2/choices.tpl.html",e.get("uiSelectPagedChoicesTemplate.html")),e.put("select2/choices.tpl.html",e.get("uiSelectChoicesTemplate.html"))}]).controller("ySelectController",["$q","$log","lodash","encode","$attrs","$templateCache","VALIDATION_MESSAGE_TYPES",function(e,t,n,r,i,o,a){this.VALIDATION_MESSAGE_TYPES=a,this.api={setValidationState:function(e){this.validationState=e}.bind(this),resetValidationState:function(){this.validationState=void 0}.bind(this)},this.$onInit=function(){this.items=[],this.searchEnabled=!1!==this.searchEnabled,this.resetSearchInput=!1!==this.resetSearchInput,this.exposedModel.$viewChangeListeners.push(this.syncModels),this.exposedModel.$render=this.syncModels,this.reset=function(e){return this.items.length=0,e&&this.resetModel(),this.$onChanges()}.bind(this),"function"==typeof this.getApi&&this.getApi({$api:this.api})},this.clear=function(e,t){t.preventDefault(),t.stopPropagation(),delete this.model,this.internalOnChange()}.bind(this),this.resultsHeaderLabel="se.yselect.options.inactiveoption.label",this.showResultHeader=function(){return this.searchEnabled&&this.items&&this.items.length>0},this.getActionableTemplateUrl=function(){return this.actionableSearchItemTemplateConfig?this.actionableSearchItemTemplateConfig.templateUrl:""}.bind(this),this.refreshOptions=function(e){this.fetchStrategy.fetchAll&&this.fetchStrategy.fetchAll(e).then(function(e){this.items=e}.bind(this))}.bind(this),this.syncModels=function(){this.model=this.exposedModel.$modelValue,this.$onChanges()}.bind(this),this.$onChanges=function(t){this.isValidConfiguration(),this.updateControlTemplate();var n=e.when(null);if(!this.items||0===this.items.length)if(this.isPagedDropdown()){if(!this.fetchStrategy.fetchEntity&&!this.fetchStrategy.fetchEntities)throw"could not initialize dropdown of ySelect, neither fetchEntity, fetchEntities, nor fetchAll were specified";this.isModelEmpty()||(n=this.internalFetchEntities())}else n=this.internalFetchAll();return t&&t.fetchStrategy&&this._updateChild(),n},this.internalOnChange=function(){this.exposedModel.$setViewValue(this.model),this.onChange&&this.onChange()}.bind(this),this.internalOnRemove=function(e,t){this.onRemove&&this.onRemove(e,t)}.bind(this),this.internalOnSelect=function(e,t){this.onSelect&&this.onSelect(e,t)}.bind(this),this.internalInit=function(e){this.init&&this.init(e)}.bind(this),this.internalKeyup=function(e,t){this.keyup&&this.keyup(e,t)}.bind(this),this.internalFetchAll=function(){return this.fetchStrategy.fetchAll().then(function(e){(this.items=e,this.model)&&((this.multiSelect?n.every(this.model,function(e){return n.find(this.items,function(t){return t.id===e})}.bind(this)):e.find(function(e){return e.id===this.model}.bind(this)))||t.debug("[ySelect - "+this.id+"] fetchAll was used to fetch the option identified by "+this.model+" but failed to find a match"),this.updateModelIfNecessary());this.internalOnChange()}.bind(this))},this.internalFetchEntities=function(){var n;if(this.multiSelect)if(this.fetchStrategy.fetchEntities)n=this.fetchStrategy.fetchEntities(this.model).then(function(e){return e.length!==this.model.length&&t.debug("!fetchEntities was used to fetch the options identified by "+this.model+" but failed to find all matches"),e}.bind(this));else{var i=[];this.model.forEach(function(e){i.push(this.fetchEntity(e))}.bind(this)),n=e.all(i)}else n=this.fetchEntity(this.model).then(function(e){return[e]});return n.then(function(e){this.items=e.filter(function(e){return null!==e}).map(function(e){return delete e.$promise,delete e.$resolved,e.technicalUniqueId=r(e),e}),this.updateModelIfNecessary(),this.internalOnChange()}.bind(this))},this.fetchEntity=function(e){return this.fetchStrategy.fetchEntity(e).then(function(e){return e||t.debug("fetchEntity was used to fetch the option identified by "+e+" but failed to find a match"),e})},this.updateModelIfNecessary=function(){if(!this.keepModelOnReset)if(this.multiSelect)this.model=this.model.filter(function(e){return n.find(this.items,function(t){return t&&t.id===e})}.bind(this));else{var e=this.items.filter(function(e){return e.id===this.model}.bind(this));this.model=e.length>0?this.model:null}},this.isValidConfiguration=function(){if(!this.fetchStrategy.fetchAll&&!this.fetchStrategy.fetchPage)throw"neither fetchAll nor fetchPage have been specified in fetchStrategy";if(this.fetchStrategy.fetchAll&&this.fetchStrategy.fetchPage)throw"only one of either fetchAll or fetchPage must be specified in fetchStrategy";if(this.fetchStrategy.fetchPage&&this.model&&!this.fetchStrategy.fetchEntity&&!this.fetchStrategy.fetchEntities)throw"fetchPage has been specified in fetchStrategy but neither fetchEntity nor fetchEntities are available to load item identified by "+this.model;this.isPagedDropdown()&&!this.keepModelOnReset&&t.debug("current ySelect is paged, so keepModelOnReset flag is ignored (it will always keep the model on reset).")},this.updateControlTemplate=function(){this.theme=this.isPagedDropdown()?"pagedSelect2":"select2",this.itemTemplate=this.itemTemplate||"defaultItemTemplate.html"},this.requiresPaginatedStyling=function(){return this.isPagedDropdown()||this.hasControls()},this.hasError=function(){return this.VALIDATION_MESSAGE_TYPES.VALIDATION_ERROR===this.validationState},this.hasWarning=function(){return this.VALIDATION_MESSAGE_TYPES.WARNING===this.validationState},this.isPagedDropdown=function(){return!!this.fetchStrategy.fetchPage},this.hasControls=function(){return!0===(this.controls||!1)},this.isModelEmpty=function(){return this.multiSelect?!this.model||this.model&&0===this.model.length:!this.model},this.resetModel=function(){this.multiSelect?this.model.length=0:delete this.model},this.disableChoice=function(e){return!!this.disableChoiceFn&&this.disableChoiceFn(e)}.bind(this),this._updateChild=function(){var e=this.fetchStrategy.fetchPage?"pagedSelect2":"select2",t=this.fetchStrategy.fetchPage?'repeat="item.id as item in ySelect.items"':'repeat="item.id as item in ySelect.items | filter: $select.search" refresh="ySelect.refreshOptions($select.search)"',n=o.get(i.multiSelect&&this.multiSelect?"yMultiSelectTemplate.html":"ySelectTemplate.html");this.result=n.replace("<%= theme %>",e).replace('"<%= filtering %>"',t)}}]).directive("ySelect",function(){return{template:"<div data-compile-html='ySelect.result'></div>",transclude:!0,controller:"ySelectController",controllerAs:"ySelect",require:{exposedModel:"ngModel"},scope:{id:"@?",fetchStrategy:"<",onChange:"<?",controls:"<?",multiSelect:"<?",keepModelOnReset:"<?",reset:"=?",isReadOnly:"<?",resultsHeaderTemplate:"<?",resultsHeaderTemplateUrl:"<?",resultsHeaderLabel:"<?",disableChoiceFn:"<?",placeholder:"<?",itemTemplate:"<?",searchEnabled:"<?",resetSearchInput:"<?",onRemove:"<?",onSelect:"<?",init:"<?",keyup:"<?",getApi:"&?"},bindToController:!0}})},function(e,t){angular.module("yActionableSearchItemModule",["smarteditServicesModule"]).controller("yActionableSearchItemController",["$scope","systemEventService",function(e,t){this.getActionText=function(){return this.actionText||"se.yationablesearchitem.action.create"}.bind(this),this.showForm=function(){return this.uiSelect&&this.uiSelect.search&&this.uiSelect.search.length>0}.bind(this),this.getInputText=function(){return this.uiSelect.search},this.buttonPressed=function(){var e=this.eventId||"yActionableSearchItem_ACTION_CREATE";t.publishAsync(e,this.uiSelect.search||""),this.uiSelect.close()}.bind(this)}]).component("yActionableSearchItem",{templateUrl:"yActionableSearchItemTemplate.html",require:{ySelect:"^ySelect",uiSelect:"^uiSelect"},controller:"yActionableSearchItemController",bindings:{eventId:"@?",actionText:"@?"}})},function(e,t){angular.module("yPopupOverlayModule",["yPopupOverlayUtilsModule","yjqueryModule","yLoDashModule","smarteditCommonsModule","functionsModule","seConstantsModule"]).constant("yPopupOverlayUuidPrefix","ypo-uuid-_").service("yPopupEngineService",["$document","$window","$compile","$timeout","lodash",function(e,t,n,r,i){function yPopupEngine(e,t,n,r){this.anchorElement=e,this.template=t,this.scope=n,this.isOpen=!1,this.oldTrigger=null,this.eventListeners=[],this.configure(r)}return yPopupEngine.prototype.configure=function(t){t=t||{},this.onChanges=t.onChanges,this.container=t.container||e[0].body,this.onShow=t.onShow,this.onHide=t.onHide,this.disposing=!1;this.config={placement:t.placement||"bottom",modifiers:t.modifiers,trigger:t.trigger||"hover",onClickOutside:t.onClickOutside||"close",onCreate:this._onChanges.bind(this),onUpdate:this._onChanges.bind(this)},this.setTrigger(this.config.trigger)},yPopupEngine.prototype.show=function(){this.isOpen||this.disposing||(this.isOpen=!0,this.popupScope=this.scope.$new(!1),this.popupElement=n(this.template)(this.popupScope)[0],this.popupInstance=new t.Popper(this.anchorElement,this.popupElement,i.merge(this.config,yPopupEngine.popperConfig)),"string"==typeof this.container?angular.element(this.container)[0].appendChild(this.popupElement):this.container.appendChild(this.popupElement),yPopupEngine.erd.listenTo(this.popupElement,function(){this.update()}.bind(this)),this.onShow&&this.onShow(),this.update())},yPopupEngine.prototype.hide=function(){this.isOpen&&(yPopupEngine.erd.uninstall(this.popupElement),this.popupScope.$destroy(),this.popupInstance.destroy(),this.popupElement.parentNode.removeChild(this.popupElement),this.onHide&&this.onHide(),this.isOpen=!1)},yPopupEngine.prototype.update=function(){this.isOpen&&this.popupInstance.scheduleUpdate()},yPopupEngine.prototype.setTrigger=function(t){if(this.oldTrigger!==t){this.config.trigger=t,this.oldTrigger=t,this._removeTriggers();var n=[],i=function(e){e.stopPropagation(),e.preventDefault(),this.show()}.bind(this),o=function(e){e.stopPropagation(),e.preventDefault(),this.hide()}.bind(this);switch(t){case"click":n.push({event:"click",handle:function(){this.isOpen?this.hide():this.show()}.bind(this)});break;case"hover":n.push({event:"mouseenter",handle:i}),n.push({event:"mouseleave",handle:o});break;case"focus":n.push({event:"focus",handle:i}),n.push({event:"blur",handle:o});break;case"show":case"true":case!0:return void this.show();case"hide":case"false":case!1:return void this.hide()}if(n.forEach(function(e){this.anchorElement.addEventListener(e.event,function(t){r(function(){e.handle(t)})}),this.eventListeners.push(function(){this.anchorElement.removeEventListener(e.event,e.handle)}.bind(this))}.bind(this)),"close"===this.config.onClickOutside&&"click"===this.config.trigger){var a=function(e){e.target===this.anchorElement||this.anchorElement.contains(e.target)||this.hide()}.bind(this);e[0].body.addEventListener("click",function(e){r(function(){a(e)})}),this.eventListeners.push(function(){e[0].body.removeEventListener("click",a)})}}},yPopupEngine.prototype.dispose=function(){this.disposing=!0,this.hide(),this._removeTriggers()},yPopupEngine.prototype._removeTriggers=function(){this.eventListeners.forEach(function(e){e()}),this.eventListeners=[]},yPopupEngine.prototype._onChanges=function(e){this.onChanges&&this.onChanges(this.popupElement,e)},yPopupEngine.popperConfig={modifiers:{preventOverflow:{padding:0,boundariesElement:"viewport"}}},yPopupEngine.erd=t.elementResizeDetectorMaker({strategy:"scroll"}),yPopupEngine}]).directive("yPopupOverlay",function(){return{restrict:"A",scope:!1,controllerAs:"$yPopupCtrl",controller:"yPopupOverlayController"}}).controller("yPopupOverlayController",["$scope","$element","$document","$compile","$attrs","$timeout","$interpolate","yjQuery","lodash","isIframe","yPopupOverlayUuidPrefix","yPopupOverlayUtilsDOMCalculations","yPopupOverlayUtilsClickOrderService","OVERLAY_ID",function(e,t,n,r,i,o,a,s,c,l,d,u,p,h){function isChildOfElement(e,t){return e[0]===t||s.contains(e[0],t)}var f=new function SafeController(){this.checkPopupSizeChanged=function(){if(this.popupElement){var e=this.popupElement.children().first()[0].getBoundingClientRect(),t=e.width!==this.popupSize.width||e.height!==this.popupSize.height;this.popupSize={width:e.width,height:e.height},t&&this.updatePopupElementPositionAndSize()}return!1}.bind(this),this.updatePopupElementPositionAndSize=function(){if(this.popupElement)try{var e=t[0].getBoundingClientRect(),n=u.calculatePreferredPosition(e,this.popupSize.width,this.popupSize.height,this.config.valign,this.config.halign);u.adjustHorizontalToBeInViewport(n),this.popupElement.css(n)}catch(e){}}.bind(this),this.togglePoppup=function(e){e.stopPropagation(),e.preventDefault(),this.popupDisplayed?this.hide():this.show()}.bind(this),this.getTemplateString=function(){var e,t=s("<div>");if(t.attr("data-uuid",this.uuid),t.addClass("y-popover-outer"),this.config.template)(e=s("<div>")).html(this.config.template);else{if(!this.config.templateUrl)throw"yPositiongetTemplateString() - Missing template";(e=s("<data-ng-include>")).attr("src","'"+this.config.templateUrl+"'")}return e.addClass("y-popover-inner"),t.append(e),t[0].outerHTML}.bind(this),this.hide=function(){this.popupDisplayed&&(p.unregister(this),this.popupElementScope&&(this.popupElementScope.$destroy(),this.popupElementScope=null),this.popupElement&&(this.popupElement.remove(),this.popupElement=null),i.yPopupOverlayOnHide&&o(function(){e.$eval(i.yPopupOverlayOnHide)}),this.resetPopupSize()),this.popupDisplayed=!1}.bind(this),this.show=function(){if(!this.popupDisplayed){this.popupElement=this.getTemplateString(),this.popupElementScope=e.$new(!1),this.popupElement=r(this.popupElement)(this.popupElementScope);var t=l()?s("#"+h):s("body");this.updatePopupElementPositionAndSize(),this.popupElement.appendTo(t),angular.element(function(){this.updatePopupElementPositionAndSize(),p.register(this),i.yPopupOverlayOnShow&&o(function(){e.$eval(i.yPopupOverlayOnShow)})}.bind(this))}this.popupDisplayed=!0}.bind(this),this.updateTriggers=function(e){if(void 0===e&&(e="click"),this.oldTrigger!==e){if(this.oldTrigger=e,this.untrigger&&this.untrigger(),"click"===e)return angular.element(t).on("click",this.togglePoppup),void(this.untrigger=function(){angular.element(t).off("click",this.togglePoppup)});"true"===e||!0===e?this.show():this.hide()}}.bind(this),this.onBodyElementClicked=function(e){if(this.popupElement){var n=isChildOfElement(this.popupElement,e.target),r=isChildOfElement(t,e.target);if(!n&&!r)return this.hide(),e.stopPropagation(),e.preventDefault(),!0}return!1}.bind(this),this.resetPopupSize=function(){this.popupSize={width:0,height:0}}.bind(this),this.$doCheck=function(){if(this.active){this.checkPopupSizeChanged();var t=a(i.yPopupOverlayTrigger)(e);t!==this.doCheckTrigger&&(this.doCheckTrigger=t,this.updateTriggers(t))}}.bind(this),this.$onInit=function(){this.uuid=c.uniqueId(d),this.popupDisplayed=!1,this.config=e.$eval(i.yPopupOverlay),this.resetPopupSize(),this.updateTriggers(),this.active="undefined"!==this.config},this.$onDestroy=function(){this.untrigger&&this.untrigger(),this.hide()}.bind(this)};this.$doCheck=function(){f.$doCheck()},this.$onInit=function(){f.$onInit()},this.$onDestroy=function(){f.$onDestroy()},e.closePopupOverlay=function(){f.hide()}.bind(this)}])},function(e,t){angular.module("yPopupOverlayUtilsModule",[]).service("yPopupOverlayUtilsClickOrderService",["$document","$log",function(e,t){var n=[];function clickHandler(e){n.length>0&&n[0].onBodyElementClicked(e)}this.register=function(r){-1===n.indexOf(r)?(0===n.length&&angular.element(e[0].body).on("click",clickHandler),n.unshift(r)):t.warn("yPopupOverlayUtilsClickOrderService.onHide() - instance already registered")},this.unregister=function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&angular.element(e[0].body).off("click",clickHandler)}}]).service("yPopupOverlayUtilsDOMCalculations",["$window","$document",function(e,t){this.calculatePreferredPosition=function(t,n,r,i,o){var a=e.pageXOffset,s=e.pageYOffset,c={width:n,height:r};switch(i){case"top":c.top=t.top+s-r;break;case"bottom":default:c.top=t.bottom+s}switch(o){case"left":c.left=t.right+a-n;break;case"right":default:c.left=t.left+a}return c},this.adjustHorizontalToBeInViewport=function(n){if(n.width>=e.innerWidth)n.left=0,n.width=e.innerWidth;else{var r=function getScrollBarWidth(){if(t[0].body.scrollHeight>t[0].body.clientHeight){var e=t[0].createElement("p");e.style.width="100%",e.style.height="200px";var n=t[0].createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(e),t[0].body.appendChild(n);var r=e.offsetWidth;n.style.overflow="scroll";var i=e.offsetWidth;return r===i&&(i=n.clientWidth),t[0].body.removeChild(n),r-i}return 0}();n.left-e.pageXOffset+n.width>=e.innerWidth-r&&(n.left=e.innerWidth-n.width-r),n.left-e.pageXOffset<=0&&(n.left=e.pageXOffset)}}}])},function(e,t){angular.module("authenticationInterfaceModule",[]).factory("DEFAULT_AUTH_MAP",["I18N_ROOT_RESOURCE_URI","DEFAULT_AUTHENTICATION_ENTRY_POINT",function(e,t){var n={};return n["^(?!"+e+"/.*$).*$"]=t,n}]).factory("DEFAULT_CREDENTIALS_MAP",["DEFAULT_AUTHENTICATION_ENTRY_POINT","DEFAULT_AUTHENTICATION_CLIENT_ID",function(e,t){var n={};return n[e]={client_id:t},n}]).factory("AuthenticationServiceInterface",function(){var e=function(){};return e.prototype.authenticate=function(){},e.prototype.logout=function(){},e.prototype.isReAuthInProgress=function(){},e.prototype.setReAuthInProgress=function(){},e.prototype.filterEntryPoints=function(){},e.prototype.isAuthEntryPoint=function(){},e.prototype.isAuthenticated=function(){},e})},function(e,t){angular.module("browserServiceModule",[]).constant("SUPPORTED_BROWSERS",{IE:"IE",CHROME:"Chrome",FIREFOX:"Firefox",EDGE:"Edge",SAFARI:"Safari",UNKNOWN:"Uknown"}).service("browserService",["$window","SUPPORTED_BROWSERS",function(e,t){this.getCurrentBrowser=function(){var e=t.UNKNOWN;return"undefined"!=typeof InstallTrigger?e=t.FIREFOX:document.documentMode?e=t.IE:window.StyleMedia?e=t.EDGE:window.chrome&&window.chrome.webstore?e=t.CHROME:this._isSafari()&&(e=t.SAFARI),e}.bind(this),this._isSafari=function(){var t=e.navigator.userAgent,n=e.navigator.vendor,r=/constructor/i.test(function HTMLElementConstructor(){}),i=n&&n.indexOf("Apple")>-1&&t&&!t.match("CriOS");return r||i},this.isIE=function(){return this.getCurrentBrowser()===t.IE},this.isFF=function(){return this.getCurrentBrowser()===t.FIREFOX},this.isSafari=function(){return this.getCurrentBrowser()===t.SAFARI},this.getBrowserLocale=function(){var e=window.navigator.language.split("-");return 1===e.length?e[0]:e[0]+"_"+e[1].toUpperCase()}}])},function(e,t){angular.module("catalogVersionPermissionServiceInterfaceModule",[]).service("CatalogVersionPermissionServiceInterface",function(){var e=function(){};return e.prototype.hasWritePermission=function(){},e.prototype.hasReadPermission=function(){},e.prototype.hasWritePermissionOnCurrent=function(){},e.prototype.hasReadPermissionOnCurrent=function(){},e.prototype.hasSyncPermission=function(){},e.prototype.hasSyncPermissionFromCurrentToActiveCatalogVersion=function(){},e.prototype.hasSyncPermissionToActiveCatalogVersion=function(){},e})},function(e,t){angular.module("seConstantsModule",[]).constant("OVERLAY_ID","smarteditoverlay").constant("COMPONENT_CLASS","smartEditComponent").constant("OVERLAY_COMPONENT_CLASS","smartEditComponentX").constant("SMARTEDIT_ATTRIBUTE_PREFIX","data-smartedit-").constant("ID_ATTRIBUTE","data-smartedit-component-id").constant("UUID_ATTRIBUTE","data-smartedit-component-uuid").constant("ELEMENT_UUID_ATTRIBUTE","data-smartedit-element-uuid").constant("CATALOG_VERSION_UUID_ATTRIBUTE","data-smartedit-catalog-version-uuid").constant("TYPE_ATTRIBUTE","data-smartedit-component-type").constant("CONTAINER_ID_ATTRIBUTE","data-smartedit-container-id").constant("CONTAINER_TYPE_ATTRIBUTE","data-smartedit-container-type").constant("CONTENT_SLOT_TYPE","ContentSlot").constant("SMARTEDIT_IFRAME_ID","ySmartEditFrame").constant("SMARTEDIT_IFRAME_WRAPPER_ID","#js_iFrameWrapper").constant("SMARTEDIT_IFRAME_DRAG_AREA","ySmartEditFrameDragArea").constant("EVENT_TOGGLE_SMARTEDIT_IFRAME_DRAG_AREA","EVENT_TOGGLE_SMARTEDIT_IFRAME_DRAG_AREA").constant("SCROLL_AREA_CLASS","ySECmsScrollArea").constant("SMARTEDIT_ELEMENT_HOVERED","smartedit-element-hovered").constant("SMARTEDIT_DRAG_AND_DROP_EVENTS",{DRAG_DROP_CROSS_ORIGIN_START:"DRAG_DROP_CROSS_ORIGIN_START",DRAG_DROP_START:"EVENT_DRAG_DROP_START",DRAG_DROP_END:"EVENT_DRAG_DROP_END",TRACK_MOUSE_POSITION:"EVENT_TRACK_MOUSE_POSITION",DROP_ELEMENT:"EVENT_DROP_ELEMENT"}).constant("DATE_CONSTANTS",{ANGULAR_FORMAT:"short",MOMENT_FORMAT:"M/D/YY h:mm A",MOMENT_ISO:"YYYY-MM-DDTHH:mm:00ZZ",ISO:"yyyy-MM-ddTHH:mm:00Z"}).constant("EVENT_CONTENT_CATALOG_UPDATE","EVENT_CONTENT_CATALOG_UPDATE").constant("EVENT_PERSPECTIVE_CHANGED","EVENT_PERSPECTIVE_CHANGED").constant("EVENT_PERSPECTIVE_ADDED","EVENT_PERSPECTIVE_ADDED").constant("EVENT_PERSPECTIVE_UNLOADING","EVENT_PERSPECTIVE_UNLOADING").constant("EVENT_PERSPECTIVE_REFRESHED","EVENT_PERSPECTIVE_REFRESHED").constant("ALL_PERSPECTIVE","se.all").constant("NONE_PERSPECTIVE","se.none").constant("VALIDATION_MESSAGE_TYPES",{VALIDATION_ERROR:"ValidationError",WARNING:"Warning"}).constant("CONTRACT_CHANGE_LISTENER_PROCESS_EVENTS",{PROCESS_COMPONENTS:"contractChangeListenerProcessComponents",RESTART_PROCESS:"contractChangeListenerRestartProcess"}).constant("SMARTEDIT_COMPONENT_PROCESS_STATUS","smartEditComponentProcessStatus").constant("CONTRACT_CHANGE_LISTENER_COMPONENT_PROCESS_STATUS",{PROCESS:"processComponent",REMOVE:"removeComponent",KEEP_VISIBLE:"keepComponentVisible"}).constant("SORT_DIRECTIONS",{ASC:"asc",DESC:"desc"}).constant("EVENT_OUTER_FRAME_CLICKED","EVENT_OUTER_FRAME_CLICKED").constant("REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT","REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT").constant("SHOW_TOOLBAR_ITEM_CONTEXT","SHOW_TOOLBAR_ITEM_CONTEXT").constant("HIDE_TOOLBAR_ITEM_CONTEXT","HIDE_TOOLBAR_ITEM_CONTEXT").constant("EVENT_NOTIFICATION_CHANGED","EVENT_NOTIFICATION_CHANGED").constant("OVERLAY_RERENDERED_EVENT","overlayRerendered").constant("WHO_AM_I_RESOURCE_URI","/authorizationserver/oauth/whoami").constant("PREVIOUS_USERNAME_HASH","previousUsername").constant("EVENTS",{AUTHORIZATION_SUCCESS:"AUTHORIZATION_SUCCESS",USER_HAS_CHANGED:"USER_HAS_CHANGED",LOGOUT:"SE_LOGOUT_EVENT",CLEAR_PERSPECTIVE_FEATURES:"CLEAR_PERSPECTIVE_FEATURES",EXPERIENCE_UPDATE:"experienceUpdate",PERMISSION_CACHE_CLEANED:"PERMISSION_CACHE_CLEANED",PAGE_CHANGE:"PAGE_CHANGE",PAGE_CREATED:"PAGE_CREATED_EVENT",PAGE_DELETED:"PAGE_DELETED_EVENT",PAGE_SELECTED:"PAGE_SELECTED_EVENT",PAGE_RESTORED:"PAGE_RESTORED_EVENT"}).constant("CROSS_FRAME_EVENT","CROSS_FRAME_EVENT").constant("SELECTED_LANGUAGE","SELECTED_LANGUAGE").constant("SWITCH_LANGUAGE_EVENT","SWITCH_LANGUAGE_EVENT").constant("WHITE_LISTED_STOREFRONTS_CONFIGURATION_KEY","whiteListedStorefronts").constant("TIMEOUT_TO_RETRY_PUBLISHING",500).constant("OPERATION_CONTEXT",{BACKGROUND_TASKS:"Background Tasks",INTERACTIVE:"Interactive",NON_INTERACTIVE:"Non-Interactive",BATCH_OPERATIONS:"Batch Operations",TOOLING:"Tooling",CMS:"CMS"})},function(e,t){angular.module("_dragAndDropScrollingModule",["yjqueryModule","seConstantsModule","functionsModule"]).constant("THROTTLE_SCROLLING_DELAY",75).service("_dragAndDropScrollingService",["$window","$translate","yjQuery","lodash","isPointOverElement","inViewElementObserver","SCROLL_AREA_CLASS","THROTTLE_SCROLLING_DELAY",function(e,t,n,r,i,o,a,s){this._SCROLLING_AREA_HEIGHT=50,this._FAST_SCROLLING_AREA_HEIGHT=25,this._SCROLLING_STEP=5,this._FAST_SCROLLING_STEP=15,o.addSelector("#top_scroll_page"),o.addSelector("#bottom_scroll_page"),this._topScrollArea=null,this._bottomScrollArea=null,this._throttleScrollingEnabled=!1,this._initialize=function(){this._scrollable=this._getSelector(document.scrollingElement||document.documentElement),this._addScrollAreas(),this._addEventListeners(),this._scrollDelta=0,this._initialized=!0},this._deactivate=function(){this._removeEventListeners(),this._scrollDelta=0,this._initialized=!1},this._enable=function(){this._initialized&&(this._scrollLimitY=this._scrollable.get(0).scrollHeight-e.innerHeight,this._showScrollAreas())},this._disable=function(){if(this._initialized){var e=this._getScrollAreas();e.trigger("dragleave"),e.hide()}},this._addScrollAreas=function(){this._topScrollArea=this._getSelector('<div id="top_scroll_page" class="'+a+'"></div>').appendTo("body"),this._bottomScrollArea=this._getSelector('<div id="bottom_scroll_page" class="'+a+'"></div>').appendTo("body");var e,n,r=this._getScrollAreas();r.height(this._SCROLLING_AREA_HEIGHT),this._topScrollArea.css({top:0}),this._bottomScrollArea.css({bottom:0}),r.hide(),t("se.draganddrop.uihint.top").then(function(n){return e=n,t("se.draganddrop.uihint.bottom")}).then(function(t){n=t,this._topScrollArea.text(e),this._bottomScrollArea.text(n)}.bind(this))},this._addEventListeners=function(){var e=this._getScrollAreas();e.on("dragenter",this._onDragEnter.bind(this)),e.on("dragover",this._onDragOver.bind(this)),e.on("dragleave",this._onDragLeave.bind(this))},this._removeEventListeners=function(){var e=this._getScrollAreas();e.off("dragenter"),e.off("dragover"),e.off("dragleave"),e.remove()},this._onDragEnter=function(t){var n=this._SCROLLING_STEP;"top_scroll_page"===this._getSelector(t.target).attr("id")&&(n*=-1),this._scrollDelta=n,this._animationFrameId=e.requestAnimationFrame(this._scrollPage.bind(this))},this._onDragOver=function(t){var n=t.originalEvent;if("top_scroll_page"===this._getSelector(n.target).attr("id"))n.clientY<=this._FAST_SCROLLING_AREA_HEIGHT?this._scrollDelta=-this._FAST_SCROLLING_STEP:this._scrollDelta=-this._SCROLLING_STEP;else{var r=this._getSelector(e).height();n.clientY>=r-this._FAST_SCROLLING_AREA_HEIGHT?this._scrollDelta=this._FAST_SCROLLING_STEP:this._scrollDelta=this._SCROLLING_STEP}},this._onDragLeave=function(){this._scrollDelta=0,e.cancelAnimationFrame(this._animationFrameId)},this._scrollPage=function(){if(this._scrollDelta){var t=this._scrollable.scrollTop(),n=!1;if(this._scrollDelta>0&&t<this._scrollLimitY?n=!0:this._scrollDelta<0&&t>0&&(n=!0),n){var r=this._scrollable.scrollTop()+this._scrollDelta;this._scrollable.scrollTop(r),this._animationFrameId=e.requestAnimationFrame(this._throttleScrollingEnabled?this._throttledScrollPage:this._scrollPage.bind(this))}this._showScrollAreas()}},this._throttledScrollPage=r.throttle(this._scrollPage.bind(this),s),this._getSelector=function(e){return n(e)},this._getScrollAreas=function(){return n(["#top_scroll_page","#bottom_scroll_page"].join(","))},this._showScrollAreas=function(){var e=this._scrollable.scrollTop();0===e?this._topScrollArea.hide():this._topScrollArea.show(),e>=this._scrollLimitY?this._bottomScrollArea.hide():this._bottomScrollArea.show()},this.toggleThrottling=function(e){this._throttleScrollingEnabled=e}}])},function(e,t){angular.module("dragAndDropServiceModule",["yjqueryModule","yLoDashModule","_dragAndDropScrollingModule","seConstantsModule","smarteditServicesModule"]).constant("SEND_MOUSE_POSITION_THROTTLE",100).service("dragAndDropService",["$injector","$timeout","isBlank","yjQuery","lodash","_dragAndDropScrollingService","OVERLAY_COMPONENT_CLASS","inViewElementObserver","systemEventService","SMARTEDIT_DRAG_AND_DROP_EVENTS","dragAndDropCrossOrigin",function(e,t,n,r,i,o,a,s,c,l,d){this.configurations={},this._isDragAndDropExecuting=!1,d.initialize(),this.register=function(e){if(!e||!e.id)throw new Error("dragAndDropService - register(): Configuration needs an ID.");this.configurations[e.id]=e,n(e.targetSelector)||s.addSelector(e.targetSelector)},this.unregister=function(e){e.forEach(function(e){var t=this.configurations[e];t&&(this._deactivateConfiguration(t),this._deactivateScrolling(t),delete this.configurations[e])}.bind(this))},this.applyAll=function(){i.forEach(this.configurations,function(e){this.apply(e.id)}.bind(this))},this.apply=function(e){var t=this.configurations[e];t&&(this.update(t),this._cacheDragImages(t),this._initializeScrolling(t))},this.update=function(e){var t=this.configurations[e];t&&(this._deactivateConfiguration(t),this._update(t))},this._update=function(e){var t=this;(i.isArray(e.sourceSelector)?e.sourceSelector:[e.sourceSelector]).forEach(function(n){var r=this._getSelector(n).filter(function(){return!t._getSelector(this).attr("draggable")});r.attr("draggable",!0),r.on("dragstart",this._onDragStart.bind(this,e)),r.on("dragend",this._onDragEnd.bind(this,e))}.bind(this));var n=this._getSelector(e.targetSelector).filter(function(){return!t._getSelector(this).attr("data-droppable")});n.attr("data-droppable",!0),n.on("dragenter",this._onDragEnter.bind(this,e)),n.on("dragover",this._onDragOver.bind(this,e)),n.on("drop",this._onDrop.bind(this,e)),n.on("dragleave",this._onDragLeave.bind(this,e))},this._deactivateConfiguration=function(e){var t=this._getSelector(e.sourceSelector),n=this._getSelector(e.targetSelector);t.removeAttr("draggable"),n.removeAttr("data-droppable"),t.off("dragstart"),t.off("dragend"),n.off("dragenter"),n.off("dragover"),n.off("dragleave"),n.off("drop")},this._onDragStart=function(e,n){var i=n.originalEvent;this._setDragTransferData(e,i),t(function(){var t=r(n.target).closest("."+a);this._setDragAndDropExecutionStatus(!0,t),o._enable(),e.startCallback&&e.startCallback(i)}.bind(this),0)},this._onDragEnd=function(e,t){var n=t.originalEvent;o._disable(),this._isDragAndDropExecuting&&e.stopCallback&&e.stopCallback(n),this._setDragAndDropExecutionStatus(!1)},this._onDragEnter=function(e,t){var n=t.originalEvent;n.preventDefault(),this._isDragAndDropExecuting&&e.dragEnterCallback&&e.dragEnterCallback(n)},this._onDragOver=function(e,t){var n=t.originalEvent;n.preventDefault(),this._isDragAndDropExecuting&&e.dragOverCallback&&e.dragOverCallback(n)},this._onDrop=function(e,t){var n=t.originalEvent;if(n.preventDefault(),n.stopPropagation(),(!n.relatedTarget||3!==n.relatedTarget.nodeType)&&n.target!==n.relatedTarget)return this._isDragAndDropExecuting&&e.dropCallback&&e.dropCallback(n),!1},this._onDragLeave=function(e,t){var n=t.originalEvent;n.preventDefault(),this._isDragAndDropExecuting&&e.outCallback&&e.outCallback(n)},this._cacheDragImages=function(e){var t=null;e.helper&&(t=e.helper()),t&&("string"==typeof t?(e._cachedDragImage=new Image,e._cachedDragImage.src=t):e._cachedDragImage=t)},this._setDragTransferData=function(e,t){t.dataTransfer.setData("Text",e.id),e._cachedDragImage&&t.dataTransfer.setDragImage&&t.dataTransfer.setDragImage(e._cachedDragImage,0,0)},this._getSelector=function(e){return r(e)},this.markDragStarted=function(){this._setDragAndDropExecutionStatus(!0),o._enable()},this.markDragStopped=function(){this._setDragAndDropExecutionStatus(!1),o._disable()},this._setDragAndDropExecutionStatus=function(e,t){this._isDragAndDropExecuting=e,c.publish(e?l.DRAG_DROP_START:l.DRAG_DROP_END,t)},this._initializeScrolling=function(e){e.enableScrolling&&this._browserRequiresCustomScrolling()&&o._initialize()},this._deactivateScrolling=function(e){e.enableScrolling&&this._browserRequiresCustomScrolling()&&o._deactivate()},this._browserRequiresCustomScrolling=function(){return!0}}])},function(e,t){angular.module("eventServiceModule",["functionsModule"]).constant("EVENT_SERVICE_MODE_ASYNCH","EVENT_SERVICE_MODE_ASYNCH").constant("EVENT_SERVICE_MODE_SYNCH","EVENT_SERVICE_MODE_SYNCH").constant("EVENTS",{AUTHORIZATION_SUCCESS:"AUTHORIZATION_SUCCESS",LOGOUT:"SE_LOGOUT_EVENT",CLEAR_PERSPECTIVE_FEATURES:"CLEAR_PERSPECTIVE_FEATURES",EXPERIENCE_UPDATE:"experienceUpdate",PAGE_CHANGE:"PAGE_CHANGE",PAGE_CREATED:"PAGE_CREATED_EVENT",PAGE_DELETED:"PAGE_DELETED_EVENT"}).factory("EventService",["$timeout","$q","$log","toPromise","EVENT_SERVICE_MODE_ASYNCH","EVENT_SERVICE_MODE_SYNCH",function(e,t,n,r,i,o){return function(a){this.eventHandlers={},this.mode=i,a!==i&&a!==o||(this.mode=a),this._recursiveCallToEventHandlers=function(e,n){return t.all(this.eventHandlers[e].map(function(t){return r(t)(e,n)})).then(function(e){return e.pop()})},this.sendEvent=function(e,t){if(this.mode===i)this.sendAsynchEvent(e,t);else{if(this.mode!==o)throw"Unknown event service mode: "+this.mode;this.sendSynchEvent(e,t)}},this.sendSynchEvent=function(e,r){var i=t.defer();return e?(this.eventHandlers[e]&&this.eventHandlers[e].length>0?this._recursiveCallToEventHandlers(e,r).then(function(e){i.resolve(e)},function(e){i.reject(e)}):i.resolve(),i.promise):(n.error("Failed to send event. No event ID provided for data: "+r),void i.reject())},this.sendAsynchEvent=function(n,r){var i=t.defer();return e(function(){this.sendSynchEvent(n,r).then(function(e){i.resolve(e)},function(e){i.reject(e)})}.bind(this),0),i.promise},this.registerEventHandler=function(e,t){if(e&&t)return void 0===this.eventHandlers[e]&&(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t),function(){this.unRegisterEventHandler(e,t)}.bind(this);n.error("Failed to register event handler for event: "+e)},this.unRegisterEventHandler=function(e,t){var r=this.eventHandlers[e]?this.eventHandlers[e].indexOf(t):-1;r>=0?this.eventHandlers[e].splice(r,1):n.warn("Attempting to remove event handler for "+e+" but handler not found.")}}}])},function(e,t){angular.module("l10nModule",["smarteditServicesModule"]).filter("l10n",["languageService","crossFrameEventService","SWITCH_LANGUAGE_EVENT",function(e,t,n){var r;function prepareFilter(){(r=function initialFilter(e){return e+" filtered initially"}).$stateful=!1,e.getResolveLocaleIsoCode().then(function(e){(r=function localizedFilter(t){return"string"==typeof t?t:t?t[e]?t[e]:t[Object.keys(t)[0]]:void 0}).$stateful=!1})}return prepareFilter(),t.subscribe(n,prepareFilter),function(e){return r(e)}}])},function(e,t){angular.module("nonvalidationErrorInterceptorModule",["alertServiceModule"]).factory("nonValidationErrorInterceptor",["$q","alertService",function(e,t){return{predicate:function(e){return 400===e.status},responseError:function(n){return n.data&&n.data.errors&&n.data.errors.filter(function(e){return"ValidationError"!==e.type}).forEach(function(e){t.showDanger({message:e.message||"se.unknown.request.error",timeout:1e4})}),e.reject(n)}}}])},function(e,t){angular.module("permissionErrorInterceptorModule",["alertServiceModule"]).factory("permissionErrorInterceptor",["$q","alertService",function(e,t){return{predicate:function(e){return 403===e.status},responseError:function(n){return n.data&&n.data.errors&&n.data.errors.filter(function(e){return"TypePermissionError"===e.type}).forEach(function(e){t.showDanger({message:e.message,timeout:1e4})}),e.reject(n)}}}])},function(e,t){angular.module("previewErrorInterceptorModule",["resourceLocationsModule","smarteditServicesModule","functionsModule"]).factory("previewErrorInterceptor",["$injector","$q","$log","PREVIEW_RESOURCE_URI","sharedDataService","isBlank",function(e,t,n,r,i,o){return{predicate:function(e){return 400===e.status&&e.config.url.indexOf(r)>-1&&!o(e.config.data.pageId)&&function _hasUnknownIdentifierError(e){return!!e.filter(function(e){return"UnknownIdentifierError"===e.type}).length}(e.data.errors)},responseError:function(r){return n.info("The error 400 above on preview is expected in some scenarios, typically when switching catalogs from experience selector."),n.info("Removing the pageId ["+r.config.data.pageId+"] and creating a preview for homepage"),delete r.config.data.pageId,i.update("experience",function(e){return delete e.pageId,e}),e.get("iframeManagerService").setCurrentLocation(null),t.when(e.get("$http")(r.config))}}}])},function(e,t){angular.module("resourceNotFoundErrorInterceptorModule",["alertServiceModule","resourceLocationsModule","httpRequestUtilModule"]).factory("resourceNotFoundErrorInterceptor",["$q","alertService","httpRequestUtil","LANGUAGE_RESOURCE_URI",function(e,t,n,r){return{predicate:function(e){return 404===e.status&&!n.isHTMLRequest(e)&&!function _isLanguageResourceRequest(e){return new RegExp(r.replace(/\:.*\//g,".*/")).test(e)}(e.config.url)},responseError:function(n){return t.showDanger({message:n.message||"se.unknown.request.error",timeout:1e4}),e.reject(n)}}}])},function(e,t){angular.module("retryInterceptorModule",["functionsModule","smarteditCommonsModule","httpMethodPredicatesModule","httpErrorPredicatesModule","operationContextPredicatesModule","defaultRetryStrategyModule","exponentialRetryStrategyModule","linearRetryStrategyModule","alertServiceModule"]).factory("retryInterceptor",["$http","$q","$timeout","$translate","operationContextService","alertService","OPERATION_CONTEXT","isAllTruthy","isAnyTruthy","noInternetConnectionErrorPredicate","readPredicate","updatePredicate","clientErrorPredicate","timeoutErrorPredicate","serverErrorPredicate","retriableErrorPredicate","operationContextInteractivePredicate","operationContextNonInteractivePredicate","operationContextCMSPredicate","operationContextToolingPredicate","defaultRetryStrategy","exponentialRetryStrategy","linearRetryStrategy",function(e,t,n,r,i,o,a,s,c,l,d,u,p,h,f,m,g,v,y,S,E,_,b){var C=[],T=function(e){var t=i.findOperationContext(e.config.url)||a.INTERACTIVE,n=C.find(function(n){return n.predicate(e,t)});return n?n.retryStrategy:null},I=function(i){var a=i.config.retryStrategy;if(a.attemptCount++,a.canRetry()){var s=t.defer(),c=a.firstFastRetry?0:a.calculateNextDelay();return a.firstFastRetry=!1,n(function(){s.resolve(e(i.config))},c),s.promise}return o.showDanger({message:r.instant("se.gracefuldegradation.somethingwrong")}),t.reject(i)},w={predicate:function(e){return null!==T(e)},responseError:function(e){if(e.config.retryStrategy)return t.when(I(e));var n=T(e);if(n){o.showWarning({message:r.instant("se.gracefuldegradation.stillworking")});var i=new n;return i.attemptCount=0,e.config.retryStrategy=i,t.when(I(e))}return t.reject(e)},register:function(e,t){if("function"!=typeof e)throw new Error("retryInterceptor.register error: predicate must be a function");if("function"!=typeof t)throw new Error("retryInterceptor.register error: strategyHolder must be a function");return C.unshift({predicate:e,retryStrategy:t}),this}};return w.register(l,_).register(c(p,h),E).register(s(g,m),E).register(s(d,m),E).register(f,_).register(s(v,m),_).register(s(y,h,u),_).register(s(S,h,u),b),w}])},function(e,t){angular.module("httpErrorPredicatesModule",["yLoDashModule","functionsModule"]).constant("SERVER_ERROR_PREDICATE_HTTP_STATUSES",[500,502,503,504]).constant("CLIENT_ERROR_PREDICATE_HTTP_STATUSES",[429]).constant("TIMEOUT_ERROR_PREDICATE_HTTP_STATUSES",[408]).service("serverErrorPredicate",["lodash","SERVER_ERROR_PREDICATE_HTTP_STATUSES",function(e,t){return function(n){return e.includes(t,n.status)}}]).service("clientErrorPredicate",["lodash","CLIENT_ERROR_PREDICATE_HTTP_STATUSES",function(e,t){return function(n){return e.includes(t,n.status)}}]).service("timeoutErrorPredicate",["lodash","TIMEOUT_ERROR_PREDICATE_HTTP_STATUSES",function(e,t){return function(n){return e.includes(t,n.status)}}]).service("retriableErrorPredicate",["isAnyTruthy","serverErrorPredicate","clientErrorPredicate","timeoutErrorPredicate",function(e,t,n,r){return function(i){return e(t,n,r)(i)}}]).service("noInternetConnectionErrorPredicate",function(){return function(e){return 0===e.status}})},function(e,t){angular.module("httpMethodPredicatesModule",["yLoDashModule"]).constant("HTTP_METHODS_UPDATE",["PUT","POST","DELETE","PATCH"]).constant("HTTP_METHODS_READ",["GET","OPTIONS","HEAD"]).service("updatePredicate",["lodash","HTTP_METHODS_UPDATE",function(e,t){return function(n){return e.includes(t,n.config.method)}}]).service("readPredicate",["lodash","HTTP_METHODS_READ",function(e,t){return function(n){return e.includes(t,n.config.method)}}])},function(e,t){angular.module("operationContextPredicatesModule",["seConstantsModule","yLoDashModule"]).service("operationContextInteractivePredicate",["OPERATION_CONTEXT",function(e){return function(t,n){return n===e.INTERACTIVE}}]).service("operationContextNonInteractivePredicate",["OPERATION_CONTEXT","lodash",function(e,t){return function(n,r){return t.includes([e.BACKGROUND_TASKS,e.NON_INTERACTIVE,e.BATCH_OPERATIONS],r)}}]).service("operationContextCMSPredicate",["OPERATION_CONTEXT",function(e){return function(t,n){return n===e.CMS}}]).service("operationContextToolingPredicate",["OPERATION_CONTEXT",function(e){return function(t,n){return n===e.TOOLING}}])},function(e,t){angular.module("exponentialRetrylModule",[]).constant("EXPONENTIAL_RETRY_DEFAULT_SETTING",{MAX_BACKOFF:64e3,MAX_ATTEMPT:5,MIN_BACKOFF:0}).service("exponentialRetry",["EXPONENTIAL_RETRY_DEFAULT_SETTING",function(e){this.calculateNextDelay=function(t,n,r){n=n||e.MAX_BACKOFF;var i=(r=r||e.MIN_BACKOFF)+Math.random();return Math.min(1e3*Math.pow(2,t)+i,n)},this.canRetry=function(t,n){return t<=(n=n||e.MAX_ATTEMPT)}}])},function(e,t){angular.module("linearRetrylModule",[]).constant("LINEAR_RETRY_DEFAULT_SETTING",{MAX_ATTEMPT:5,MAX_BACKOFF:32e3,MIN_BACKOFF:0,RETRY_INTERVAL:500}).service("linearRetry",["LINEAR_RETRY_DEFAULT_SETTING",function(e){this.calculateNextDelay=function(t,n,r,i){r=r||e.MAX_BACKOFF,i=i||e.MIN_BACKOFF,n=n||e.RETRY_INTERVAL;var o=i+Math.random();return Math.min(t*n+o,r)},this.canRetry=function(t,n){return t<=(n=n||e.MAX_ATTEMPT)}}])},function(e,t){angular.module("simpleRetrylModule",[]).constant("SIMPLE_RETRY_DEFAULT_SETTING",{MAX_ATTEMPT:5,MIN_BACKOFF:0,RETRY_INTERVAL:500}).service("simpleRetry",["SIMPLE_RETRY_DEFAULT_SETTING",function(e){this.calculateNextDelay=function(t,n){return n=n||e.MIN_BACKOFF,(t=t||e.RETRY_INTERVAL)+(n+Math.random())},this.canRetry=function(t,n){return t<=(n=n||e.MAX_ATTEMPT)}}])},function(e,t){angular.module("defaultRetryStrategyModule",["simpleRetrylModule"]).factory("defaultRetryStrategy",["simpleRetry",function(e){var t=function(){this.firstFastRetry=!0};return t.prototype.canRetry=function(){return e.canRetry(this.attemptCount)},t.prototype.calculateNextDelay=function(){return e.calculateNextDelay()},t}])},function(e,t){angular.module("exponentialRetryStrategyModule",["exponentialRetrylModule"]).factory("exponentialRetryStrategy",["exponentialRetry",function(e){var t=function(){this.firstFastRetry=!0};return t.prototype.canRetry=function(){return e.canRetry(this.attemptCount)},t.prototype.calculateNextDelay=function(){return e.calculateNextDelay(this.attemptCount)},t}])},function(e,t){angular.module("linearRetryStrategyModule",["linearRetrylModule"]).factory("linearRetryStrategy",["linearRetry",function(e){var t=function(){this.firstFastRetry=!0};return t.prototype.canRetry=function(){return e.canRetry(this.attemptCount)},t.prototype.calculateNextDelay=function(){return e.calculateNextDelay(this.attemptCount)},t}])},function(e,t){angular.module("retryStrategyInterfaceModule",[]).factory("RetryStrategyInterface",function(){return function(){this.canRetry=function(){},this.calculateNextDelay=function(){}}})},function(e,t){angular.module("unauthorizedErrorInterceptorModule",["authenticationModule","smarteditServicesModule"]).factory("unauthorizedErrorInterceptor",["$injector","$q","authenticationService","WHO_AM_I_RESOURCE_URI",function(e,t,n,r){var i={},o=[r];return{predicate:function(e){return 401===e.status&&(!e.config||!e.config.url||function(e){return!o.some(function(t){return 0===e.indexOf(t)})}(e.config.url))},responseError:function(r){var o=t.defer();return n.isAuthEntryPoint(r.config.url).then(function(e){e?o.reject(r):n.filterEntryPoints(r.config.url).then(function(e){var t=e[0];i[t]=i[t]||[],i[t].push(o),n.isReAuthInProgress(t).then(function(e){e||n.setReAuthInProgress(t).then(function(){n.authenticate(r.config.url).then(function(){angular.forEach(i[this],function(e){e.resolve()}),i[this]=[]}.bind(t),function(){angular.forEach(i[this],function(e){e.reject()}),i[this]=[]}.bind(t))})}.bind(this))})}),o.promise.then(function(){return e.get("$http")(r.config)})}}}])},function(e,t){angular.module("httpErrorInterceptorServiceModule",["interceptorHelperModule"]).factory("httpErrorInterceptor",["httpErrorInterceptorService","interceptorHelper",function(e,t){return{responseError:function(n){return t.handleResponseError(n,function(){return e.responseError(n)})}}}]).service("httpErrorInterceptorService",["$injector","$log","$q",function(e,t,n){this._errorInterceptors=[],this._interceptorsDeferred=n.defer(),this.addInterceptor=function(t){if("string"==typeof t){if(!e.has(t))throw"httpErrorInterceptorService.interceptor.undefined";t=e.get(t)}return this._validateInterceptor(t),this._errorInterceptors.unshift(t),function(){this._errorInterceptors.splice(this._errorInterceptors.indexOf(t),1)}.bind(this)},this.responseError=function(e){var t=this._errorInterceptors.filter(function(t){return!0===t.predicate(e)});return this._interceptorsDeferred=n.defer(),t.length?this._iterateErrorInterceptors(angular.copy(e),t):this._interceptorsDeferred.reject(e),this._interceptorsDeferred.promise},this._iterateErrorInterceptors=function(e,t,r){if(r===t.length)this._interceptorsDeferred.reject(e);else{var i=this._interceptorsDeferred,o=this._iterateErrorInterceptors.bind(this);r=r||0,n.when(t[r].responseError(e)).then(function(e){i.resolve(e)},function(e){o(e,t,++r)})}},this._validateInterceptor=function(e){if("function"!=typeof e.predicate)throw new Error("httpErrorInterceptorService.addInterceptor.error.interceptor.has.no.predicate");if("function"!=typeof e.responseError)throw new Error("httpErrorInterceptorService.addInterceptor.error.interceptor.has.no.responseError")}}]).config(["$httpProvider",function(e){e.interceptors.push("httpErrorInterceptor")}])},function(e,t){angular.module("httpRequestUtilModule",[]).service("httpRequestUtil",function(){this.isHTMLRequest=function(e){return"GET"===e.config.method&&e.headers("Content-type").indexOf("text/html")>=0}})},function(e,t){angular.module("experienceInterceptorModule",["interceptorHelperModule","functionsModule","smarteditServicesModule","smarteditServicesModule","resourceLocationsModule","yLoDashModule"]).factory("experienceInterceptor",["lodash","sharedDataService","interceptorHelper","CONTEXT_CATALOG","CONTEXT_CATALOG_VERSION","CMSWEBSERVICES_PATH","CONTEXT_SITE_ID","PAGE_CONTEXT_CATALOG","PAGE_CONTEXT_CATALOG_VERSION","PAGE_CONTEXT_SITE_ID",function(e,t,n,r,i,o,a,s,c,l){var d=function(e,t){var n=new RegExp(Object.keys(t).join("|"),"g");return e.replace(n,function(e){return t[e]})},u={};return u.request=function request(e){return n.handleRequest(e,function(){return o.test(e.url)?t.get("experience").then(function(t){if(t){var n={};n.CONTEXT_SITE_ID_WITH_COLON=t.siteDescriptor.uid,n.CONTEXT_CATALOG_VERSION_WITH_COLON=t.catalogDescriptor.catalogVersion,n.CONTEXT_CATALOG_WITH_COLON=t.catalogDescriptor.catalogId,n[a]=t.siteDescriptor.uid,n[i]=t.catalogDescriptor.catalogVersion,n[r]=t.catalogDescriptor.catalogId,n[l]=t.pageContext?t.pageContext.siteId:t.siteDescriptor.uid,n[c]=t.pageContext?t.pageContext.catalogVersion:t.catalogDescriptor.catalogVersion,n[s]=t.pageContext?t.pageContext.catalogId:t.catalogDescriptor.catalogId,e.url=d(e.url,n),e.params&&"object"==typeof e.params&&(e.params=JSON.parse(d(JSON.stringify(e.params),n)))}return e}):e})}.bind(u),u}]).config(["$httpProvider",function(e){e.interceptors.push("experienceInterceptor")}])},function(e,t){angular.module("httpAuthInterceptorModule",["interceptorHelperModule","authenticationModule","smarteditServicesModule"]).factory("httpAuthInterceptor",["$log","$injector","interceptorHelper",function(e,t,n){return{request:function(r){return n.handleRequest(r,function(){return t.get("authenticationService").filterEntryPoints(r.url).then(function(n){return n&&n.length?t.get("storageService").getAuthToken(n[0]).then(function(t){return e.debug(["Intercepting request "+(t?"adding access token":"no access token found"),r.url].join(" ")),t&&(r.headers.Authorization=t.token_type+" "+t.access_token),r}):r},function(){return r})})}}}]).config(["$httpProvider",function(e){e.interceptors.push("httpAuthInterceptor")}])},function(e,t){angular.module("i18nInterceptorModule",["interceptorHelperModule","resourceLocationsModule","smarteditServicesModule"]).constant("I18NAPIROOT","i18nAPIRoot").constant("UNDEFINED_LOCALE","UNDEFINED").factory("i18nInterceptor",["$injector","interceptorHelper","I18N_RESOURCE_URI","I18NAPIROOT",function(e,t,n,r){return{request:function(i){return t.handleRequest(i,function(){return new RegExp(r+"/([a-zA-Z_-]+)$").test(i.url)?e.get("languageService").getResolveLocale().then(function(e){return i.url=[n,e].join("/"),i}):i})},response:function(r){return t.handleResponse(r,function(){var t=new RegExp(n+"/([a-zA-Z_-]+)$");if(r.config.url){var i=r.config.url;t.test(i)&&r.data.value&&(r.data=r.data.value)}return e.get("languageService").setInitialized(!0),r})}}}]).config(["$httpProvider",function(e){e.interceptors.push("i18nInterceptor")}])},function(e,t){angular.module("interceptorHelperModule",[]).service("interceptorHelper",["$q","$log",function(e,t){return{_isEligibleForInterceptors:function(e){return e&&e.url&&!/.+\.html$/.test(e.url)},_handle:function(n,r,i,o){try{return this._isEligibleForInterceptors(r)?e.when(i()):o?e.reject(n):n}catch(r){return t.error("caught error in one of the interceptors",r),o?e.reject(n):n}},handleRequest:function(e,t){return this._handle(e,e,t,!1)},handleResponse:function(e,t){return this._handle(e,e.config,t,!1)},handleResponseError:function(e,t){return this._handle(e,e.config,t,!0)}}}])},function(e,t){angular.module("loadConfigModule",["functionsModule","ngResource","smarteditServicesModule","resourceLocationsModule"]).factory("LoadConfigManager",["$resource","copy","$q","convertToArray","sharedDataService","operationContextService","$log","SMARTEDIT_ROOT","SMARTEDIT_RESOURCE_URI_REGEXP","CONFIGURATION_URI","OPERATION_CONTEXT",function(e,t,n,r,i,o,a,s,c,l,d){var u=function(){o.register(l,d.TOOLING),this.editorViewService=e(l),this.configuration=[],this._convertToObject=function(e){var t=e.reduce(function(e,t){try{void 0!==e[t.key]&&a.error("LoadConfigManager._convertToObject() - duplicate configuration keys found: "+t.key),e[t.key]=JSON.parse(t.value)}catch(e){a.error("item _key_ from configuration contains unparsable JSON data _value_ and was ignored".replace("_key_",t.key).replace("_value_",t.value))}return e},{});return t.domain=c.exec(this._getLocation())[1],t.smarteditroot=t.domain+"/"+s,t},this._getLocation=function(){return document.location.href}};return u.prototype._parse=function(e){var n=t(e);return Object.keys(n).forEach(function(e){try{n[e]=JSON.parse(n[e])}catch(e){}}),n},u.prototype.loadAsArray=function(){var e=n.defer();return this.editorViewService.query().$promise.then(function(t){e.resolve(this._parse(t))}.bind(this),function(){a.log("Fail to load the configurations."),e.reject()}),e.promise},u.prototype.loadAsObject=function(){var e=n.defer();return this.loadAsArray().then(function(t){try{var n=this._convertToObject(t);i.set("configuration",n),e.resolve(n)}catch(t){a.error("LoadConfigManager.loadAsObject - _convertToObject failed to load configuration"),a.error(t),e.reject()}}.bind(this),function(t){a.error("LoadConfigManager.loadAsObject - loadAsArray failed to load configuration"),a.error(t),e.reject()}),e.promise},u}]).factory("loadConfigManagerService",["LoadConfigManager",function(e){return new e}])},function(e,t){angular.module("modalServiceModule",["ui.bootstrap","translationServiceModule","functionsModule","coretemplates"]).constant("MODAL_BUTTON_ACTIONS",{NONE:"none",CLOSE:"close",DISMISS:"dismiss"}).constant("MODAL_BUTTON_STYLES",{DEFAULT:"default",PRIMARY:"primary",SECONDARY:"default"}).factory("modalService",["$uibModal","$injector","$controller","$rootScope","$templateCache","$translate","$log","MODAL_BUTTON_ACTIONS","MODAL_BUTTON_STYLES","merge","copy","generateIdentifier",function(e,t,n,r,i,o,a,s,c,l,d,u){function ModalManager(e){var t,n=!0,r=null,i=[];if(!e.modalInstance)throw"no.modalInstance.injected";if(this.closeFunction=e.modalInstance.close,this.dismissFunction=e.modalInstance.dismiss,this._defaultButtonOptions={id:"button.id",label:"button.label",action:s.NONE,style:c.PRIMARY,disabled:!1,callback:null},this._createButton=function(e){var t=d(this._defaultButtonOptions);l(t,e||{}),o(t.label).then(function(e){t.label=e});var n=!1;for(var r in c)if(c[r]===t.style){n=!0;break}if(!n)throw"modalService.ModalManager._createButton.illegal.button.style";var i=!1;for(var a in s)if(s[a]===t.action){i=!0;break}if(!i)throw"modalService.ModalManager._createButton.illegal.button.action";return t},this.title="","string"==typeof e.title&&(this.title=e.title),"string"==typeof e.titleSuffix&&(this.titleSuffix=e.titleSuffix),e.buttons)for(var a=0;a<e.buttons.length;a++)i.push(this._createButton(e.buttons[a]));this._buttonPressed=function(e){var n=null;if(e.callback?n=e.callback():t&&(n=t(e.id)),e.action!==s.NONE){var r=e.action===s.CLOSE?this.close:this.dismiss;n?n.then(function(e){r.call(this,e)}.bind(this)):r.call(this)}},this._handleDismissButton=function(){r?r().then(function(e){this.dismiss(e)}.bind(this)):this.dismiss()},this._showDismissButton=function(){return n},this._hasButtons=function(){return i.length>0},this.addButton=function(e){var t=this._createButton(e);return i.push(t),t},this.getButtons=function(){return i},this.removeAllButtons=function(){i.splice(0,i.length)},this.removeButton=function(e){for(var t=i.length-1;t>=0;t--)i[t].id===e&&i.splice(t,1)},this.enableButton=function(e){for(var t=0;t<i.length;t++)i[t].id===e&&(i[t].disabled=!1)},this.disableButton=function(e){for(var t=0;t<i.length;t++)i[t].id===e&&(i[t].disabled=!0)},this.getButton=function(e){for(var t=0;t<i.length;t++)if(i[t].id===e)return i[t];return null},this.setShowHeaderDismiss=function(e){if("boolean"!=typeof e)throw"modalService.ModalManager.showDismissX.illegal.param";n=e},this.setDismissCallback=function(e){r=e},this.setButtonHandler=function(e){t=e}}function ModalOpener(){}return ModalManager.prototype.close=function(e){this.closeFunction&&this.closeFunction(e)},ModalManager.prototype.dismiss=function(e){this.dismissFunction&&this.dismissFunction(e)},ModalOpener.prototype.open=function(r){var o=r||{};if(!o.templateUrl&&!o.templateInline)throw"modalService.configuration.errors.no.template.provided";if(o.templateUrl&&o.templateInline)throw"modalService.configuration.errors.2.templates.provided";return e.open({templateUrl:"modalTemplate.html",size:o.size||"lg",backdrop:"static",keyboard:!1,controller:function getControllerClass(e){var t=this;return["$scope","$uibModalInstance",function ModalController(r,o){e.modalInstance=o,this._modalManager=new ModalManager(e),t._modalManager=this._modalManager,r.modalController=this,e.controller&&(angular.extend(this,n(e.controller,{$scope:r,modalManager:this._modalManager})),this.init&&this.init()),e.controllerAs&&(r[e.controllerAs]=this),e.templateInline?(this.templateUrl="modalTemplateKey"+btoa(u()),i.put(this.templateUrl,e.templateInline)):this.templateUrl=e.templateUrl,this.close=function(e){this._modalManager.close(e),i.remove(this.templateUrl)}.bind(this),this.dismiss=function(e){this._modalManager.dismiss(e),i.remove(this.templateUrl)}.bind(this)}]}.call(this,o),controllerAs:"modalController",windowClass:o.cssClasses||null,animation:!(r.animation&&!1===r.animation||t.has("$animate")&&!t.get("$animate").enabled())}).result},new ModalOpener}])},function(e,t){!function(){function createRenderServiceInterface(e,t,n,r,i,o,a,s,c,l,d,u,p,h,f,m){var g={id:"HOTKEY_NOTIFICATION_ID",templateUrl:"perspectiveSelectorHotkeyNotificationTemplate.html"};function RenderServiceInterface(){this._bindEvents()}return RenderServiceInterface.prototype.renderSlots=function(){},RenderServiceInterface.prototype.renderComponent=function(){},RenderServiceInterface.prototype.renderRemoval=function(){},RenderServiceInterface.prototype.renderPage=function(){},RenderServiceInterface.prototype.toggleOverlay=function(){},RenderServiceInterface.prototype.refreshOverlayDimensions=function(){},RenderServiceInterface.prototype.blockRendering=function(){},RenderServiceInterface.prototype.isRenderingBlocked=function(){},RenderServiceInterface.prototype._bindEvents=function(){e.on(o.KEY_UP,function(e){this._shouldEnableKeyPressEvent(e).then(function(e){e&&this._keyPressEvent()}.bind(this))}.bind(this)),e.on(o.CLICK,function(){this._clickEvent()}.bind(this))},RenderServiceInterface.prototype._keyPressEvent=function(){this.isRenderingBlocked().then(function(e){this._areAllModalWindowsClosed()&&(e?(this.blockRendering(!1),this.renderPage(!0),u.removeNotification("HOTKEY_NOTIFICATION_ID")):(this.blockRendering(!0),this.renderPage(!1),u.pushNotification(g),d.publishAsync(a)))}.bind(this))},RenderServiceInterface.prototype._clickEvent=function(){m()||f.publish(l),this.isRenderingBlocked().then(function(e){e&&!m()&&(this.blockRendering(!1),this.renderPage(!0),u.removeNotification("HOTKEY_NOTIFICATION_ID"))}.bind(this))},RenderServiceInterface.prototype._areAllModalWindowsClosed=function(){return 0===r('[id="'+s+'"]').length},RenderServiceInterface.prototype._shouldEnableKeyPressEvent=function(e){try{return p.getPageUUID().then(function(t){if(t)return h.isHotkeyEnabledForActivePerspective().then(function(t){return e.which===i.ESC&&t})})}catch(e){return n.when(!1)}return n.when(!1)},RenderServiceInterface}createRenderServiceInterface.$inject=["$document","$window","$q","yjQuery","KEY_CODES","MOUSE_AND_KEYBOARD_EVENTS","OVERLAY_DISABLED","MODAL_DIALOG_ID","NONE_PERSPECTIVE","EVENT_OUTER_FRAME_CLICKED","systemEventService","notificationService","pageInfoService","perspectiveService","crossFrameEventService","isIframe"],angular.module("renderServiceInterfaceModule",["smarteditServicesModule","seConstantsModule","functionsModule","yjqueryModule"]).constant("KEY_CODES",{ESC:27}).constant("MOUSE_AND_KEYBOARD_EVENTS",{KEY_DOWN:"keydown",KEY_UP:"keyup",CLICK:"click"}).constant("OVERLAY_DISABLED","OVERLAY_DISABLED").constant("MODAL_DIALOG_ID","y-modal-dialog").factory("RenderServiceInterface",createRenderServiceInterface)}()},function(e,t){angular.module("resourceLocationsModule",[]).constant("CONTEXT_SITE_ID","CURRENT_CONTEXT_SITE_ID").constant("CONTEXT_CATALOG","CURRENT_CONTEXT_CATALOG").constant("CONTEXT_CATALOG_VERSION","CURRENT_CONTEXT_CATALOG_VERSION").constant("PAGE_CONTEXT_SITE_ID","CURRENT_PAGE_CONTEXT_SITE_ID").constant("PAGE_CONTEXT_CATALOG","CURRENT_PAGE_CONTEXT_CATALOG").constant("PAGE_CONTEXT_CATALOG_VERSION","CURRENT_PAGE_CONTEXT_CATALOG_VERSION").constant("SMARTEDIT_ROOT","smartedit").constant("SMARTEDIT_RESOURCE_URI_REGEXP",/^(.*)\/smartedit/).constant("CONFIGURATION_URI","/smartedit/configuration/:key").constant("CONFIGURATION_COLLECTION_URI","/smartedit/configuration").constant("CMSWEBSERVICES_RESOURCE_URI","/cmswebservices").constant("DEFAULT_AUTHENTICATION_ENTRY_POINT","/authorizationserver/oauth/token").constant("DEFAULT_AUTHENTICATION_CLIENT_ID","smartedit").constant("I18N_ROOT_RESOURCE_URI","/smarteditwebservices/v1/i18n").constant("I18N_RESOURCE_URI","/smarteditwebservices/v1/i18n/translations").constant("I18N_LANGUAGES_RESOURCE_URI","/smarteditwebservices/v1/i18n/languages").constant("LANGUAGE_RESOURCE_URI","/cmswebservices/v1/sites/:siteUID/languages").constant("PRODUCT_RESOURCE_API","/cmssmarteditwebservices/v1/sites/:siteUID/products/:productUID").constant("PRODUCT_LIST_RESOURCE_API","/cmssmarteditwebservices/v1/productcatalogs/:catalogId/versions/:catalogVersion/products").constant("PRODUCT_CATEGORY_RESOURCE_URI","/cmssmarteditwebservices/v1/sites/:siteUID/categories/:categoryUID").constant("PRODUCT_CATEGORY_SEARCH_RESOURCE_URI","/cmssmarteditwebservices/v1/productcatalogs/:catalogId/versions/:catalogVersion/categories").constant("SITES_RESOURCE_URI","/cmswebservices/v1/sites").constant("LANDING_PAGE_PATH","/").constant("STORE_FRONT_CONTEXT","/storefront").constant("CATALOGS_PATH","/cmswebservices/v1/catalogs/").constant("MEDIA_PATH","/cmswebservices/v1/media").constant("CMSWEBSERVICES_PATH",/\/cmssmarteditwebservices|\/cmswebservices/).constant("PREVIEW_RESOURCE_URI","/previewwebservices/v1/preview").constant("ENUM_RESOURCE_URI","/cmswebservices/v1/enums").constant("USER_GLOBAL_PERMISSIONS_RESOURCE_URI","/permissionswebservices/v1/permissions/principals/:user/global").constant("SYNC_PATH","/cmswebservices/v1/catalogs/:catalog/versions/Staged/synchronizations/versions/Online").constant("MEDIA_RESOURCE_URI","/cmswebservices/v1/catalogs/CURRENT_CONTEXT_CATALOG/versions/CURRENT_CONTEXT_CATALOG_VERSION/media").constant("TYPES_RESOURCE_URI","/cmswebservices/v1/types").factory("resourceLocationToRegex",function(){return function(e){return new RegExp(e.replace(/\/:[^\/]*/g,"/.*"))}})},function(e,t){angular.module("templateCacheDecoratorModule",[]).config(["$provide",function(e){var t=/web.+\/(\w+)\.html/,n={};e.decorator("$templateCache",["$delegate",function(e){var r=e.put;return e.put=function(){var i=arguments[0],o=arguments[1];if(t.test(i)){var a=t.exec(i)[1]+".html";if(n[a])throw"[templateCacheDecorator] html templates '"+n[a]+"' and '"+i+"' are conflicting, you must give them different filenames";r.apply(e,[a,o]),n[a]=i}return r.apply(e,arguments)},e}])}])},function(e,t){angular.module("timerModule",[]).factory("Timer",["$timeout",function(e){function Timer(e,t,n){if(!e)throw"please provide a callback";this._callback=e,this._duration=t||1e3,this._invokeApply=!1!==n,this._timer=null}return Timer.prototype={isActive:function(){return!!this._timer},restart:function(e){this._duration=e||this._duration,this.stop(),this.start()},start:function(t){this._duration=t||this._duration,this._timer=e(function handleTimeoutResolve(){try{this._callback?this._callback.call(null):this.stop()}finally{this.start()}}.bind(this),this._duration,this._invokeApply)},stop:function(){e.cancel(this._timer),this._timer=!1},resetDuration:function(e){this._duration=e||this._duration},teardown:function(){this.stop(),this._callback=null,this._duration=null,this._invokeApply=null,this._timer=null}},Timer}]).factory("timerService",["Timer",function(e){return{createTimer:function createTimer(t,n,r){return new e(t,n,r)}}}])},function(e,t){angular.module("toolbarInterfaceModule",["functionsModule"]).factory("ToolbarServiceInterface",["$q","$log","$templateCache","generateIdentifier",function(e,t,n,r){function ToolbarServiceInterface(){}return ToolbarServiceInterface.prototype.getItems=function(){return this.actions},ToolbarServiceInterface.prototype.getAliases=function(){return this.aliases},ToolbarServiceInterface.prototype.addItems=function(e){var i=e.filter(function(e){var n=!0;return e.key||(t.error("addItems() - Cannot add action without key."),n=!1),e.contextTemplate&&e.contextTemplateUrl&&(t.error("addItems() - Toolbar item should contain only one of contextTemplate or contextTemplateUrl"),n=!1),n}.bind(this)).map(function(e){var t,i=e.key;return this.actions[i]=e.callback,e.contextTemplate?(t="toolbarItemContextTemplate"+btoa(r()),n.put(t,e.contextTemplate)):t=e.contextTemplateUrl,{key:i,name:e.nameI18nKey,iconClassName:e.iconClassName,description:e.descriptionI18nKey,icons:e.icons,type:e.type,include:e.include,className:e.className,priority:e.priority||500,section:e.section||"left",isOpen:!1,keepAliveOnClose:e.keepAliveOnClose||!1,contextTemplateUrl:t}},this);i.length>0&&this.addAliases(i)},ToolbarServiceInterface.prototype.addAliases=function(){},ToolbarServiceInterface.prototype.removeItemByKey=function(){},ToolbarServiceInterface.prototype._removeItemOnInner=function(){},ToolbarServiceInterface.prototype.removeAliasByKey=function(){},ToolbarServiceInterface.prototype.addItemsStyling=function(){},ToolbarServiceInterface.prototype.triggerActionOnInner=function(){},ToolbarServiceInterface}])},function(e,t){angular.module("yjqueryModule",[]).run(["yjQuery",function(e){e.fn.extend({getCssPath:function(){for(var e,t=this;t.length;){var n=t[0],r=n.className;if("BODY"===n.tagName)break;t=t.parent(),e=r+(e?">"+e:"")}return e}})}]).factory("yjQuery",function(){var e="smarteditJQuery";return window[e]||(window.$&&window.$.noConflict?window[e]=window.$.noConflict():window[e]=window.$),window[e]})},function(e,t){angular.module("yLoDashModule",[]).factory("lodash",function(){if(!window.smarteditLodash){if(!window._||!window._.noConflict)throw"could not find lodash library under window._ namespace";window.smarteditLodash=window._.noConflict()}return window.smarteditLodash})},function(e,t,n){var r={"./sanitizeHtmlInputDirective.js":65};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=64},function(e,t){angular.module("sanitizeHtmlInputModule",[]).directive("sanitizeHtmlInput",function(){return{restrict:"A",replace:!1,transclude:!1,priority:1e3,link:function(e,t){t.change(function(){var e=t.val();e=(e=e.replace(new RegExp("{","g"),"%7B")).replace(new RegExp("}","g"),"%7D"),t.val(e)})}}})},function(e,t,n){var r={"./alertService.js":67,"./authenticationService.js":68,"./catalogVersionPermissionService.js":69,"./confirmationModalService.js":70,"./decoratorService.js":71,"./iframeClickDetectionService.js":72,"./positionRegistry.js":73,"./renderService.js":74,"./resizeComponentService.js":75,"./resizeListener.js":76};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=66},function(e,t){angular.module("alertServiceModule",["alertsBoxModule","smarteditServicesModule"]).constant("SE_ALERT_SERVICE_GATEWAY_ID","SE_ALERT_SERVICE_GATEWAY_ID").factory("alertService",["gatewayProxy","SE_ALERT_SERVICE_GATEWAY_ID",function(e,t){var n=function(){e.initForService(this,null,t)};return n.prototype.showAlert=function(){},n.prototype.showInfo=function(){},n.prototype.showDanger=function(){},n.prototype.showWarning=function(){},n.prototype.showSuccess=function(){},n.prototype.pushAlerts=function(){},n.prototype.removeAlertById=function(){},new n}])},function(e,t){angular.module("authenticationModule",["authenticationInterfaceModule","smarteditServicesModule"]).factory("authenticationService",["gatewayProxy","AuthenticationServiceInterface","extend",function(e,t,n){var r=function(){this.reauthInProgress={},this.gatewayId="authenticationService",e.initForService(this)};return new(r=n(t,r))}])},function(e,t){angular.module("catalogVersionPermissionModule",["smarteditServicesModule","functionsModule","catalogVersionPermissionServiceInterfaceModule"]).service("catalogVersionPermissionService",["gatewayProxy","extend","CatalogVersionPermissionServiceInterface",function(e,t,n){var r=function(t){this.gatewayId=t,e.initForService(this)};return new(r=t(n,r))("CatalogVersionPermissionServiceId")}])},function(e,t){angular.module("confirmationModalServiceModule",["smarteditServicesModule"]).factory("confirmationModalService",["gatewayProxy",function(e){function ConfirmationModalService(){this.gatewayId="confirmationModal",e.initForService(this,["confirm"])}return ConfirmationModalService.prototype.confirm=function(){},new ConfirmationModalService}])},function(e,t){angular.module("decoratorServiceModule",["functionsModule"]).factory("DecoratorServiceClass",["$q","uniqueArray","regExpFactory",function(e,t,n){var r=function(){this._activeDecorators={},this.componentDecoratorsMap={}};return r.prototype.addMappings=function(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];this.componentDecoratorsMap[n]=t(this.componentDecoratorsMap[n]||[],r)}},r.prototype.enable=function(e,t){e in this._activeDecorators||(this._activeDecorators[e]={displayCondition:t})},r.prototype.disable=function(e){this._activeDecorators[e]&&delete this._activeDecorators[e]},r.prototype.getDecoratorsForComponent=function(e,t){return this._getDecorators(e,t)},r.prototype._getDecorators=function(r,i){var o=[];if(this.componentDecoratorsMap)for(var a in this.componentDecoratorsMap)n(a).test(r)&&(o=t(o,this.componentDecoratorsMap[a]));var s=[],c=[];return o.forEach(function(t){var n=this._activeDecorators[t];if(n&&n.displayCondition){if("function"!=typeof n.displayCondition)throw new Error("The active decorator's displayCondition property must be a function and must return a boolean");var o=e.defer();n.displayCondition(r,i).then(function(e){e?o.resolve(t):o.resolve(null)}),s.push(o.promise)}else n&&c.push(t)}.bind(this)),e.all(s).then(function(e){return c.concat(e.filter(function(e){return e}))})},r}]).factory("decoratorService",["DecoratorServiceClass",function(e){return new e}])},function(e,t){angular.module("iframeClickDetectionServiceModule",["smarteditServicesModule"]).factory("iframeClickDetectionService",["gatewayProxy",function(e){function IframeClickDetectionService(){this.gatewayId="iframeClick",e.initForService(this,["onIframeClick"])}return IframeClickDetectionService.prototype.onIframeClick=function(){},new IframeClickDetectionService}]).run(["iframeClickDetectionService","$document",function(e,t){t.on("mousedown",function(){e.onIframeClick()})}])},function(e,t){angular.module("positionRegistryModule",["smarteditServicesModule"]).service("positionRegistry",["componentHandlerService",function(e){var t=[];function _floor(e){return Math.floor(100*e)/100}var n=function(t){var n=e.getFromSelector("body")[0].getBoundingClientRect(),r=t.getBoundingClientRect();return _floor(r.top-n.top)+"_"+_floor(r.left-n.left)};this.register=function(e){this.unregister(e),t.push({element:e,position:n(e)})}.bind(this),this.unregister=function(e){var n=t.find(function(t){return t.element===e}),r=t.indexOf(n);r>-1&&t.splice(r,1)},this.getRepositionedComponents=function(){return t.filter(function(t){return 0!==e.getFromSelector(t.element).height()}).filter(function(e){var t=e.element,r=n(t);return r!==e.position&&(e.position=r,!0)}).map(function(e){return e.element})},this.dispose=function(){t=[]},this._listenerCount=function(){return t.length}}])},function(e,t){angular.module("renderServiceModule",["alertServiceModule","functionsModule","renderServiceInterfaceModule","seConstantsModule","yLoDashModule","smarteditServicesModule"]).service("renderService",["$compile","$http","$location","$log","$q","$rootScope","$timeout","$window","alertService","CATALOG_VERSION_UUID_ATTRIBUTE","COMPONENT_CLASS","componentHandlerService","CONTAINER_ID_ATTRIBUTE","CONTRACT_CHANGE_LISTENER_COMPONENT_PROCESS_STATUS","CONTRACT_CHANGE_LISTENER_PROCESS_EVENTS","crossFrameEventService","ELEMENT_UUID_ATTRIBUTE","EVENT_PERSPECTIVE_CHANGED","extractFromElement","gatewayFactory","gatewayProxy","generateIdentifier","getAbsoluteURL","ID_ATTRIBUTE","isBlank","lodash","OVERLAY_COMPONENT_CLASS","OVERLAY_ID","OVERLAY_RERENDERED_EVENT","pageInfoService","perspectiveService","experienceService","RenderServiceInterface","seNamespaceService","sakExecutorService","sharedDataService","SMARTEDIT_ATTRIBUTE_PREFIX","SMARTEDIT_COMPONENT_PROCESS_STATUS","systemEventService","TYPE_ATTRIBUTE","unsafeParseHTML","UUID_ATTRIBUTE","EVENT_PERSPECTIVE_REFRESHED",function(e,t,n,r,i,o,a,s,c,l,d,u,p,h,f,m,g,v,y,S,E,_,b,C,T,I,w,O,R,A,P,M,D,N,x,$,L,U,F,k,j,H,G){angular.extend(this,D.prototype),D.call(this),this.gatewayId="Renderer",this._slotOriginalHeights={},this._smartEditBootstrapGateway=S.createGateway("smartEditBootstrap"),this.toggleOverlay=function(e){u.getOverlay().css("visibility",e?"visible":"hidden")},this.refreshOverlayDimensions=function(e){e=e||u.getFromSelector("body"),u.getFirstSmartEditComponentChildren(e).each(function(e,t){var n=u.getFromSelector(t);this._updateComponentSizeAndPosition(n),this.refreshOverlayDimensions(n)}.bind(this))},this._updateComponentSizeAndPosition=function(e,t){if(e=u.getFromSelector(e),t=t||u.getComponentCloneInOverlay(e).get(0)){var n=this._getParentInOverlay(e).get(0).getBoundingClientRect(),r=e.get(0).offsetWidth,i=e.get(0).offsetHeight,o=e.get(0).getBoundingClientRect(),a=o.top-n.top,s=o.left-n.left;t.style.position="absolute",t.style.top=a+"px",t.style.left=s+"px",t.style.width=r+"px",t.style.height=i+"px",t.style.minWidth="51px",t.style.minHeight="48px";var c=u.getFromSelector(t).find('[id="'+this._buildShallowCloneId(e.attr(C),e.attr(k),e.attr(p))+'"]');c.width(r),c.height(i),c.css("min-height",49),c.css("min-width",51)}},this._getParentInOverlay=function(e){var t=u.getParent(e);return t.length?u.getOverlayComponent(t):u.getOverlay()},this._createComponent=function(e){u.isOverlayOn()&&this._isComponentVisible(e)&&this._cloneAndCompileComponent(e)},this._buildShallowCloneId=function(e,t,n){return e+"_"+t+(n?"_"+n:"")+"_overlay"},this._cloneAndCompileComponent=function(e){if(u.getFromSelector(e).is(":visible")){e=u.getFromSelector(e);var t=this._getParentInOverlay(e);if(!t.length)return void r.error("renderService: parentOverlay empty for component:",e.attr(C));if(!function validateComponentAttributesContract(e){var t=!0;return[C,H,k,l].forEach(function(n){e&&e.attr(n)||(t=!1,r.warn("RenderService - smarteditComponent element discovered with missing contract attribute: "+n))}),t}(e))return;var n=_();e.attr(g,n);var i=e.attr(C),a=e.attr(k),s=e.attr(p),c=this._getDocument().createElement("div");c.id=this._buildShallowCloneId(i,a,s);var d=this._getDocument().createElement("smartedit-element"),h=u.getFromSelector(d);h.append(c),this._updateComponentSizeAndPosition(e,d),"NavigationBarCollectionComponent"===a&&(d.style.zIndex="7"),h.addClass(w),Array.prototype.slice.apply(e.get(0).attributes).forEach(function(e){0===e.nodeName.indexOf(L)&&h.attr(e.nodeName,e.nodeValue)}),t.append(this._compile(d,o))}},this.renderPage=function(e){this._resizeSlots(),u.getOverlay().hide(),this.isRenderingBlocked().then(function(t){this._markSmartEditAsReady();var n=this._createOverlay();e&&!t&&n.show(),F.publish(f.RESTART_PROCESS),m.publish(R)}.bind(this))},this._createOverlay=function(){var e=u.getOverlay();if(e.length)return e;var t=this._getDocument().createElement("div");return t.id=O,t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.bottom="0px",t.style.right="0px",t.style.display="none",document.body.appendChild(t),u.getFromSelector(t)},this._resizeSlots=function(){u.getFirstSmartEditComponentChildren("body").each(function(e,t){var n=u.getFromSelector(t).attr(C),r=u.getFromSelector(t).attr(k),i=-1,o=-1;u.getFromSelector(t).find("."+d).filter(function(e,t){return(t=u.getFromSelector(t)).attr(C)!==n&&t.attr(k)!==r&&t.is(":visible")}).each(function(e,t){var n=t.getBoundingClientRect();i=-1===i?n.top:Math.min(i,n.top),o=-1===o?n.bottom:Math.max(o,n.bottom)});var a=o-i,s=parseFloat(window.getComputedStyle(t).height)||0;if(Math.abs(s-a)>.001){var c=parseFloat(window.getComputedStyle(t).paddingTop)+parseFloat(window.getComputedStyle(t).paddingBottom),l=n+"_"+r,p=this._slotOriginalHeights[l];p||(p=s,this._slotOriginalHeights[l]=p),t.style.height=a+c>p?a+c+"px":p+"px",u.getFromSelector(t).data("smartedit-resized-slot",!0)}}.bind(this))},this.renderSlots=function(e){if(T(e)||e instanceof Array&&0===e.length)return i.reject("renderService.renderSlots.slotIds.required");"string"==typeof e&&(e=[e]);var n=I.uniqBy(e,function(e){return e}).filter(function(e){return!N.renderComponent(e)});return n.length<=0?i.when(!0):M.buildRefreshedPreviewUrl().then(function(e){return t({method:"GET",url:e,headers:{Pragma:"no-cache"}}).then(function(e){var t=j(e.data);return n.forEach(function(e){var n="."+d+"["+k+"='ContentSlot']["+C+"='"+e+"']",r=y(t,n),i=u.getFromSelector(n);i.html(r.html()),i.data("smartedit-resized-slot")&&i.css("height","auto")}),this._reprocessPage(),i.when()}.bind(this),function(e){return c.showDanger({message:e.message}),i.reject(e.message)})}.bind(this),function(e){return r.error("renderService.renderSlots() - error with buildRefreshedPreviewUrl"),i.reject(e)})},this.renderComponent=function(e,t){var n=u.getComponent(e,t),r=u.getParent(n).attr(C);return N.renderComponent(e,t,r)?i.when(!0):this.renderSlots(r)},this.renderRemoval=function(e,t,n){var r=u.getComponentUnderSlot(e,t,n,null).remove();return this.refreshOverlayDimensions(),r},this._destroyComponent=function(e,t,n){var r=u.getFromSelector(e),i=u.getFromSelector(t);x.destroyScope(r);var o=n&&n[C]?n[C]:r.attr(C),a=n&&n[k]?n[k]:r.attr(k);i.attr(C)?u.getOverlayComponentWithinSlot(o,a,i.attr(C)).remove():u.getComponentInOverlay(o,a).remove()},this._markSmartEditAsReady=function(){this._smartEditBootstrapGateway.publish("smartEditReady")},this._isComponentVisible=function(e){return null!==e.offsetParent},this._reprocessPage=function(){N.reprocessPage()},this._compile=function(t,n){return e(t)(n)},this._getDocument=function(){return document},m.subscribe(v,function(e,t){this.renderPage(t)}.bind(this)),m.subscribe(G,function(e,t){this.renderPage(t)}.bind(this)),F.subscribe(f.PROCESS_COMPONENTS,function(e,t){var n=I.map(t,function(e){return e.dataset[U]!==h.KEEP_VISIBLE&&(e.dataset[U]=u.isOverlayOn()?h.PROCESS:h.REMOVE),e});return i.when(n)}),E.initForService(this,["blockRendering","isRenderingBlocked","renderSlots","renderComponent","renderRemoval","toggleOverlay","refreshOverlayDimensions","renderPage"])}])},function(e,t){angular.module("resizeComponentServiceModule",["smarteditServicesModule"]).factory("resizeComponentService",["componentHandlerService",function(e){return new function(){this._resizeComponents=function(t){var n=e.getFromSelector(e.getAllSlotsSelector()),r=e.getFromSelector(e.getAllComponentsSelector());t?(n.addClass("ySEEmptySlot"),r.addClass("se-storefront-component")):(n.removeClass("ySEEmptySlot"),r.removeClass("se-storefront-component"))}}}])},function(e,t){angular.module("resizeListenerModule",["yjqueryModule"]).constant("RESIZE_LISTENER_REPROCESS_TIMEOUT",500).service("resizeListener",["$window","$document","$interval","yjQuery","RESIZE_LISTENER_REPROCESS_TIMEOUT",function(e,t,n,r,i){var o=[],a=e.elementResizeDetectorMaker({strategy:"scroll"});this.unregister=function(e){this.fix(e);var t=o.find(function(t){return t.element===e});t&&(a.uninstall(e),o.splice(o.indexOf(t),1))}.bind(this),this.fix=function(e){var n=o.find(function(t){return t.element===e});if(n){var i=e._erd?e._erd.container:void 0;i&&!r.contains(t[0],i)&&(!i.hasChildNodes()&&n.containerClone&&n.containerClone.hasChildNodes()&&Array.prototype.slice.call(n.containerClone.childNodes).forEach(function(e){i.appendChild(e)}),e.appendChild(i))}}.bind(this),this.register=function(e,t){-1===o.findIndex(function(t){return e===t.element})&&(a.listenTo(e,t),o.push({element:e,containerClone:null}))},this.init=function(){this._missingClonesListener=n(function(){o.forEach(function(e){var t=e.element._erd.container;t&&!e.containerClone&&(e.containerClone=t.cloneNode(!0))})},i)},this.dispose=function(){n.cancel(this._missingClonesListener),o.slice().forEach(function(e){this.unregister(e.element)}.bind(this))},this._listenerCount=function(){return o.length}}])},function(e,t,n){var r={"./system/features/contextualMenu/contextualMenuDecorator.js":78,"./system/features/contextualMenuItem/contextualMenuItemComponent.js":79,"./system/features/slotContextualMenu/slotContextualMenuDecorator.js":80,"./system/services/toolbar/toolbar.js":81};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=77},function(e,t){angular.module("contextualMenuDecoratorModule",["smarteditServicesModule","ui.bootstrap","yPopupOverlayModule","contextualMenuItemModule"]).constant("CTX_MENU_DROPDOWN_IS_OPEN","CTX_MENU_DROPDOWN_IS_OPEN").constant("CLOSE_CTX_MENU","CLOSE_CTX_MENU").controller("baseContextualMenuController",function(){this.status={isopen:!1},this.isHybrisIcon=function(e){return e&&e.indexOf("hyicon")>=0},this.remainOpenMap={},this.setRemainOpen=function(e,t){this.remainOpenMap[e]=t},this.showOverlay=function(){return!0===this.active||Object.keys(this.remainOpenMap).reduce(function(e,t){return e||this.remainOpenMap[t]}.bind(this),!1)}}).controller("contextualMenuController",["$scope","$element","$controller","$timeout","$log","REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT","CLOSE_CTX_MENU","smarteditroot","contextualMenuService","systemEventService",function(e,t,n,r,i,o,a,s,c,l){this.openItem=null,angular.extend(this,n("baseContextualMenuController",{$scope:e})),this.$postLink=function(){e.componentDetails={componentType:this.smarteditComponentType,componentId:this.smarteditComponentId,containerType:this.smarteditContainerType,containerId:this.smarteditContainerId,slotId:this.smarteditSlotId,slotUuid:this.smarteditSlotUuid}},this.$doCheck=function(){this.initialized||0===t.width()||(this.initialized=!0,this.onInit())},this.onInit=function(){this.maxContextualMenuItems=function(){var e=Math.round(t.width()/50)-1,n=e>=4?3:e-1;return n=n<0?0:n},this.moreMenuIsOpen=!1,this.itemTemplateOverlayWrapper={templateUrl:"contextualMenuItemOverlayWrapper.html"},this.moreMenuPopupConfig={templateUrl:"moreItemsTemplate.html",halign:"left"},this.updateItems(),this.dndUnRegFn=l.subscribe(a,this.hideAllPopups),this.unregisterRefreshItems=l.subscribe(o,this.updateItems)},this.moreButton={displayClass:"hyicon hyicon-more cmsx-ctx__icon-more",i18nKey:"se.cms.contextmenu.title.more"},this.updateItems=function(){c.getContextualMenuItems({componentType:this.smarteditComponentType,componentId:this.smarteditComponentId,containerType:this.smarteditContainerType,containerId:this.smarteditContainerId,componentAttributes:this.componentAttributes,iLeftBtns:this.maxContextualMenuItems(),element:t}).then(function(e){this.items=e}.bind(this))}.bind(this),this.shouldShowTemplate=function(e){return this.displayedItem===e},this.onShowItemPopup=function(e){this.setRemainOpen("someContextualPopupOverLay",!0),this.openItem=e,this.openItem.isOpen=!0}.bind(this),this.onHideItemPopup=function(e){this.openItem&&(this.openItem.isOpen=!1,this.openItem=null),this.displayedItem=null,this.setRemainOpen("someContextualPopupOverLay",!1),e&&this.onHideMoreMenuPopup()}.bind(this),this.onShowMoreMenuPopup=function(){this.setRemainOpen("someContextualPopupOverLay",!0)}.bind(this),this.onHideMoreMenuPopup=function(){this.moreMenuIsOpen=!1,this.setRemainOpen("someContextualPopupOverLay",!1)}.bind(this),this.hideAllPopups=function(){this.onHideMoreMenuPopup(),this.onHideItemPopup()}.bind(this),this.triggerMenuItemAction=function(e,n){e.action.template||e.action.templateUrl?this.displayedItem===e?this.displayedItem=null:this.displayedItem=e:e.action.callback&&(this.hideAllPopups(),e.action.callback({componentType:this.smarteditComponentType,componentId:this.smarteditComponentId,containerType:this.smarteditContainerType,containerId:this.smarteditContainerId,componentAttributes:this.componentAttributes,slotId:this.smarteditSlotId,slotUuid:this.smarteditSlotUuid,element:t,properties:JSON.stringify(this.componentAttributes)},n))}.bind(this),this.getItems=function(){return this.items},this.$onDestroy=function(){this.dndUnRegFn&&this.dndUnRegFn(),this.unregisterRefreshItems&&this.unregisterRefreshItems()},this.showContextualMenuBorders=function(){return this.active&&this.items&&this.items.leftMenuItems.length>0}}]).directive("contextualMenu",["$q","$timeout","contextualMenuService","componentHandlerService",function(e,t,n,r){return{templateUrl:"contextualMenuDecoratorTemplate.html",restrict:"C",transclude:!0,replace:!1,controller:"contextualMenuController",controllerAs:"ctrl",scope:{},bindToController:{smarteditComponentId:"@",smarteditComponentType:"@",smarteditContainerId:"@",smarteditContainerType:"@",componentAttributes:"<",active:"="},link:function(e,t){e.ctrl.smarteditSlotId=r.getParentSlotForComponent(t),e.ctrl.smarteditSlotUuid=r.getParentSlotUuidForComponent(t),e.ctrl.slotAttributes={smarteditSlotId:e.ctrl.smarteditSlotId,smarteditSlotUuid:e.ctrl.smarteditSlotUuid}}}}])},function(e,t){angular.module("contextualMenuItemModule",["yPopupOverlayModule","smarteditServicesModule"]).controller("contextualMenuItemController",["$element",function(e){var t=["small","compact"];this._validateInput=function(){if("string"!=typeof this.mode||-1===t.indexOf(this.mode))throw"Error initializing contextualMenuItem - unknown mode"},this.isHybrisIcon=function(e){return e&&e.indexOf("hyicon")>=0},this.$onInit=function(){if(this.classes="cmsx-ctx__icon-more--small "+this.itemConfig.displayClass,this._validateInput(),this.itemConfig.action&&this.itemConfig.action.callbacks){var t=this.componentAttributes,n=this.slotAttributes;angular.forEach(this.itemConfig.action.callbacks,function(r,i){e.on(i,r.bind(void 0,{componentType:t.smarteditComponentType,componentId:t.smarteditComponentId,componentUuid:t.smarteditComponentUuid,containerType:t.smarteditContainerType,containerId:t.smarteditContainerId,componentAttributes:t,slotId:n.smarteditSlotId,slotUuid:n.smarteditSlotUuid}))})}},this.$onDestroy=function(){e.off()},this.setHoverState=function(e){this.isHovered=e}.bind(this),this.getIconState=function(){return this.isHovered||this.itemConfig.isOpen?this.itemConfig.iconNonIdle:this.itemConfig.iconIdle}.bind(this)}]).component("contextualMenuItem",{controller:"contextualMenuItemController",templateUrl:"contextualMenuItemComponentTemplate.html",bindings:{mode:"@",index:"<",componentAttributes:"<",slotAttributes:"<",itemConfig:"<"}})},function(e,t){angular.module("slotContextualMenuDecoratorModule",["smarteditServicesModule","contextualMenuDecoratorModule","ui.bootstrap"]).constant("SHOW_SLOT_MENU","_SHOW_SLOT_MENU").constant("HIDE_SLOT_MENU","HIDE_SLOT_MENU").constant("SHOW_SLOT_PADDING","SHOW_SLOT_PADDING").constant("HIDE_SLOT_PADDING","HIDE_SLOT_PADDING").controller("slotContextualMenuController",["$controller","$scope","$element","SHOW_SLOT_MENU","HIDE_SLOT_MENU","SHOW_SLOT_PADDING","HIDE_SLOT_PADDING","REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT","smarteditroot","systemEventService","contextualMenuService","permissionService","yjQuery",function(e,t,n,r,i,o,a,s,c,l,d,u,p){angular.extend(this,e("baseContextualMenuController",{$scope:t})),this.$onInit=function(){this.updateItems(),this.showItems=!1,this.permissionsObject=[{names:["se.slot.not.external"],context:{slotCatalogVersionUuid:this.componentAttributes.smarteditCatalogVersionUuid}}],u.isPermitted(this.permissionsObject).then(function(e){this.showItems=e;var t=this.smarteditComponentId+r;this.showSlotMenuUnregFn=l.subscribe(t,this._showSlotMenu),this.hideSlotMenuUnregFn=l.subscribe(i,this._hideSlotMenu),this.refreshContextualMenuUnregFn=l.subscribe(s,this.updateItems)}.bind(this))},this.triggerMenuItemAction=function(e,t){e.callback({componentType:this.smarteditComponentType,componentId:this.smarteditComponentId,componentAttributes:this.componentAttributes},t)},this._showSlotMenu=function(e,t){this.smarteditComponentId===t&&(this.remainOpenMap.slotMenuButton=!0,l.publishAsync(o))}.bind(this),this._hideSlotMenu=function(){this.remainOpenMap.slotMenuButton&&delete this.remainOpenMap.slotMenuButton,l.publishAsync(a)}.bind(this),this.maxContextualMenuItems=3,this.updateItems=function(){d.getContextualMenuItems({componentType:this.smarteditComponentType,componentId:this.smarteditComponentId,containerType:this.smarteditContainerType,containerId:this.smarteditContainerId,componentAttributes:this.componentAttributes,iLeftBtns:this.maxContextualMenuItems,element:n}).then(function(e){this.items=e}.bind(this))}.bind(this),this.triggerMenuItemAction=function(e,t){e.callback({componentType:this.smarteditComponentType,componentId:this.smarteditComponentId,containerType:this.smarteditContainerType,containerId:this.smarteditContainerId,componentAttributes:this.componentAttributes,slotId:this.smarteditSlotId,slotUuid:this.smarteditSlotUuid,element:n,properties:JSON.stringify(this.componentAttributes)},t)}.bind(this),this.getItems=function(){return this.items},this.$onDestroy=function(){this.showSlotMenuUnregFn&&this.showSlotMenuUnregFn(),this.hideSlotMenuUnregFn&&this.hideSlotMenuUnregFn(),this.refreshContextualMenuUnregFn&&this.refreshContextualMenuUnregFn()},this.positionPanelHorizontally=function(){var e=n.find(".decorative-panel-area"),t=n.offset().left+e.width()>=p("body").width();if(t){var r=e.outerWidth()-n.find(".yWrapperData").width();e.css("margin-left",-r),n.find(".decorator-padding-left").css("margin-left",-r)}this.hidePadding(),n.find(t?".decorator-padding-left":".decorator-padding-right").css("display","flex")},this.$doCheck=function(){this.active&&this.positionPanelHorizontally()},this.hidePadding=function(){n.find(".decorator-padding-left").css("display","none"),n.find(".decorator-padding-right").css("display","none")}}]).directive("slotContextualMenu",["$timeout","SHOW_SLOT_PADDING","HIDE_SLOT_PADDING","systemEventService",function(e,t,n,r){return{templateUrl:"slotContextualMenuDecoratorTemplate.html",restrict:"C",transclude:!0,replace:!1,controller:"slotContextualMenuController",controllerAs:"ctrl",scope:{},bindToController:{smarteditComponentId:"@",smarteditComponentType:"@",componentAttributes:"<",active:"="},link:function(i,o){i.ctrl.positionPanelVertically=function(){var e,t=o.find(".decorative-panel-area"),n=o.find(".decorator-padding-container");o.offset().top<=t.height()?(e=n.height(),n.css("margin-top",-(e+t.height()))):e=-42,t.css("margin-top",e)},i.ctrl.positionPanel=function(){i.ctrl.positionPanelVertically(),i.ctrl.positionPanelHorizontally()},i.$watch("ctrl.active",function(t){e(function(){i.ctrl.hidePadding(),t&&(i.ctrl.positionPanel(),r.publishAsync("SLOT_CONTEXTUAL_MENU_ACTIVE"))})});var a=r.subscribe(n,i.ctrl.hidePadding),s=r.subscribe(t,i.ctrl.positionPanel);i.$on("$destroy",function(){a(),s()})}}}])},function(e,t){angular.module("toolbarModule",["smarteditServicesModule","toolbarInterfaceModule"]).factory("toolbarServiceFactory",["$log","gatewayProxy","copy","extend","ToolbarServiceInterface",function(e,t,n,r,i){var o=function(e){this.gatewayId=e,this.actions={},t.initForService(this,["addAliases","removeItemByKey","removeAliasByKey","_removeItemOnInner","triggerActionOnInner"])};(o=r(i,o)).prototype._removeItemOnInner=function(t){t in this.actions&&delete this.actions[t],e.warn("removeItemByKey() - Failed to find action for key "+t)},o.prototype.triggerActionOnInner=function(t){this.actions[t.key]?this.actions[t.key]():e.error("triggerActionByKey() - Failed to find action for key "+t.key)};var a={};return{getToolbarService:function(e){return a[e]||(a[e]=new o(e)),a[e]}}}])},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t,n){"use strict";function importAll(e){e.keys().forEach(function(t){e(t)})}$translateStaticFilesLoader.$inject=["$q","lodash","restServiceFactory"],CacheConfigAnnotationFactory.$inject=["$log"],CachedAnnotationFactory.$inject=["cacheService"],InvalidateCacheAnnotationFactory.$inject=["cacheService"],GatewayProxiedAnnotationFactory.$inject=["gatewayProxy","$log"],OperationContextAnnotationFactory.$inject=["$injector","operationContextService","OPERATION_CONTEXT"],$exceptionHandler.$inject=["$log"],n.r(t);var r=n(0),i=function(){return function(e){return e}};window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.SeInjectable=i;var o,a=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=function(){function FunctionsUtils(){this.signatureArgsRegexp=/function[\s\w]*\(([\w\s\$,]*)\)[\s]*{/}return FunctionsUtils.prototype.isEmpty=function(e){return""===e.toString().match(/\{([\s\S]*)\}/m)[1].trim()||/(proxyFunction)/g.test(e.toString().replace(/\s/g,""))},FunctionsUtils.prototype.getArguments=function(e){try{return this.signatureArgsRegexp.exec(e.toString())[1].replace(/\s/g,"").split(",")}catch(t){throw new Error("failed to retrieve arguments list of "+e)}},FunctionsUtils.prototype.hasArguments=function(e){try{return!this.getLodash().isEmpty(this.signatureArgsRegexp.exec(e.toString())[1])}catch(t){throw new Error("failed to retrieve arguments list of "+e)}},FunctionsUtils.prototype.getConstructorName=function(e){try{return e.name||/function (\$?\w+)\s*\(/.exec(e.toString())[1]}catch(e){throw new Error("[FunctionsUtils] - Cannot get name from invalid constructor.")}},FunctionsUtils.prototype.getInstanceConstructorName=function(e){return this.getConstructorName(Object.getPrototypeOf(e).constructor)},FunctionsUtils.prototype.extendsConstructor=function(e,t){var n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e);if(r)return r};return n.prototype=e.prototype,n},FunctionsUtils.prototype.getLodash=function(){return window.smarteditLodash},FunctionsUtils.prototype.isUnitTestMode=function(){return void 0!==window.__karma__},FunctionsUtils=a([function(e){return e}],FunctionsUtils)}(),c=new s;!function(e){e.Class="classAnnotation",e.Method="MethodAnnotation"}(o||(o={}));var l=window.smarteditLodash,d=new(function(){function AnnotationService(){this.INJECTABLE_NAME_KEY="getInjectableName",this.ORIGINAL_CONSTRUCTOR_KEY="originalConstructor",this.getClassAnnotations=l.memoize(this.getClassAnnotationsLogic),this.getMethodAnnotations=l.memoize(this.getMethodAnnotationsLogic,function(e,t){return JSON.stringify(e.prototype)+t}),this.functionsUtils=new s,this.annotationFactoryMap={}}return AnnotationService.prototype.getClassAnnotation=function(e,t){var n=this.getClassAnnotations(e),r=t.annotationName;return n?r in n?n[r]:void 0:null},AnnotationService.prototype.getMethodAnnotation=function(e,t,n){var r=this.getMethodAnnotations(e,t),i=n.annotationName;return r?i in r?r[i]:void 0:null},AnnotationService.prototype.hasClassAnnotation=function(e,t){var n=this.getClassAnnotations(e);return t.annotationName in n},AnnotationService.prototype.hasMethodAnnotation=function(e,t,n){var r=this.getMethodAnnotations(e,t);return n.annotationName in r},AnnotationService.prototype.setClassAnnotationFactory=function(e,t){return this.annotationFactoryMap[e]=t,t},AnnotationService.prototype.getClassAnnotationFactory=function(e){var t=this,n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return function(r){var i=t.functionsUtils.extendsConstructor(r,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=t.annotationFactoryMap[e];if(!a)throw new Error("annotation '"+e+"' is used on '"+r.name+"' but its ClassAnnotationFactory may not have been added to the dependency injection");var s=a(n)(this,r,i);if(s)return s});if(t.functionsUtils.hasArguments(r)&&!r.$inject&&!t.functionsUtils.isUnitTestMode())throw new Error(r.name+" class was decorated with annotation "+e+" but has probably not been annotated with @SeInjectable() or @SeComponent");l.merge(i,r);var a=t.getOriginalConstructor(r);return Reflect.defineMetadata(t.ORIGINAL_CONSTRUCTOR_KEY,a,i),Reflect.defineMetadata(o.Class+":"+e,n,a),i}};return n.annotationName=e,n},AnnotationService.prototype.setMethodAnnotationFactory=function(e,t){return this.annotationFactoryMap[e]=t,t},AnnotationService.prototype.getMethodAnnotationFactory=function(e){var t=this,n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return function(r,i,a){var s=a.value;a.value=function(){var r=t.annotationFactoryMap[e];if(r)return r(n)(this,i,s.bind(this),arguments);throw new Error("annotation '"+e+"' is used but its MethodAnnotationFactory may not have been added to the dependency injection")},Reflect.defineMetadata(o.Method+":"+e,n,r,i)}};return n.annotationName=e,n},AnnotationService.prototype.getOriginalConstructor=function(e){return Reflect.getMetadata(this.ORIGINAL_CONSTRUCTOR_KEY,e)||e},AnnotationService.prototype.getClassAnnotationsLogic=function(e){var t=this.getOriginalConstructor(e),n={};return Reflect.getMetadataKeys(t).filter(function(e){return e.toString().startsWith(o.Class)}).map(function(e){n[e.split(":")[1]]=Reflect.getMetadata(e,t)}),n},AnnotationService.prototype.getMethodAnnotationsLogic=function(e,t){var n={};return Reflect.getMetadataKeys(e.prototype,t).filter(function(e){return e.toString().startsWith(o.Method)}).map(function(r){n[r.split(":")[1]]=Reflect.getMetadata(r,e.prototype,t)}),n},AnnotationService}());window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.annotationService=d;var u=new(function(){function DINameUtils(){}return DINameUtils.prototype.buildComponentName=function(e){return this.buildName(e).replace(/Component$/,"").replace(/Directive$/,"")},DINameUtils.prototype.buildServiceName=function(e){return this.buildName(e)},DINameUtils.prototype.buildName=function(e){var t=d.getOriginalConstructor(e),n=c.getConstructorName(t);return this.convertNameCasing(n)},DINameUtils.prototype.convertNameCasing=function(e){return e.substring(0,1).toLowerCase()+e.substring(1)},DINameUtils.prototype.makeValueProvider=function(e){var t=Object.keys(e)[0];return{provide:t.replace(/^DEFAULT_/,""),useValue:e[t]}},DINameUtils}());window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.diNameUtils=u;var p=function(e){var t;return e&&e.length&&(t=e.reduce(function(e,t){var n=t.replace(/\s/g,"").split(":"),r=n[n.length-1];return r.startsWith("@")||r.startsWith("&")||r.startsWith("=")||(r="<"+r),e[n[0]]=r,e},{})),t},h=function(e,t){var n=/^\[([-\w]+)\]$/,r=/^([-\w]+)$/,i=window.smarteditLodash;if(e){if(e.startsWith("."))return{name:i.camelCase(e.substring(1)),restrict:"C"};if(n.test(e))return{name:i.camelCase(n.exec(e)[1]),restrict:"A"};if(r.test(e))return{name:i.camelCase(r.exec(e)[1]),restrict:"E"};var o=c.getConstructorName(t);throw new Error("SeDirective "+o+" declared an unexpected selector ("+e+"). \n\t\tMake sure to use an element name or class (.class) or attribute ([attribute])")}return{name:u.buildComponentName(t),restrict:"E"}},f=function(e){return function(t){var n={controller:t,scope:{},bindToController:p(e.inputs)||!0,require:e.require},r=h(e.selector,t);return n.restrict=r.restrict,t.directiveName=r.name,t.definition=n,t.providers=e.providers,t}};window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.parseDirectiveBindings=p,window.smarteditcommons.parseDirectiveName=h,window.smarteditcommons.SeDirective=f;var m=function(e){return function(t){var n={controller:t,controllerAs:"$ctrl",transclude:!0,bindings:p(e.inputs),require:e.require};e.templateUrl?n.templateUrl=e.templateUrl:e.template&&(n.template=e.template);var r=h(e.selector,t);if("E"!==r.restrict){var i=c.getConstructorName(t);throw new Error("component "+i+" declared a selector on class or attribute. version 1808 of Smartedit DI limits SeComponents to element selectors")}return t.componentName=r.name,t.definition=n,t.entryComponents=e.entryComponents,t.providers=e.providers,t}};window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.SeComponent=m;var g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},v={},y=function(e){return function(t){var n=u.buildName(t),r=getAngular(),i=[];e.imports&&e.imports.forEach(function(e,t){var o,a=function(e){var t=u.buildName(e);throw new Error(t+" module was imported into "+n+" module but doesn't seem to have been @SeModule annotated")};if("string"==typeof e)o=e;else if("function"==typeof e)(o=e.moduleName)||a(e);else{if(!e||!e.seModule)throw new Error("the import statement "+e+" at index "+t+" added to "+n+" is neither a legacy string nor an SeModuleConstructor");e.seModule.moduleName||a(e.seModule);var s=u.buildName(e.seModule),c=r.module(s);o=c.name,e.providers&&addArrayOfProvidersToModule(c,e.providers)}if(i.indexOf(o)>-1)throw new Error("module "+o+" is imported more than once into "+n);i.push(o)});var o=r.module(n,i);return e.providers&&addArrayOfProvidersToModule(o,e.providers),e.declarations&&e.declarations.forEach(function(e){addFullComponentGraphToModule(o,e)}),e.config&&o.config(e.config),e.initialize&&o.run(e.initialize),t.moduleName=o.name,t}};function addArrayOfProvidersToModule(e,t){t.forEach(function(t,n){var r=e.name;if(!t)throw new Error("At the time a provider at index "+n+" was added to module "+r+",\n\t\t\t\tit was undefined, this is probably due to the path in your typescript import statement\n\t\t\t\treferencing a barrel file of an alias defined in a higher layer, consider using a relative path instead.");if(t.provide&&!t.useValue&&!t.useClass&&!t.useFactory)throw new Error("At the time a provider named "+t.provide+" was added to module "+r+"\n\t\t        did not provide an instance of SeValueProvider, SeClassProvider, or FactoryProvider.");t.multi?addMultiProviderToModule(e,t=t):addProviderToModule(e,t)})}function addProviderToModule(e,t){if(t.useValue)t=t,e.constant(t.provide,t.useValue);else if(t.useClass)t=t,e.service(t.provide,t.useClass);else if(t.useFactory){t=t;var n=Array.isArray(t.useFactory)||t.useFactory.$inject;if(n&&t.deps)throw Error("At the time a provider "+t.provide+" uses ngInject annotations and \n\t\t\tSeFactoryProvider.deps at the same time. Please use one or the other.");var r=t.deps?t.deps.map(function(e){return"string"==typeof e?e:u.buildServiceName(e)}):[];e.factory(t.provide,n?t.useFactory:r.concat([t.useFactory]))}else{t=t;var i=u.buildServiceName(t);e.service(i,t)}}function addMultiProviderToModule(e,t){var n=e.name+t.provide,r=v[n];r||(r=[]);var i=n+c.getLodash().uniqueId();r.push(i),v[n]=r;addProviderToModule(e,g({},t,{provide:i})),addProviderToModule(e,{provide:t.provide,useFactory:function(){return[].slice.call(arguments)},deps:r})}function addFullComponentGraphToModule(e,t){var n=t.definition;if(!n){var r=c.getConstructorName(t);throw new Error(r+" component was imported into "+e.name+" module but doesn't seem to have been @SeComponent or @SeDirective annotated")}t.providers&&addArrayOfProvidersToModule(e,t.providers);var i=t.componentName,o=t.directiveName;if(i){e.component(i,n),delete t.definition;var a=t.entryComponents;a&&a.forEach(function(t){addFullComponentGraphToModule(e,t)}),delete t.entryComponents}else o&&e.directive(o,function(){return n})}function getAngular(){return y.getAngular()}y.getAngular=function(){return r},window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.SeModule=y,window.smarteditcommons.addArrayOfProvidersToModule=addArrayOfProvidersToModule,window.smarteditcommons.addProviderToModule=addProviderToModule,window.smarteditcommons.addMultiProviderToModule=addMultiProviderToModule,window.smarteditcommons.addFullComponentGraphToModule=addFullComponentGraphToModule,window.smarteditcommons.getAngular=getAngular;var S,E=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},_=function(){function CloneableUtils(e){this.lodash=e}return CloneableUtils.$inject=["lodash"],CloneableUtils.prototype.makeCloneable=function(e){var t=this,n=this.lodash.cloneDeepWith(e,function(e){return void 0===e||null===e||t.isPrimitive(n)?e:e.then?null:"function"==typeof e?null:t.lodash.isElement(e)?null:"string"!=typeof e&&e.hasOwnProperty("length")&&!e.forEach?null:e});return void 0===n||null===n||this.isPrimitive(n)?n:n.hasOwnProperty("length")||n.forEach?n.map(function(e){return t.makeCloneable(e)}):Object.keys(n).reduce(function(e,r){return 0!==r.indexOf("$")&&(e[r]=t.makeCloneable(n[r])),e},{})},CloneableUtils.prototype.isPrimitive=function(e){return"number"==typeof e||"string"==typeof e||"boolean"==typeof e},CloneableUtils=E([function(e){return e}],CloneableUtils)}(),b=(n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),function(){function TruncatedText(e,t,n,r){void 0===e&&(e=""),void 0===t&&(t=""),void 0===r&&(r=""),this.text=e,this.truncatedText=t,this.truncated=n,this.ellipsis=r,this.text=this.text||"",this.truncatedText=this.truncatedText||""}return TruncatedText.prototype.getUntruncatedText=function(){return this.text},TruncatedText.prototype.getTruncatedText=function(){return this.truncatedText+this.ellipsis},TruncatedText.prototype.isTruncated=function(){return this.truncated},TruncatedText}()),C=(n(92),n(93),function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}),T=function(){function CrossFrameEventService(e,t,n,r){this.$q=e,this.systemEventService=t,this.crossFrameEventServiceGateway=n,this.windowUtils=r}return CrossFrameEventService.$inject=["$q","systemEventService","crossFrameEventServiceGateway","windowUtils"],CrossFrameEventService.prototype.publish=function(e,t){var n=[this.systemEventService.publishAsync(e,t)];return this.windowUtils.getTargetIFrame()&&n.push(this.crossFrameEventServiceGateway.publish(e,t)),this.$q.all(n)},CrossFrameEventService.prototype.subscribe=function(e,t){var n=this.systemEventService.subscribe(e,t),r=this.crossFrameEventServiceGateway.subscribe(e,t);return function(){n(),r()}},CrossFrameEventService=C([function(e){return e}],CrossFrameEventService)}();!function(e){e.Info="INFO",e.Success="SUCCESS",e.Warning="WARNING",e.Danger="DANGER"}(S||(S={}));n(94);var I=function(){function ICatalogService(){}return ICatalogService.prototype.getAllCatalogsGroupedById=function(){"proxyFunction";return null},ICatalogService.prototype.retrieveUriContext=function(e){"proxyFunction";return null},ICatalogService.prototype.getContentCatalogsForSite=function(e){"proxyFunction";return null},ICatalogService.prototype.getAllContentCatalogsGroupedById=function(){"proxyFunction";return null},ICatalogService.prototype.getCatalogByVersion=function(e,t){"proxyFunction";return null},ICatalogService.prototype.isContentCatalogVersionNonActive=function(e){"proxyFunction";return null},ICatalogService.prototype.getContentCatalogActiveVersion=function(e){"proxyFunction";return null},ICatalogService.prototype.getActiveContentCatalogVersionByCatalogId=function(e){"proxyFunction";return null},ICatalogService.prototype.getDefaultSiteForContentCatalog=function(e){"proxyFunction";return null},ICatalogService.prototype.getContentCatalogVersion=function(e){"proxyFunction";return null},ICatalogService.prototype.getCatalogVersionByUuid=function(e,t){"proxyFunction";return null},ICatalogService.prototype.getCatalogVersionUUid=function(e){"proxyFunction";return null},ICatalogService.prototype.getProductCatalogsForSite=function(e){"proxyFunction";return null},ICatalogService.prototype.getActiveProductCatalogVersionByCatalogId=function(e){"proxyFunction";return null},ICatalogService.prototype.returnActiveCatalogVersionUIDs=function(e){"proxyFunction";return null},ICatalogService}(),w=(n(95),n(96),n(97),n(98),n(99),function(){function IFeatureService(e,t){this.lodash=e,this.cloneableUtils=t}return IFeatureService.prototype.register=function(e){return this._validate(e),this._featuresToAlias=this._featuresToAlias||{},this._featuresToAlias[e.key]={enablingCallback:e.enablingCallback,disablingCallback:e.disablingCallback},delete e.enablingCallback,delete e.disablingCallback,this._registerAliases(this.cloneableUtils.makeCloneable(e))},IFeatureService.prototype.enable=function(e){this._featuresToAlias&&this._featuresToAlias[e]?this._featuresToAlias[e].enablingCallback():this._remoteEnablingFromInner(e)},IFeatureService.prototype.disable=function(e){this._featuresToAlias&&this._featuresToAlias[e]?this._featuresToAlias[e].disablingCallback():this._remoteDisablingFromInner(e)},IFeatureService.prototype.getFeatureProperty=function(e,t){"proxyFunction";return null},IFeatureService.prototype.addToolbarItem=function(e){"proxyFunction";return null},IFeatureService.prototype.addDecorator=function(e){"proxyFunction";return null},IFeatureService.prototype.addContextualMenuButton=function(e){"proxyFunction";return null},IFeatureService.prototype._remoteEnablingFromInner=function(e){"proxyFunction";return null},IFeatureService.prototype._remoteDisablingFromInner=function(e){"proxyFunction";return null},IFeatureService.prototype._registerAliases=function(e){"proxyFunction";return null},IFeatureService.prototype._validate=function(e){if(this.lodash.isEmpty(e.key))throw new Error("featureService.configuration.key.error.required");if(this.lodash.isEmpty(e.nameI18nKey))throw new Error("featureService.configuration.nameI18nKey.error.required");if(!this.lodash.isFunction(e.enablingCallback))throw new Error("featureService.configuration.enablingCallback.error.not.function");if(!this.lodash.isFunction(e.disablingCallback))throw new Error("featureService.configuration.disablingCallback.error.not.function")},IFeatureService}()),O=(n(100),n(101),n(102),n(103),n(104),n(105),n(106),n(107),function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}),R=function(){function SystemEventService(e,t,n,r){this.$timeout=e,this.$q=t,this.$log=n,this.toPromise=r,this._eventHandlers={}}return SystemEventService.$inject=["$timeout","$q","$log","toPromise"],SystemEventService.prototype.publish=function(e,t){if(e){if(this._eventHandlers[e]&&this._eventHandlers[e].length>0)return this._invokeEventHandlers(e,t)}else this.$log.error("Failed to send event. No event ID provided for data: "+t);return this.$q.when()},SystemEventService.prototype.sendSynchEvent=function(e,t){return this.publish(e,t)},SystemEventService.prototype.publishAsync=function(e,t){var n=this.$q.defer();return this.$timeout(function(){this.publish(e,t).then(function(e){n.resolve(e)},function(e){n.reject(e)})}.bind(this),0),n.promise},SystemEventService.prototype.sendAsynchEvent=function(e,t){return this.publishAsync(e,t)},SystemEventService.prototype.subscribe=function(e,t){var n,r=this;return e&&t?(void 0===this._eventHandlers[e]&&(this._eventHandlers[e]=[]),this._eventHandlers[e].push(t),n=function(){r._unsubscribe(e,t)}):this.$log.error("Failed to subscribe event handler for event: "+e),n},SystemEventService.prototype.registerEventHandler=function(e,t){return this.subscribe(e,t)},SystemEventService.prototype._unsubscribe=function(e,t){var n=this._eventHandlers[e]?this._eventHandlers[e].indexOf(t):-1;n>=0?this._eventHandlers[e].splice(n,1):this.$log.warn("Attempting to remove event handler for "+e+" but handler not found.")},SystemEventService.prototype._invokeEventHandlers=function(e,t){var n=this;return this.$q.all(this._eventHandlers[e].map(function(r){return n.toPromise(r)(e,t)})).then(function(e){return n.$q.when(e.pop())},function(e){return n.$q.reject(e)})},SystemEventService=O([function(e){return e}],SystemEventService)}(),A=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},P=function(){function DefaultWizardActionStrategy(e){this.wizardActions=e}return DefaultWizardActionStrategy.$inject=["wizardActions"],DefaultWizardActionStrategy.prototype.applyStrategy=function(e,t){var n=this.applyOverrides(e,this.wizardActions.next(),t.nextLabel,t.onNext,t.isFormValid),r=this.applyOverrides(e,this.wizardActions.done(),t.doneLabel,t.onDone,t.isFormValid),i=t.backLabel?{i18n:t.backLabel}:null,o=this.wizardActions.back(i);t.steps.forEach(function(e,i){e.actions=[],i>0&&e.actions.push(o),i===t.steps.length-1?e.actions.push(r):e.actions.push(n)}),t.cancelAction=this.applyOverrides(e,this.wizardActions.cancel(),t.cancelLabel,t.onCancel,null),t.templateOverride="modalWizardNavBarTemplate.html"},DefaultWizardActionStrategy.prototype.applyOverrides=function(e,t,n,r,i){return n&&(t.i18n=n),r&&(t.executeIfCondition=function(){return r(e.getCurrentStepId())}),i&&(t.enableIfCondition=function(){return i(e.getCurrentStepId())}),t},DefaultWizardActionStrategy=A([function(e){return e}],DefaultWizardActionStrategy)}(),M=function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},D=function(){function WizardService(e,t,n){this.$q=e,this.defaultWizardActionStrategy=t,this.generateIdentifier=n,this.onLoadStep=function(e,t){},this.onClose=function(e){},this.onCancel=function(){},this.onStepsUpdated=function(e){}}return WizardService.prototype.initialize=function(e){this.validateConfig(e),this._actionStrategy=e.actionStrategy||this.defaultWizardActionStrategy,this._actionStrategy.applyStrategy(this,e),this._currentIndex=0,this._conf=M({},e),this._steps=this._conf.steps,this._getResult=e.resultFn,this.validateStepUids(this._steps),this.goToStepWithIndex(0)},WizardService.prototype.executeAction=function(e){var t=this;return e.executeIfCondition?this.$q.resolve(e.executeIfCondition()).then(function(){return e.execute(t)}):this.$q.resolve(e.execute(this))},WizardService.prototype.goToStepWithIndex=function(e){var t=this.getStepWithIndex(e);t&&(this.onLoadStep(e,t),this._currentIndex=e)},WizardService.prototype.goToStepWithId=function(e){this.goToStepWithIndex(this.getStepIndexFromId(e))},WizardService.prototype.addStep=function(e,t){0===parseInt(e.id,10)||e.id||(e.id=this.generateIdentifier()),t||(t=0),this._currentIndex>=t&&this._currentIndex++,this._steps.splice(t,0,e),this.validateStepUids(this._steps),this._actionStrategy.applyStrategy(this,this._conf),this.onStepsUpdated(this._steps)},WizardService.prototype.removeStepById=function(e){this.removeStepByIndex(this.getStepIndexFromId(e))},WizardService.prototype.removeStepByIndex=function(e){e>=0&&e<this.getStepsCount()&&(this._steps.splice(e,1),e===this._currentIndex&&this.goToStepWithIndex(0),this._actionStrategy.applyStrategy(this,this._conf),this.onStepsUpdated(this._steps))},WizardService.prototype.close=function(){var e;"function"==typeof this._getResult&&(e=this._getResult()),this.onClose(e)},WizardService.prototype.cancel=function(){this.onCancel()},WizardService.prototype.getSteps=function(){return this._steps},WizardService.prototype.getStepIndexFromId=function(e){return this._steps.findIndex(function(t){return t.id===e})},WizardService.prototype.containsStep=function(e){return this.getStepIndexFromId(e)>=0},WizardService.prototype.getCurrentStepId=function(){return this.getCurrentStep().id},WizardService.prototype.getCurrentStepIndex=function(){return this._currentIndex},WizardService.prototype.getCurrentStep=function(){return this.getStepWithIndex(this._currentIndex)},WizardService.prototype.getStepsCount=function(){return this._steps.length},WizardService.prototype.getStepWithId=function(e){var t=this.getStepIndexFromId(e);return t>=0?this.getStepWithIndex(t):null},WizardService.prototype.getStepWithIndex=function(e){if(e>=0&&e<this.getStepsCount())return this._steps[e];throw new Error("wizardService.getStepForIndex - Index out of bounds: "+e)},WizardService.prototype.validateConfig=function(e){if(!e.steps||e.steps.length<=0)throw new Error("Invalid WizardService configuration - no steps provided");e.steps.forEach(function(e){if(!e.templateUrl)throw new Error("Invalid WizardService configuration - Step missing a url: "+e)})},WizardService.prototype.validateStepUids=function(e){var t=this,n={};e.forEach(function(e){if(e.id){if(n[e.id])throw new Error("Invalid (Duplicate) step id: "+e.id);n[e.id]=e.id}else e.id=t.generateIdentifier()})},WizardService}(),N=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},x=function(){function ModalWizard(e){this.modalService=e}return ModalWizard.$inject=["modalService"],ModalWizard.prototype.open=function(e){return this.validateConfig(e),this.modalService.open({templateUrl:"modalWizardTemplate.html",controller:function(e){return function(){function ModalWizardController(t,n,r,i,o,a,s,c,l,d){var u=this;if(this.lodash=t,this.$scope=n,this.$rootScope=r,this.modalManager=i,this.wizardActions=a,this.MODAL_BUTTON_STYLES=s,this.$q=c,this.wizardService=new D(this.$q,l,d),this.wizardService.properties=e.properties,this.lodash.assign(this,o(e.controller,{$scope:n,wizardManager:this.wizardService})),e.controllerAs&&(this.$scope[e.controllerAs]=this),"function"!=typeof this.getWizardConfig)throw new Error("The provided controller must provide a getWizardConfig() function.");var p,h=this.getWizardConfig();this._wizardContext={_steps:h.steps},this.executeAction=function(e){u.wizardService.executeAction(e)},this.wizardService.onLoadStep=function(e,t){u.modalManager.title=t.title,u._wizardContext.templateUrl=t.templateUrl,u.modalManager.removeAllButtons(),(t.actions||[]).forEach(function(e){"function"==typeof e.enableIfCondition&&(p=u.$rootScope.$watch(e.enableIfCondition,function(t){t?u.modalManager.enableButton(e.id):u.modalManager.disableButton(e.id)})),u.modalManager.addButton(u.convertActionToButtonConf(e))})},this.wizardService.onClose=function(e){u.modalManager.close(e),p()},this.wizardService.onCancel=function(){u.modalManager.dismiss(),p()},this.wizardService.onStepsUpdated=function(e){u.setupNavBar(e),u._wizardContext._steps=e},this.wizardService.initialize(h),this.setupModal(h)}return ModalWizardController.$inject=["lodash","$scope","$rootScope","modalManager","$controller","wizardActions","MODAL_BUTTON_STYLES","$q","defaultWizardActionStrategy","generateIdentifier"],ModalWizardController.prototype.setupNavBar=function(e){var t=this;this._wizardContext.navActions=e.map(function(e,n){var r=t.wizardActions.navBarAction({id:"NAV-"+e.id,stepIndex:n,wizardService:t.wizardService,destinationIndex:n,i18n:e.name,isCurrentStep:function(){return r.stepIndex===t.wizardService.getCurrentStepIndex()}});return r})},ModalWizardController.prototype.setupModal=function(e){var t=this;this._wizardContext.templateOverride=e.templateOverride,e.cancelAction&&this.modalManager.setDismissCallback(function(){return t.wizardService.executeAction(e.cancelAction),t.$q.reject()}),this.setupNavBar(e.steps)},ModalWizardController.prototype.convertActionToButtonConf=function(e){var t=this;return{id:e.id,style:e.isMainAction?this.MODAL_BUTTON_STYLES.PRIMARY:this.MODAL_BUTTON_STYLES.SECONDARY,label:e.i18n,callback:function(){t.wizardService.executeAction(e)}}},ModalWizardController}()}(e)})},ModalWizard.prototype.validateConfig=function(e){if(!e.controller)throw new Error("WizardService - initialization exception. No controller provided")},ModalWizard=N([function(e){return e}],ModalWizard)}(),$=function(){return($=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},L=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},U={id:"wizard_action_id",i18n:"wizard_action_label",isMainAction:!0,enableIfCondition:function(){return!0},executeIfCondition:function(){return!0},execute:function(e){}},F=function(){function WizardActions(){}return WizardActions.prototype.customAction=function(e){return this.createNewAction(e)},WizardActions.prototype.done=function(e){return this.createNewAction(e,{id:"ACTION_DONE",i18n:"se.action.done",execute:function(e){e.close()}})},WizardActions.prototype.next=function(e){return this.createNewAction(e,{id:"ACTION_NEXT",i18n:"se.action.next",execute:function(e){e.goToStepWithIndex(e.getCurrentStepIndex()+1)}})},WizardActions.prototype.navBarAction=function(e){if(!e.wizardService||null===e.destinationIndex)throw new Error("Error initializating navBarAction, must provide the wizardService and destinationIndex fields");var t={id:"ACTION_GOTO",i18n:"action.goto",enableIfCondition:function(){return e.wizardService.getCurrentStepIndex()>=e.destinationIndex},execute:function(t){t.goToStepWithIndex(e.destinationIndex)}};return this.createNewAction(e,t)},WizardActions.prototype.back=function(e){var t={id:"ACTION_BACK",i18n:"se.action.back",isMainAction:!1,execute:function(e){var t=e.getCurrentStepIndex();if(t<=0)throw new Error("Failure to execute BACK action, no previous index exists!");e.goToStepWithIndex(t-1)}};return this.createNewAction(e,t)},WizardActions.prototype.cancel=function(){return this.createNewAction({id:"ACTION_CANCEL",i18n:"se.action.cancel",isMainAction:!1,execute:function(e){e.cancel()}})},WizardActions.prototype.createNewAction=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),$({},U,t,e)},WizardActions=L([function(e){return e}],WizardActions)}(),k=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},j=(function(){function WizardServiceModule(){}WizardServiceModule=k([y({imports:["ui.bootstrap","translationServiceModule","functionsModule","coretemplates","modalServiceModule"],providers:[P,x,F]})],WizardServiceModule)}(),function(){return function TranslationFile(e,t,n){this.prefix=e,this.suffix=t,this.key=n}}());function $translateStaticFilesLoader(e,t,n){"ngInject";return function initializer(e,t,n,i){if(!(i&&(r.isArray(i.files)||r.isString(i.prefix)&&r.isString(i.suffix))))throw new Error("Couldn't load translation static files, no files and prefix or suffix specified!");i.files=i.files||[new j(i.prefix,i.suffix)];var o=i.files.map(function(e){return function(e){if(!e||!r.isString(e.prefix)||!r.isString(e.suffix))throw new Error("Couldn't load translation static files, no files and prefix or suffix specified!");var t=[e.prefix,i.key,e.suffix].join("");r.isObject(i.fileMap)&&i.fileMap[t]&&(t=i.fileMap[t]);return n.get(t).get(i.$http)}(new j(e.prefix,e.suffix,i.key))});return e.all(o).then(function(e){var n={};return e.forEach(function(e){delete e.$resolved,delete e.$promise,t.merge(n,e)}),n})}.bind(void 0,e,t,n)}var H=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},G=function(){function TranslationServiceModule(){}return TranslationServiceModule=H([y({imports:["pascalprecht.translate","i18nInterceptorModule","smarteditCommonsModule"],providers:[$translateStaticFilesLoader],config:["$translateProvider","I18NAPIROOT","UNDEFINED_LOCALE",function(e,t,n){"ngInject";e.useStaticFilesLoader({prefix:"/"+t+"/",suffix:""}),e.preferredLanguage(n),e.useSanitizeValueStrategy("escapeParameters")}],initialize:["operationContextService","I18N_RESOURCE_URI","OPERATION_CONTEXT",function(e,t,n){"ngInject";e.register(t,n.TOOLING)}]})],TranslationServiceModule)}(),V=(n(108),window.smarteditLodash),B="CacheConfig",q=d.getClassAnnotationFactory(B);function CacheConfigAnnotationFactory(e){"ngInject";return d.setClassAnnotationFactory(B,function(t){return function(n,r,i){r.call.apply(r,[n].concat(i)),n.cacheConfig=t[0],e.debug("adding cache config "+JSON.stringify(n.cacheConfig)+" to class "+c.getInstanceConstructorName(n),n)}})}var z="Cached",W=d.getMethodAnnotationFactory(z);function CachedAnnotationFactory(e){"ngInject";return d.setMethodAnnotationFactory(z,function(t){return function(n,r,i,o){var a=[],s=[];if(t[0]&&(a=t[0].actions,s=t[0].tags),n.cacheConfig&&(n.cacheConfig.actions&&(a=V.uniq(a.concat(n.cacheConfig.actions))),n.cacheConfig.tags&&(s=V.uniq(s.concat(n.cacheConfig.tags)))),!a.length){var l=c.getInstanceConstructorName(n);throw new Error("method "+r+" of "+l+" is @Cached annotated but no CacheAction is specified either through @Cached or through class level @CacheConfig annotation")}return e.handle(n,r,i,Array.prototype.slice.apply(o),a,s)}})}var Y="InvalidateCache",K=function(e){return d.getMethodAnnotationFactory(Y)(e)};function InvalidateCacheAnnotationFactory(e){"ngInject";return d.setMethodAnnotationFactory(Y,function(t){return function(n,r,i,o){var a=[],s=t[0];if(s?a=[s]:n.cacheConfig&&n.cacheConfig.tags&&(a=n.cacheConfig.tags),!a.length)throw new Error("method "+r+" of "+n.constructor.name+" is @InvalidateCache annotated but no EvictionTag is specified either through @InvalidateCache or through class level @CacheConfig annotation");var c=i.apply(void 0,o);return c&&c.then?c.then(function(t){return e.evict.apply(e,a),t}):(e.evict.apply(e,a),c)}})}window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.CacheConfig=q,window.smarteditcommons.CacheConfigAnnotationFactory=CacheConfigAnnotationFactory,window.smarteditcommons.Cached=W,window.smarteditcommons.CachedAnnotationFactory=CachedAnnotationFactory,window.smarteditcommons.InvalidateCache=K,window.smarteditcommons.InvalidateCacheAnnotationFactory=InvalidateCacheAnnotationFactory;var X=function(){return function CacheAction(e){this.name=e}}(),Q=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},J=function(){function CacheService(e,t,n,r,i,o,a){this.$q=e,this.$log=t,this.lodash=n,this.encode=r,this.functionsUtils=i,this.crossFrameEventService=o,this.cacheEngine=a,this.predicatesRegistry=[],this.eventListeners=[],this.registerDefaultCacheTimings()}return CacheService.$inject=["$q","$log","lodash","encode","functionsUtils","crossFrameEventService","cacheEngine"],CacheService.prototype.register=function(e,t){return this.predicatesRegistry.unshift({test:e,cacheTiming:t}),this},CacheService.prototype.handle=function(e,t,n,r,i,o){var a=this.functionsUtils.getInstanceConstructorName(e),s=window.btoa(a+t)+this.encode(r),c=this.cacheEngine.getItemById(s),l=c||{id:s,timestamp:(new Date).getTime(),evictionTags:this.collectEventNamesFromTags(o),cache:null,expirationAge:null,refreshAge:null};if(!c){var d=this.findCacheTimingByCacheActions(i);if(!d)throw new Error("CacheService::handle - No predicate match.");d.setAge(l),this.cacheEngine.addItem(l,d,n.bind.apply(n,[void 0].concat(r))),this.listenForEvictionByTags(o)}return this.cacheEngine.handle(l)},CacheService.prototype.evict=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.collectEventNamesFromTags(t);(e=this.cacheEngine).evict.apply(e,r)},CacheService.prototype.listenForEvictionByTags=function(e){var t=this;this.collectEventNamesFromTags(e).filter(function(e){return-1===t.eventListeners.indexOf(e)}).forEach(function(e){t.$log.debug("registering event listener "+e),t.eventListeners.push(e),t.crossFrameEventService.subscribe(e,function(n,r){return t.$log.debug("cleaning cache on event "+e),t.cacheEngine.evict(e),t.$q.when({})})})},CacheService.prototype.collectEventNamesFromTags=function(e){var t,n=this;return e&&e.length?(t=this.lodash).union.apply(t,e.map(function(e){return n.collectEventNamesFromTag(e)})):[]},CacheService.prototype.collectEventNamesFromTag=function(e){var t,n=this;return(t=this.lodash).union.apply(t,[[e.event]].concat(e.relatedTags?e.relatedTags.map(function(e){return n.collectEventNamesFromTag(e)}):[]))},CacheService.prototype.findCacheTimingByCacheActions=function(e){var t=this.predicatesRegistry.find(function(t){return t.test(e)});return t?t.cacheTiming:null},CacheService.prototype.registerDefaultCacheTimings=function(){var e=new ie(864e5,432e5);this.register(function(e){return null!==e.find(function(e){return e.name===te})},e)},CacheService=Q([function(e){return e}],CacheService)}(),Z=function(){return function EvictionTag(e){this.event=e.event,this.relatedTags=e.relatedTags}}(),ee=new X("FrequentlyChangingContent");window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.FrequentlyChangingContentName="FrequentlyChangingContent",window.smarteditcommons.frequentlyChangingContent=ee;var te="RarelyChangingContent",ne=new X(te);window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.RarelyChangingContentName=te,window.smarteditcommons.rarelyChangingContent=ne;var re=function(){function CacheEngine(e,t){this.$q=e,this.$log=t,this.cachedItemsRegistry=[],this.startBackgroundMonitoringJob()}return CacheEngine.$inject=["$q","$log"],CacheEngine.prototype.addItem=function(e,t,n){-1===this.getItemIndex(e)?this.cachedItemsRegistry.push({item:e,cacheTiming:t,refresh:n,completed:!1,processing:!1,defer:this.$q.defer()}):this.$log.warn("CacheEngine - item already exist for id: "+e.id)},CacheEngine.prototype.getItemById=function(e){var t=this.cachedItemsRegistry.find(function(t){return t.item.id===e});return t?t.item:null},CacheEngine.prototype.handle=function(e){var t=this.cachedItemsRegistry[this.getItemIndex(e)];return t.completed&&!this.hasExpired(e)?t.defer.resolve(e.cache):t.processing||(t.processing=!0,this.refreshCache(t)),t.defer.promise},CacheEngine.prototype.evict=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){e.cachedItemsRegistry.filter(function(e){return e.item.evictionTags.indexOf(t)>-1}).forEach(function(t){return e.cachedItemsRegistry.splice(e.getItemIndex(t.item),1)})})},CacheEngine.prototype.startBackgroundMonitoringJob=function(){var e=this;setInterval(function(){e.cachedItemsRegistry.filter(function(t){return e.needRefresh(t.item)}).forEach(function(t){return e.refreshCache(t)})},CacheEngine.BACKGROUND_REFRESH_INTERVAL)},CacheEngine.prototype.refreshCache=function(e){var t=this;e.refresh().then(function(t){e.cacheTiming.setAge(e.item),e.item.cache=t,e.item.timestamp=(new Date).getTime(),e.completed=!0,e.processing=!1,e.defer.resolve(t)},function(n){t.$log.error("CacheEngine - unable to refresh cache for id: "+e.item.id,n),delete e.item.cache,e.defer.reject(n)})},CacheEngine.prototype.hasExpired=function(e){return e.timestamp+e.expirationAge<=(new Date).getTime()},CacheEngine.prototype.needRefresh=function(e){return e.timestamp+e.refreshAge<=(new Date).getTime()},CacheEngine.prototype.getItemIndex=function(e){return this.cachedItemsRegistry.findIndex(function(t){return t.item.id===e.id})},CacheEngine.BACKGROUND_REFRESH_INTERVAL=1e4,CacheEngine}(),ie=function(){function DefaultCacheTiming(e,t){this.expirationAge=e,this.refreshAge=t}return DefaultCacheTiming.prototype.setAge=function(e){e.expirationAge=this.expirationAge,e.refreshAge=this.refreshAge},DefaultCacheTiming}(),oe=new Z({event:"AUTHORIZATION_SUCCESS"});window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.authorizationEvictionTag=oe;var ae=new Z({event:"USER_HAS_CHANGED"}),se=new Z({event:"CATALOG_SYNCHRONIZED_EVENT"}),ce=new Z({event:"CATALOG_EVENT",relatedTags:[se,ae]});window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.catalogSyncedEvictionTag=se,window.smarteditcommons.catalogEvictionTag=ce;var le=new Z({event:"PAGE_CREATED_EVENT"}),de=new Z({event:"PAGE_DELETED_EVENT"}),ue=new Z({event:"PAGE_UPDATED_EVENT"}),pe=new Z({event:"PAGE_RESTORED_EVENT"}),he=new Z({event:"PAGE_CHANGE"}),fe=new Z({event:"pageEvictionTag",relatedTags:[le,de,ue]});window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.pageCreationEvictionTag=le,window.smarteditcommons.pageDeletionEvictionTag=de,window.smarteditcommons.pageUpdateEvictionTag=ue,window.smarteditcommons.pageRestoredEvictionTag=pe,window.smarteditcommons.pageChangeEvictionTag=he,window.smarteditcommons.pageEvictionTag=fe;var me=new Z({event:"EVENT_CONTENT_CATALOG_UPDATE"});window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.contentCatalogUpdateEvictionTag=me;var ge=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ve=function(){function MessageGateway(e,t,n,r,i,o,a,s){this.$q=e,this.$log=t,this.$timeout=n,this.systemEventService=r,this.cloneableUtils=i,this.windowUtils=o,this.TIMEOUT_TO_RETRY_PUBLISHING=a,this.gatewayId=s,this.PROMISE_ACKNOWLEDGEMENT_EVENT_ID="promiseAcknowledgement",this.PROMISE_RETURN_EVENT_ID="promiseReturn",this.SUCCESS="success",this.FAILURE="failure",this.MAX_RETRIES=5,this.promisesToResolve={}}return MessageGateway.$inject=["$q","$log","$timeout","systemEventService","cloneableUtils","windowUtils","TIMEOUT_TO_RETRY_PUBLISHING","gatewayId"],MessageGateway.prototype.publish=function(e,t,n,i){var o=this;if(void 0===n&&(n=0),!e)return this.$log.error("MessageGateway: Failed to send event. No event ID provided for _data: "+t),this.$q.when({});var a=this.cloneableUtils.makeCloneable(t);r.equals(a,t)||this.$log.warn("gatewayFactory.publish - Non cloneable payload has been sanitized for gateway "+this.gatewayId+", event "+e+":",a);var s,c=this.promisesToResolve[i]||this.$q.defer();try{if(!(s=this.windowUtils.getTargetIFrame()))throw new Error("It is standalone. There is no iframe");i=i||this._generateIdentifier();try{s.postMessage({pk:i,gatewayId:this.gatewayId,eventId:e,data:a},"*")}catch(t){this.$log.error(t),this.$log.error("gatewayFactory.publish - postMessage has failed for gateway "+this.gatewayId+" event "+e+" and data ",a)}this.promisesToResolve[i]=c,this.$timeout(function(){c.acknowledged||e===o.PROMISE_RETURN_EVENT_ID||e===o.PROMISE_ACKNOWLEDGEMENT_EVENT_ID||(n<o.MAX_RETRIES?(o.$log.debug(document.location.href,"is retrying to publish event",e),o.publish(e,a,++n,i)):c.reject())},this.TIMEOUT_TO_RETRY_PUBLISHING)}catch(e){c.reject()}return c.promise},MessageGateway.prototype.subscribe=function(e,t){var n;if(e){var r=this._getSystemEventId(e);n=this.systemEventService.subscribe(r,t)}else this.$log.error("MessageGateway: Failed to subscribe event handler for event: "+e);return n},MessageGateway.prototype.processEvent=function(e){var t=this,n=e.data;if(e.eventId!==this.PROMISE_RETURN_EVENT_ID&&e.eventId!==this.PROMISE_ACKNOWLEDGEMENT_EVENT_ID){this.$log.debug(document.location.href,"sending acknowledgement for",e),this.publish(this.PROMISE_ACKNOWLEDGEMENT_EVENT_ID,{pk:e.pk});var r=this._getSystemEventId(e.eventId);this.systemEventService.publishAsync(r,e.data).then(function(n){t.$log.debug(document.location.href,"sending promise resolve",e),t.publish(t.PROMISE_RETURN_EVENT_ID,{pk:e.pk,type:t.SUCCESS,resolvedDataOfLastSubscriber:n})},function(){t.$log.debug(document.location.href,"sending promise reject",e),t.publish(t.PROMISE_RETURN_EVENT_ID,{pk:e.pk,type:t.FAILURE})})}else e.eventId===this.PROMISE_RETURN_EVENT_ID?this.promisesToResolve[n.pk]&&(n.type===this.SUCCESS?(this.$log.debug(document.location.href,"received promise resolve",e),this.promisesToResolve[n.pk].resolve(n.resolvedDataOfLastSubscriber)):n.type===this.FAILURE&&(this.$log.debug(document.location.href,"received promise reject",e),this.promisesToResolve[n.pk].reject()),delete this.promisesToResolve[n.pk]):e.eventId===this.PROMISE_ACKNOWLEDGEMENT_EVENT_ID&&this.promisesToResolve[n.pk]&&(this.$log.debug(document.location.href,"received acknowledgement",e),this.promisesToResolve[n.pk].acknowledged=!0)},MessageGateway.prototype._generateIdentifier=function(){return(new Date).getTime()+Math.random().toString()},MessageGateway.prototype._getSystemEventId=function(e){return this.gatewayId+":"+e},MessageGateway=ge([function(e){return e}],MessageGateway)}(),ye=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Se=function(){function GatewayFactory(e,t,n,r,i,o,a,s,c,l,d,u,p){this.$q=e,this.$log=t,this.$window=n,this.$injector=r,this.$timeout=i,this.systemEventService=o,this.cloneableUtils=a,this.getOrigin=s,this.regExpFactory=c,this.isIframe=l,this.windowUtils=d,this.WHITE_LISTED_STOREFRONTS_CONFIGURATION_KEY=u,this.TIMEOUT_TO_RETRY_PUBLISHING=p,this.messageGatewayMap={}}return GatewayFactory.$inject=["$q","$log","$window","$injector","$timeout","systemEventService","cloneableUtils","getOrigin","regExpFactory","isIframe","windowUtils","WHITE_LISTED_STOREFRONTS_CONFIGURATION_KEY","TIMEOUT_TO_RETRY_PUBLISHING"],GatewayFactory.prototype.initListener=function(){var e=this,t=[];this.$window.addEventListener("message",function(n){if(e._isAllowed(n.origin)){var r=n.data;if(t.indexOf(r.pk)>-1)return;t.push(r.pk),e.$log.debug("message event handler called",r.eventId);var i=r.gatewayId,o=e.messageGatewayMap[i];if(!o)return void e.$log.debug("Incoming message on gateway "+i+", but no destination exists.");o.processEvent(r)}else e.$log.error("disallowed storefront is trying to communicate with smarteditcontainer")},!1)},GatewayFactory.prototype.createGateway=function(e){return this.messageGatewayMap[e]?(this.$log.error("Message Gateway for "+e+" already reserved"),null):(this.messageGatewayMap[e]=new ve(this.$q,this.$log,this.$timeout,this.systemEventService,this.cloneableUtils,this.windowUtils,this.TIMEOUT_TO_RETRY_PUBLISHING,e),this.messageGatewayMap[e])},GatewayFactory.prototype._isAllowed=function(e){var t=this,n=this.$injector.has(this.WHITE_LISTED_STOREFRONTS_CONFIGURATION_KEY)?this.$injector.get(this.WHITE_LISTED_STOREFRONTS_CONFIGURATION_KEY):[];return this.isIframe()||this.getOrigin()===e||n.some(function(n){return t.regExpFactory(n).test(e)})},GatewayFactory=ye([function(e){return e}],GatewayFactory)}(),Ee=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},_e=function(){function GatewayProxy(e,t,n,r,i,o){this.$log=e,this.$q=t,this.toPromise=n,this.isBlank=r,this.functionsUtils=i,this.gatewayFactory=o,this.nonProxiableMethods=["getMethodForVoid","getMethodForSingleInstance","getMethodForArray"]}return GatewayProxy.$inject=["$log","$q","toPromise","isBlank","functionsUtils","gatewayFactory"],GatewayProxy.prototype.initForService=function(e,t,n){var r=this,i=n||e.gatewayId;if(!i)return this.$log.error("initForService() - service expected to have an associated gatewayId - methodsSubset: "+(t&&t.length?t.join(","):[])),null;var o=this.gatewayFactory.createGateway(i),a=t;if(!a)for(var s in a=[],e)"function"!=typeof e[s]||this._isNonProxiableMethod(s)||a.push(s);a.forEach(function(t){"function"==typeof e[t]&&(r.functionsUtils.isEmpty(e[t])?r._turnToProxy(t,e,o):(e[t]=r.toPromise(e[t],e),o.subscribe(t,r._onGatewayEvent.bind(null,t,e))))})},GatewayProxy.prototype._isNonProxiableMethod=function(e){return this.nonProxiableMethods.indexOf(e)>-1||e.startsWith("$")||"lodash"===e||"jQuery"===e},GatewayProxy.prototype._onGatewayEvent=function(e,t,n,r){return t[e].apply(t,r.arguments)},GatewayProxy.prototype._turnToProxy=function(e,t,n){var r=this;delete t[e],t[e]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.publish(e,{arguments:t}).then(function(e){return r.isBlank(e)||(delete e.$resolved,delete e.$promise),e},function(i){return i&&r.$log.error("gatewayProxy - publish failed for gateway "+n.gatewayId+" method "+e+" and arguments "+t),r.$q.reject(i)})}},GatewayProxy=Ee([function(e){return e}],GatewayProxy)}(),be=function(){function IExperienceService(e){this.lodash=e}return IExperienceService.prototype.updateExperiencePageContext=function(e,t){"proxyFunction";return null},IExperienceService.prototype.getCurrentExperience=function(){"proxyFunction";return null},IExperienceService.prototype.setCurrentExperience=function(e){"proxyFunction";return null},IExperienceService.prototype.hasCatalogVersionChanged=function(){"proxyFunction";return null},IExperienceService.prototype.buildRefreshedPreviewUrl=function(){"proxyFunction";return null},IExperienceService.prototype.updateExperience=function(e){"proxyFunction";return null},IExperienceService.prototype._convertExperienceToPreviewData=function(e,t){var n=this.lodash.cloneDeep(e),r=[];return delete n.catalogDescriptor,delete n.siteDescriptor,delete n.languageDescriptor,delete n.pageContext,delete n.productCatalogVersions,e.productCatalogVersions&&e.productCatalogVersions.length&&e.productCatalogVersions.forEach(function(e){r.push({catalog:e.catalog,catalogVersion:e.catalogVersion})}),r.push({catalog:e.catalogDescriptor.catalogId,catalogVersion:e.catalogDescriptor.catalogVersion}),n.catalogVersions=r,n.language=e.languageDescriptor.isocode,n.resourcePath=t,n},IExperienceService}(),Ce=function(){function INotificationMouseLeaveDetectionService(){}return INotificationMouseLeaveDetectionService.prototype.startDetection=function(e,t,n){"proxyFunction";return null},INotificationMouseLeaveDetectionService.prototype.stopDetection=function(){"proxyFunction";return null},INotificationMouseLeaveDetectionService.prototype._remoteStartDetection=function(e){"proxyFunction";return null},INotificationMouseLeaveDetectionService.prototype._remoteStopDetection=function(){"proxyFunction";return null},INotificationMouseLeaveDetectionService.prototype._callCallback=function(){"proxyFunction";return null},INotificationMouseLeaveDetectionService.prototype._onMouseMove=function(e){var t=this;this._getBounds().then(function(n){var r=n&&e&&(e.clientX<n.x||e.clientX>n.x+n.width),i=n&&e&&(e.clientY<n.y||e.clientY>n.y+n.height);(r||i)&&t._onMouseLeave()})},INotificationMouseLeaveDetectionService.prototype._getBounds=function(){"proxyFunction";return null},INotificationMouseLeaveDetectionService.prototype._getCallback=function(){"proxyFunction";return null},INotificationMouseLeaveDetectionService.prototype._onMouseLeave=function(){var e=this;this._getCallback().then(function(t){t?(t(),e.stopDetection()):e._callCallback().then(function(){e.stopDetection()})})},INotificationMouseLeaveDetectionService}(),Te=function(){function INotificationService(){}return INotificationService.prototype.pushNotification=function(e){"proxyFunction";return null},INotificationService.prototype.removeNotification=function(e){"proxyFunction";return null},INotificationService.prototype.removeAllNotifications=function(){"proxyFunction";return null},INotificationService}(),Ie=function(){function IPageInfoService(){}return IPageInfoService.prototype.getPageUID=function(){"proxyFunction";return null},IPageInfoService.prototype.getPageUUID=function(){"proxyFunction";return null},IPageInfoService.prototype.getCatalogVersionUUIDFromPage=function(){"proxyFunction";return null},IPageInfoService}(),we=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Oe=function(){function IPreviewService(e){this.urlUtils=e}return IPreviewService.prototype.createPreview=function(e){"proxyFunction";return null},IPreviewService.prototype.getResourcePathFromPreviewUrl=function(e){"proxyFunction";return null},IPreviewService.prototype.updateUrlWithNewPreviewTicketId=function(e,t){var n=this;return this.createPreview(t).then(function(t){return n.urlUtils.updateUrlParameter(e,"cmsTicketId",t.previewTicketId)})},IPreviewService=we([function(e){return e}],IPreviewService)}(),Re=function(){function ISessionService(){}return ISessionService.prototype.getCurrentUsername=function(){"proxyFunction";return null},ISessionService.prototype.getCurrentUserDisplayName=function(){"proxyFunction";return null},ISessionService.prototype.getCurrentUser=function(){"proxyFunction";return null},ISessionService.prototype.hasUserChanged=function(){"proxyFunction";return null},ISessionService.prototype.resetCurrentUserData=function(){"proxyFunction";return null},ISessionService.prototype.setCurrentUsername=function(e){"proxyFunction";return null},ISessionService}(),Ae=function(){function ISharedDataService(){}return ISharedDataService.prototype.get=function(e){"proxyFunction";return null},ISharedDataService.prototype.set=function(e,t){"proxyFunction";return null},ISharedDataService.prototype.update=function(e,t){"proxyFunction";return null},ISharedDataService}(),Pe=function(){function IStorageService(){}return IStorageService.prototype.isInitialized=function(){"proxyFunction";return null},IStorageService.prototype.storePrincipalIdentifier=function(e){"proxyFunction";return null},IStorageService.prototype.removePrincipalIdentifier=function(){"proxyFunction";return null},IStorageService.prototype.getPrincipalIdentifier=function(){"proxyFunction";return null},IStorageService.prototype.storeAuthToken=function(e,t){"proxyFunction";return null},IStorageService.prototype.getAuthToken=function(e){"proxyFunction";return null},IStorageService.prototype.removeAuthToken=function(e){"proxyFunction";return null},IStorageService.prototype.removeAllAuthTokens=function(){"proxyFunction";return null},IStorageService.prototype.getValueFromCookie=function(e,t){"proxyFunction";return null},IStorageService.prototype.putValueInCookie=function(e,t,n){"proxyFunction";return null},IStorageService.prototype.setItem=function(e,t){"proxyFunction";return null},IStorageService.prototype.getItem=function(e){"proxyFunction";return null},IStorageService}(),Me=function(){function IUrlService(e,t,n,r,i,o){this.PAGE_CONTEXT_SITE_ID=e,this.PAGE_CONTEXT_CATALOG=t,this.PAGE_CONTEXT_CATALOG_VERSION=n,this.CONTEXT_SITE_ID=r,this.CONTEXT_CATALOG=i,this.CONTEXT_CATALOG_VERSION=o}return IUrlService.prototype.openUrlInPopup=function(e){"proxyFunction";return null},IUrlService.prototype.path=function(e){"proxyFunction";return null},IUrlService.prototype.buildUriContext=function(e,t,n){var r={};return r[this.CONTEXT_SITE_ID]=e,r[this.CONTEXT_CATALOG]=t,r[this.CONTEXT_CATALOG_VERSION]=n,r},IUrlService.prototype.buildPageUriContext=function(e,t,n){var r={};return r[this.PAGE_CONTEXT_SITE_ID]=e,r[this.PAGE_CONTEXT_CATALOG]=t,r[this.PAGE_CONTEXT_CATALOG_VERSION]=n,r},IUrlService}(),De=function(){function IWaitDialogService(){}return IWaitDialogService.prototype.showWaitModal=function(e){"proxyFunction";return null},IWaitDialogService.prototype.hideWaitModal=function(){"proxyFunction";return null},IWaitDialogService}(),Ne=function(e){return this.ruleVerifyFunctions=this.ruleVerifyFunctions||{},this.ruleVerifyFunctions[e.names.join("-")]={verify:e.verify},delete e.verify,e},xe=function(){function IPermissionService(){}return IPermissionService.prototype.clearCache=function(){"proxyFunction"},IPermissionService.prototype.getPermission=function(e){"proxyFunction";return null},IPermissionService.prototype.isPermitted=function(e){"proxyFunction";return null},IPermissionService.prototype.registerPermission=function(e){"proxyFunction"},IPermissionService.prototype.registerRule=function(e){!function(e){if(!(e.names instanceof Array))throw Error("Rule names must be array");if(e.names.length<1)throw Error("Rule requires at least one name");if(!e.verify)throw Error("Rule requires a verify function");if("function"!=typeof e.verify)throw Error("Rule verify must be a function")}(e),e=Ne.bind(this)(e),this._registerRule(e)},IPermissionService.prototype.registerDefaultRule=function(e){e=Ne.bind(this)(e),this._registerDefaultRule(e)},IPermissionService.prototype.unregisterDefaultRule=function(){"proxyFunction"},IPermissionService.prototype._registerRule=function(e){"proxyFunction"},IPermissionService.prototype._registerDefaultRule=function(e){"proxyFunction"},IPermissionService}(),$e=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Le=function(){function AuthorizationService(e,t,n){this.$log=e,this.sessionService=t,this.permissionsRestService=n}var e;return AuthorizationService.$inject=["$log","sessionService","permissionsRestService"],e=AuthorizationService,AuthorizationService.prototype.hasGlobalPermissions=function(t){var n=this;if(!t.length||t.length<1)throw e.ERR_INVALID_PERMISSION_NAMES;return this.getPermissions(t).then(function(e){return n.mergePermissionResults(e,t)},function(){return n.$log.error("AuthorizationService - Failed to determine authorization for the following permissions: "+t.toString()),!1})},AuthorizationService.prototype.getPermissionResult=function(e,t){var n=e.permissions.find(function(e){return e.key.toLowerCase()===t.toLowerCase()});return!!n&&"true"===n.value},AuthorizationService.prototype.mergePermissionResults=function(e,t){for(var n=!!t&&t.length>0,r=0;n&&r<t.length;)n=n&&this.getPermissionResult(e,t[r++]);return n},AuthorizationService.prototype.getPermissions=function(e){var t=this;return this.sessionService.getCurrentUsername().then(function(n){return n?t.permissionsRestService.get({user:n,permissionNames:e.join(",")}).then(function(e){return e}):{permissions:[]}})},AuthorizationService.ERR_INVALID_PERMISSION_NAMES=new Error("permissionNames must be a non-empty array"),AuthorizationService=e=$e([function(e){return e}],AuthorizationService)}(),Ue=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Fe=function(){function CrossFrameEventServiceGateway(e,t){return t.createGateway(e)}return CrossFrameEventServiceGateway.$inject=["CROSS_FRAME_EVENT","gatewayFactory"],CrossFrameEventServiceGateway=Ue([function(e){return e}],CrossFrameEventServiceGateway)}(),ke="GatewayProxied",je=d.getClassAnnotationFactory(ke);function GatewayProxiedAnnotationFactory(e,t){"ngInject";return d.setClassAnnotationFactory(ke,function(t){return function(n,r,i){r.call.apply(r,[n].concat(i)),n.gatewayId=u.buildServiceName(r),e.initForService(n,t.length>0?t:null)}})}window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.GatewayProxied=je,window.smarteditcommons.GatewayProxiedAnnotationFactory=GatewayProxiedAnnotationFactory;var He=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ge=function(){function Instrumentation(e){this.readObjectStructure=e,this._FUNCTION_EXECUTION_DATA={},this._DECORATED_MODULES=[],this._DEFAULT_LEVEL=10,this.alreadyBrowsed=[],this.functionsUtils=new s}return Instrumentation.prototype.execute=function(e,t,n){var i=this,o=t||this._DEFAULT_LEVEL;if(void 0!==e.modules){this._logFunctionArgumentsAndReturnValue=this._logFunctionArgumentsAndReturnValue.bind(this),this._getServiceConfig=this._getServiceConfig.bind(this),this._getIterableDelegate=this._getIterableDelegate.bind(this),this._getDelegateFunctions=this._getDelegateFunctions.bind(this),this._extractComponentBindings=this._extractComponentBindings.bind(this),this._extractDirectiveBindings=this._extractDirectiveBindings.bind(this);var a=e.$provide;e.modules.forEach(function(t){if(i.alreadyBrowsed.push(t),n||!(i._DECORATED_MODULES.indexOf(t)>-1)&&t.endsWith("Module")){i._DECORATED_MODULES.push(t);var s=i._getServiceConfig(t),c=s.exclude.concat(e.globalExcludedFunctions||[]),l=s.include.concat(e.globalIncludedFunctions||[]),d=r.module(t);if(d._invokeQueue.forEach(function(n){var r=n[1];if(["factory","component","service","directive"].indexOf(r)>-1){var o=n[2],s=o[0];if("component"===r)i._extractComponentBindings(o);else if("directive"===r)i._extractDirectiveBindings(o);else try{i._isEligible(s,e.globalExcludedRecipes,e.globalIncludedRecipes)?a.decorator(s,function(e){var t=i._getIterableDelegate(e);return i._getDelegateFunctions(t,c,l).forEach(function(e){if(!t[e.name].__DECORATED__){var n=i,r=n.functionsUtils.isEmpty(e.fn);t[e.name]=r?function(){"proxyFunction";var t=e.fn.apply(this,arguments);return n._logFunctionArgumentsAndReturnValue(s,e.name,arguments,t),t}:function(){var t=e.fn.apply(this,arguments);return n._logFunctionArgumentsAndReturnValue(s,e.name,arguments,t),t},t[e.name].__DECORATED__=!0}}),e}):i.warn("not eligible recipe : "+s)}catch(e){i.error(e),i.warn("Warning-No-Service-Exists: "+s+" of type "+r+", moduleName: "+t)}}}),o>0){var u=o-1;d.requires.forEach(function(t){-1===i.alreadyBrowsed.indexOf(t)&&-1===e.defaultExcludeModules.indexOf(t)&&-1===t.indexOf("Mock")&&i.execute({globalExcludedRecipes:e.globalExcludedRecipes,globalIncludedRecipes:e.globalIncludedRecipes,globalExcludedFunctions:e.globalExcludedFunctions,globalIncludedFunctions:e.globalIncludedFunctions,modules:[t],$provide:e.$provide,defaultExcludeModules:e.defaultExcludeModules},u,!1)})}}})}},Instrumentation.prototype._getServiceConfig=function(e){return"string"==typeof e?{name:e,exclude:[],include:[]}:e},Instrumentation.prototype._getIterableDelegate=function(e){return e.prototype?e.prototype:e},Instrumentation.prototype._matches=function(e,t){return new RegExp(t,"gi").test(e)},Instrumentation.prototype._getDelegateFunctions=function(e,t,n){var r=[];for(var i in e)"function"==typeof e[i]&&this._isEligible(i,t,n)&&r.push({name:i,fn:e[i]});return r},Instrumentation.prototype._isEligible=function(e,t,n){return!(n.length&&!n.find(this._matches.bind(this,e))||t.length&&t.find(this._matches.bind(this,e)))},Instrumentation.prototype._resultIsPromise=function(e){return!!e&&void 0!==e.$$state},Instrumentation.prototype._keyExists=function(e){return void 0!==this._FUNCTION_EXECUTION_DATA[e]},Instrumentation.prototype._extractComponentBindings=function(e){var t=e[0],n=e[1].bindings;this._logDirectiveResult(t,n)},Instrumentation.prototype._extractDirectiveBindings=function(e){var t=e[0];try{var n=e[1],r=null;if("function"==typeof n?r=n():n instanceof Array&&(r=n[n.length-1]()),r){var i=r.scope,o=r.bindToController;this._logDirectiveResult(t,void 0,i,o)}}catch(e){this._logDirectiveResult(t)}},Instrumentation.prototype._logFunctionArgumentsAndReturnValue=function(e,t,n,i){var o=this,a=this.readObjectStructure(Array.prototype.slice.call(n)),s=null;try{s=e+"~"+t+"~"+r.toJson(a)}catch(e){return this.error("COULD NOT GENERATE KEY"),i}if(this._keyExists(s))return i;if(this._FUNCTION_EXECUTION_DATA[s]={},this._resultIsPromise(i))return i.then(function(n){try{o._FUNCTION_EXECUTION_DATA[s]={serviceName:e,functionName:t,arguments:a,result:{promiseValue:o.readObjectStructure(n)}},o.warn(r.toJson(o._FUNCTION_EXECUTION_DATA[s]))}catch(e){o.error("COULD NOT STRINGIFY")}return Promise.resolve(n)},function(n){return o.error("ERROR WHILE RESOLVING RESULT: "+n),o._FUNCTION_EXECUTION_DATA[s]={serviceName:e,functionName:t,arguments:a,result:{promiseValue:n}},o.warn(r.toJson(o._FUNCTION_EXECUTION_DATA[s])),Promise.reject(n)});this._FUNCTION_EXECUTION_DATA[s]={serviceName:e,functionName:t,arguments:a,result:this.readObjectStructure(i)};try{this.warn(r.toJson(this._FUNCTION_EXECUTION_DATA[s]))}catch(e){this.error("COULD NOT STRINGIFY")}return i},Instrumentation.prototype._logDirectiveResult=function(e,t,n,i){this.warn(r.toJson({directiveName:e,bindings:t,scope:n,bindToController:i}))},Instrumentation.prototype.warn=function(e){console.warn(e)},Instrumentation.prototype.error=function(e){console.error(e)},Instrumentation=He([function(e){return e}],Instrumentation)}();var Ve=function(e,t,n){"ngInject";"true"===function getItemFromSessionStorage(e){try{return window.sessionStorage.getItem(e)}catch(e){return null}}("isInstrumented")&&new Ge(t).execute({globalExcludedRecipes:["assetsService","configurationExtractorService","experienceService"],globalIncludedRecipes:["^.*Interface$","^.*Service$","^.*Helper$","^.*Hanlder$","^.*Editor$","^I.*$","^.*Decorator$","^.*Directive$","^.*Registry$","^.*Listener$","^.*Resource$","^.*Populator$","^.*Constants$","^.*Factory$","^.*Facade$","^.*Interceptor$","^.*Manager$","^.*Class$","^.*Strategy","^.*Predicate","^.*Retry","^.*Gateway"],globalExcludedFunctions:["^_.*$","^\\$","lodash","yjQuery"],globalIncludedFunctions:["^.*$"],defaultExcludeModules:["yjqueryModule","functionsModule","ycmssmarteditModule","timerModule","ui.bootstrap","ngResource","ui.select","yjQuery","instrumentModule","interceptorHelperModule","i18nInterceptorModule","loadConfigModule","ui.tree","treeModule"],modules:[n],$provide:e},15,!0)};Ve.$inject=["$provide","readObjectStructure","TOP_LEVEL_MODULE_NAME"];var Be="OperationContextRegistered",qe=d.getClassAnnotationFactory(Be);function OperationContextAnnotationFactory(e,t,n){"ngInject";return d.setClassAnnotationFactory(Be,function(r){return function(i,o,a){o.call.apply(o,[i].concat(a));var s=e.has(r[0])?e.get(r[0]):r[0];if("string"==typeof r[1]){var c=n[r[1]];t.register(s,c)}else Array.isArray(r[1])&&r[1].length>0&&r[1].forEach(function(e){t.register(s,n[e])})}})}window.smarteditcommons=window.smarteditcommons?window.smarteditcommons:{},window.smarteditcommons.OperationContextRegistered=qe,window.smarteditcommons.OperationContextAnnotationFactory=OperationContextAnnotationFactory;var ze=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},We=function(){function LanguageService(e,t,n,r,i,o,a,s,c,l,d,u){this.$log=e,this.$translate=t,this.$q=n,this.languageServiceGateway=r,this.crossFrameEventService=i,this.browserService=o,this.storageService=a,this.SWITCH_LANGUAGE_EVENT=s,this.SELECTED_LANGUAGE=c,this.initDeferred=this.$q.defer(),this.languageRestService=u.get(l),this.i18nLanguageRestService=u.get(d)}return LanguageService.$inject=["$log","$translate","$q","languageServiceGateway","crossFrameEventService","browserService","storageService","SWITCH_LANGUAGE_EVENT","SELECTED_LANGUAGE","LANGUAGE_RESOURCE_URI","I18N_LANGUAGES_RESOURCE_URI","restServiceFactory"],LanguageService.prototype.getBrowserLanguageIsoCode=function(){return window.navigator.language.split("-")[0]},LanguageService.prototype.setInitialized=function(e){e?this.initDeferred.resolve():this.initDeferred.reject()},LanguageService.prototype.isInitialized=function(){return this.initDeferred.promise},LanguageService.prototype.getBrowserLocale=function(){return this.browserService.getBrowserLocale()},LanguageService.prototype.getResolveLocale=function(){return this.$q.when(this._getDefaultLanguage())},LanguageService.prototype.getResolveLocaleIsoCode=function(){var e=this;return this.getResolveLocale().then(function(t){return e.convertBCP47TagToJavaTag(t).split("_")[0]})},LanguageService.prototype.getLanguagesForSite=function(e){var t=this;return this.languageRestService.get({siteUID:e}).then(function(e){return e.languages},function(e){return t.$log.error("LanguageService.getLanguagesForSite() - Error loading languages"),t.$q.reject(e)})},LanguageService.prototype.getToolingLanguages=function(){var e=this;return this.i18nLanguageRestService.get({}).then(function(t){return e.$q.when(t.languages)},function(t){return e.$log.error("LanguageService.getToolingLanguages() - Error loading tooling languages"),e.$q.reject(t)})},LanguageService.prototype.setSelectedToolingLanguage=function(e){this.storageService.putValueInCookie(this.SELECTED_LANGUAGE,e,!1),this.$translate.use(e.isoCode),this.languageServiceGateway.publish(this.SWITCH_LANGUAGE_EVENT,{isoCode:e.isoCode}),this.crossFrameEventService.publish(this.SWITCH_LANGUAGE_EVENT)},LanguageService.prototype.registerSwitchLanguage=function(){var e=this;this.languageServiceGateway.subscribe(this.SWITCH_LANGUAGE_EVENT,function(t,n){return e.$translate.use(n.isoCode)})},LanguageService.prototype.convertBCP47TagToJavaTag=function(e){return e?e.replace(/-/g,"_"):e},LanguageService.prototype.convertJavaTagToBCP47Tag=function(e){return e?e.replace(/_/g,"-"):e},LanguageService.prototype._getDefaultLanguage=function(){var e=this;return this.storageService.getValueFromCookie(this.SELECTED_LANGUAGE,!1).then(function(t){return t?t.isoCode:e.browserService.getBrowserLocale()},function(){return e.browserService.getBrowserLocale()})},ze([W({actions:[ne]})],LanguageService.prototype,"getLanguagesForSite",null),ze([W({actions:[ne]})],LanguageService.prototype,"getToolingLanguages",null),LanguageService=ze([qe("LANGUAGE_RESOURCE_URI","TOOLING"),function(e){return e}],LanguageService)}(),Ye=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ke=function(){function LanguageServiceGateway(e){return e.createGateway("languageSwitch")}return LanguageServiceGateway.$inject=["gatewayFactory"],LanguageServiceGateway=Ye([function(e){return e}],LanguageServiceGateway)}(),Xe=function(){function IPerspectiveService(){}return IPerspectiveService.prototype.register=function(e){"proxyFunction";return null},IPerspectiveService.prototype.switchTo=function(e){"proxyFunction";return null},IPerspectiveService.prototype.hasActivePerspective=function(){"proxyFunction";return null},IPerspectiveService.prototype.selectDefault=function(){"proxyFunction";return null},IPerspectiveService.prototype.isEmptyPerspectiveActive=function(){"proxyFunction";return null},IPerspectiveService.prototype.refreshPerspective=function(){"proxyFunction";return null},IPerspectiveService.prototype.getActivePerspectiveKey=function(){"proxyFunction";return null},IPerspectiveService.prototype.isHotkeyEnabledForActivePerspective=function(){"proxyFunction";return null},IPerspectiveService}(),Qe=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Je=function(){function AbstractCachedRestService(e,t,n){this.innerRestService=e.get(t,n),this.innerRestService.activateMetadata()}return AbstractCachedRestService.prototype.getById=function(e){return this.innerRestService.getById(e)},AbstractCachedRestService.prototype.get=function(e){return this.innerRestService.get(e)},AbstractCachedRestService.prototype.query=function(e){return this.innerRestService.query(e)},AbstractCachedRestService.prototype.page=function(e){return this.innerRestService.page(e)},AbstractCachedRestService.prototype.update=function(e){return this.innerRestService.update(e)},AbstractCachedRestService.prototype.remove=function(e){return this.innerRestService.remove(e)},AbstractCachedRestService.prototype.save=function(e){return this.innerRestService.save(e)},Qe([StripResponseHeaders,W()],AbstractCachedRestService.prototype,"getById",null),Qe([StripResponseHeaders,W()],AbstractCachedRestService.prototype,"get",null),Qe([StripResponseHeaders,W()],AbstractCachedRestService.prototype,"query",null),Qe([StripResponseHeaders,W()],AbstractCachedRestService.prototype,"page",null),Qe([StripResponseHeaders,K()],AbstractCachedRestService.prototype,"update",null),Qe([K()],AbstractCachedRestService.prototype,"remove",null),Qe([StripResponseHeaders],AbstractCachedRestService.prototype,"save",null),AbstractCachedRestService}();function StripResponseHeaders(e,t,n){var r=n.value;n.value=function(){return r.apply(this,arguments).then(function(e){return delete e.headers,e})}}var Ze=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),et=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},tt="/cmssmarteditwebservices/v1/sites/:siteUID/contentcatalogs",nt=(function(e){function ContentCatalogRestService(t){return e.call(this,t,tt)||this}Ze(ContentCatalogRestService,e),ContentCatalogRestService.$inject=["restServiceFactory"],ContentCatalogRestService=et([q({actions:[ne],tags:[ae,fe,me]}),qe(tt,["CMS","INTERACTIVE"]),function(e){return e}],ContentCatalogRestService)}(Je),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}()),rt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},it=(function(e){function ProductCatalogRestService(t){return e.call(this,t,"/cmssmarteditwebservices/v1/sites/:siteUID/productcatalogs")||this}ProductCatalogRestService.$inject=["restServiceFactory"],nt(ProductCatalogRestService,e),ProductCatalogRestService=rt([q({actions:[ne],tags:[ae]}),function(e){return e}],ProductCatalogRestService)}(Je),function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}),ot=function(){function PermissionsRestService(e){this.URI="/permissionswebservices/v1/permissions/principals/:user/global",this.resource=e.get(this.URI)}return PermissionsRestService.$inject=["restServiceFactory"],PermissionsRestService.prototype.get=function(e){return this.resource.get(e).then(function(e){return{permissions:e.permissions}})},PermissionsRestService=it([function(e){return e}],PermissionsRestService)}(),at=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},st=function(){function OperationContextService(e){this.lodash=e,this.store=[]}return OperationContextService.$inject=["lodash"],OperationContextService.prototype.register=function(e,t){if("string"!=typeof e||this.lodash.isEmpty(e))throw new Error("operationContextService.register error: url is invalid");if("string"!=typeof t||this.lodash.isEmpty(t))throw new Error("operationContextService.register error: operationContext is invalid");if(-1!==this.store.findIndex(function(n){return!0===n.urlRegex.test(e)&&n.operationContext===t}))return null;var n=new RegExp(e.replace(/\/:[^\/]*/g,"/.*"));return this.store.push({urlRegex:n,operationContext:t}),this},OperationContextService.prototype.findOperationContext=function(e){var t=this.store.findIndex(function(t){return!0===t.urlRegex.test(e)});return~t?this.store[t].operationContext:null},OperationContextService=at([function(e){return e}],OperationContextService)}(),ct=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},lt=function(){function PolyfillService(e,t){this.browserService=e,this.testModeService=t}return PolyfillService.$inject=["browserService","testModeService"],PolyfillService.prototype.isEligibleForEconomyMode=function(){return this.browserService.isIE()||this.testModeService.isE2EMode()},PolyfillService.prototype.isEligibleForExtendedView=function(){return this.browserService.isIE()||this.browserService.isFF()||this.testModeService.isE2EMode()},PolyfillService.prototype.isEligibleForThrottledScrolling=function(){return this.browserService.isIE()},PolyfillService=ct([function(e){return e}],PolyfillService)}(),dt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ut=function(){function PriorityService(e){this.encode=e}return PriorityService.$inject=["encode"],PriorityService.prototype.sort=function(e,t){var n=this;return void 0===t&&(t=!0),e.sort(function(e,t){var r=e.priority-t.priority;return 0===r&&(r=n.encode(e).localCompare(n.encode(t))),r})},PriorityService=dt([function(e){return e}],PriorityService)}(),pt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ht=(function(){function SmarteditBootstrapGateway(e){return e.createGateway("smartEditBootstrap")}SmarteditBootstrapGateway.$inject=["gatewayFactory"],SmarteditBootstrapGateway=pt([function(e){return e}],SmarteditBootstrapGateway)}(),function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}),ft=function(){function TestModeService(e){this.$injector=e,this.TEST_KEY="e2eMode"}return TestModeService.$inject=["$injector"],TestModeService.prototype.isE2EMode=function(){return this.$injector.has(this.TEST_KEY)&&this.$injector.get(this.TEST_KEY)},TestModeService=ht([function(e){return e}],TestModeService)}(),mt={DROP:"drop",DRAG_ENTER:"dragenter",DRAG_OVER:"dragover",DRAG_LEAVE:"dragleave"},gt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},vt={root:null,threshold:0},yt=1,St={attributes:!1,attributeOldValue:!1,childList:!0,characterData:!1,subtree:!0},Et=function(){function InViewElementObserver(e,t,n,r,i,o,a){this.$log=e,this.$document=t,this.compareHTMLElementsPosition=n,this.lodash=r,this.yjQuery=i,this.isBlank=o,this.isPointOverElement=a,this.componentsQueue=[],this.selectors=[]}return InViewElementObserver.$inject=["$log","$document","compareHTMLElementsPosition","lodash","yjQuery","isBlank","isPointOverElement"],InViewElementObserver.prototype.elementFromPoint=function(e){var t=this;return document.elementFromPoint(e.x,e.y)||this.getInViewElements().find(function(n){return t.isPointOverElement(e,n)})},InViewElementObserver.prototype.addSelector=function(e){this.isBlank(e)||-1!==this.selectors.indexOf(e)||(this.selectors.push(e),this.restart())},InViewElementObserver.prototype.getAllElements=function(){return this.componentsQueue.map(function(e){return e.component})},InViewElementObserver.prototype.getInViewElements=function(){return this.componentsQueue.filter(function(e){return e.isIntersecting}).map(function(e){return e.component})},InViewElementObserver.prototype.restart=function(){this.stopListener(),this.initListener()},InViewElementObserver.prototype.stopListener=function(){this.mutationObserver&&(this.mutationObserver.disconnect(),delete this.mutationObserver),this.intersectionObserver&&(this.intersectionObserver.disconnect(),delete this.intersectionObserver),this.componentsQueue=[]},InViewElementObserver.prototype.initListener=function(){var e=this;this.mutationObserver||(this.mutationObserver=this._newMutationObserver(this._mutationObserverCallback.bind(this)),this.intersectionObserver||(this.intersectionObserver=this._newIntersectionObserver(function(t){t.filter(function(t){return e._isEligibleComponent(t.target)}).forEach(function(t){e._updateQueue(t)})})),this._getEligibleElements().forEach(function(t){e.intersectionObserver.observe(t)}))},InViewElementObserver.prototype._aggregateAddedOrRemovedNodes=function(e,t){var n=this,r=this.lodash.flatten(e.filter(function(e){return"childList"===e.type&&(!!t&&e.addedNodes&&e.addedNodes.length||!t&&e.removedNodes&&e.removedNodes.length)}).map(function(e){return n.lodash.flatten(Array.prototype.slice.call(t?e.addedNodes:e.removedNodes).filter(function(e){return e.nodeType===yt}).filter(function(e){return n._isEligibleComponent(e)}).map(function(e){return[e].concat(n._getAllEligibleChildren(e))})).sort(n.compareHTMLElementsPosition()).reverse()}));return this.lodash.uniqWith(r,function(e,t){return e.contains(t)||t.contains(e)})},InViewElementObserver.prototype._mutationObserverCallback=function(e){var t=this;this.$log.debug(e),this._aggregateAddedOrRemovedNodes(e,!0).forEach(function(e){t.intersectionObserver.observe(e)}),this._aggregateAddedOrRemovedNodes(e,!1).forEach(function(e){var n=t._getComponentIndexInQueue(e);-1!==n&&t.componentsQueue.splice(n,1)})},InViewElementObserver.prototype._updateQueue=function(e){var t=this._getComponentIndexInQueue(e.target);-1!==t?e.intersectionRatio||this._isInDOM(e.target)?this.componentsQueue[t].isIntersecting=!!e.intersectionRatio:this.componentsQueue.splice(t,1):this._isInDOM(e.target)&&this.componentsQueue.push({component:e.target,isIntersecting:!!e.intersectionRatio})},InViewElementObserver.prototype._newMutationObserver=function(e){var t=new MutationObserver(e);return t.observe(document.body,St),t},InViewElementObserver.prototype._newIntersectionObserver=function(e){return new IntersectionObserver(e,vt)},InViewElementObserver.prototype._getJQuerySelector=function(){return this.selectors.join(",")},InViewElementObserver.prototype._isEligibleComponent=function(e){return this.yjQuery(e).is(this._getJQuerySelector())},InViewElementObserver.prototype._getEligibleElements=function(){return Array.prototype.slice.call(this.yjQuery(this._getJQuerySelector()))},InViewElementObserver.prototype._getAllEligibleChildren=function(e){return Array.prototype.slice.call(this.yjQuery(e).find(this._getJQuerySelector()))},InViewElementObserver.prototype._getComponentIndexInQueue=function(e){return this.componentsQueue.findIndex(function(t){return e===t.component})},InViewElementObserver.prototype._isInDOM=function(e){return this.yjQuery.contains(this.$document[0],e)},InViewElementObserver=gt([function(e){return e}],InViewElementObserver)}(),_t=function(){function StorageNamespaceConverter(){}return StorageNamespaceConverter.ERR_INVALID_NAMESPACED_ID=function(e){return new Error("StorageNamespaceConverter - Invalid namespaced id ["+e+"]")},StorageNamespaceConverter.getNamespacedStorageId=function(e,t){return""+e+this.separator+t},StorageNamespaceConverter.getStorageIdFromNamespacedId=function(e){var t=e.match(new RegExp(this.namespaceDecoderRegexStr));if(t&&t[2].length>0)return t[2];throw StorageNamespaceConverter.ERR_INVALID_NAMESPACED_ID(e)},StorageNamespaceConverter.getNamespaceFromNamespacedId=function(e){var t=e.match(new RegExp(this.namespaceDecoderRegexStr));if(t&&t[1].length>0)return t[1];throw StorageNamespaceConverter.ERR_INVALID_NAMESPACED_ID(e)},StorageNamespaceConverter.separator="<ns:id>",StorageNamespaceConverter.namespaceDecoderRegexStr="(.*)"+StorageNamespaceConverter.separator+"(.*)",StorageNamespaceConverter}(),bt=function(){function NamespacedStorageManager(e,t){this.storageManager=e,this.namespace=t}return NamespacedStorageManager.prototype.getStorage=function(e){return e.storageId=this.getNamespaceStorageId(e.storageId),this.storageManager.getStorage(e)},NamespacedStorageManager.prototype.deleteStorage=function(e,t){return void 0===t&&(t=!1),this.storageManager.deleteStorage(this.getNamespaceStorageId(e),t)},NamespacedStorageManager.prototype.deleteExpiredStorages=function(e){return void 0===e&&(e=!1),this.storageManager.deleteExpiredStorages(e)},NamespacedStorageManager.prototype.hasStorage=function(e){return this.storageManager.hasStorage(this.getNamespaceStorageId(e))},NamespacedStorageManager.prototype.registerStorageController=function(e){return this.storageManager.registerStorageController(e)},NamespacedStorageManager.prototype.getNamespaceStorageId=function(e){return _t.getNamespacedStorageId(this.namespace,e)},NamespacedStorageManager.prototype.getStorageManager=function(){return this.storageManager},NamespacedStorageManager}(),Ct=function(){function StorageManagerFactory(e){this.theOneAndOnlyStorageManager=e}return StorageManagerFactory.ERR_INVALID_NAMESPACE=function(e){return new Error("StorageManagerFactory Error: invalid namespace ["+e+"]. Namespace must be a non-empty string")},StorageManagerFactory.prototype.getStorageManager=function(e){return this.validateNamespace(e),new bt(this.theOneAndOnlyStorageManager,e)},StorageManagerFactory.prototype.validateNamespace=function(e){if("string"!=typeof e||e.length<=0)throw StorageManagerFactory.ERR_INVALID_NAMESPACE(e)},StorageManagerFactory}();n(109);var Tt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},It=function(){function TextTruncateService(e){this.lodash=e}return TextTruncateService.$inject=["lodash"],TextTruncateService.prototype.truncateToNearestWord=function(e,t,n){if(void 0===n&&(n=""),this.lodash.isNil(t)||e>t.length)return new b(t,t,!1);var r=t.match(/(\s)/g),i=0;if(r)for(var o=0;o<r.length;o++){var a=this.getPositionOfCharacters(t,r[o],o+1);if(a>e)break;i=a}else i=e;var s=t.substr(0,i);return new b(t,s,!0,n)},TextTruncateService.prototype.getPositionOfCharacters=function(e,t,n){return e.split(t,n).join(t).length},TextTruncateService=Tt([function(e){return e}],TextTruncateService)}(),wt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ot=function(){function YMoreTextComponent(e,t,n){this.textTruncateService=e,this.$translate=t,this.$q=n,this.isTruncated=!1,this.showingMore=!1}return YMoreTextComponent.$inject=["textTruncateService","$translate","$q"],YMoreTextComponent.prototype.$onInit=function(){var e=this;this.limit=this.limit||100,this.moreLabelI18nKey=this.moreLabelI18nKey||"se.moretext.more.link",this.lessLabelI18nKey=this.lessLabelI18nKey||"se.moretext.less.link",this.truncatedText=this.textTruncateService.truncateToNearestWord(this.limit,this.text,this.ellipsis),this.isTruncated=this.truncatedText.isTruncated(),this.translateLabels().then(function(){e.showHideMoreText()})},YMoreTextComponent.prototype.showHideMoreText=function(){this.isTruncated&&(this.text=this.showingMore?this.truncatedText.getUntruncatedText():this.truncatedText.getTruncatedText(),this.linkLabel=this.showingMore?this.lessLabel:this.moreLabel,this.showingMore=!this.showingMore)},YMoreTextComponent.prototype.translateLabels=function(){var e=this,t=[],n=this.$translate(this.moreLabelI18nKey).then(function(t){e.moreLabel=e.moreLabel||t}),r=this.$translate(this.lessLabelI18nKey).then(function(t){e.lessLabel=e.lessLabel||t});return t.push(n,r),this.$q.all(t)},YMoreTextComponent=wt([m({templateUrl:"moreTextTemplate.html",inputs:["text","limit:?","moreLabelI18nKey:?","lessLabelI18nKey:?","ellipsis:?"],providers:[It]})],YMoreTextComponent)}(),Rt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},At=function(){function YInfiniteScrollingComponent(e,t,n,r,i,o,a,s){this.$timeout=e,this.encode=t,this.lodash=n,this.discardablePromiseUtils=r,this.$element=i,this.CONTAINER_CLASS="ySEInfiniteScrolling-container",this.initiated=!1,this.THROTTLE_MILLISECONDS=250,this.containerId=o(),this.nextPage=this.nextPage.bind(this),s.isE2EMode()||(this.$onChanges=a(this.$onChanges.bind(this),this.THROTTLE_MILLISECONDS))}return YInfiniteScrollingComponent.$inject=["$timeout","encode","lodash","discardablePromiseUtils","$element","generateIdentifier","throttle","testModeService"],YInfiniteScrollingComponent.prototype.$onChanges=function(){this.context=this.context||this,this.$postLink()},YInfiniteScrollingComponent.prototype.nextPage=function(){var e=this;this.pagingDisabled||(this.pagingDisabled=!0,this.currentPage++,this.mask=this.mask||"",this.discardablePromiseUtils.apply(this.containerId,this.fetchPage(this.mask,this.pageSize,this.currentPage),function(t){t.results.forEach(function(t){t.technicalUniqueId=e.encode(t)});var n=e.lodash.differenceBy(t.results,e.context.items,"technicalUniqueId");e.lodash.size(n)>0&&Array.prototype.push.apply(e.context.items,n),e.$timeout(function(){e.pagingDisabled=0===t.results.length||t.pagination&&e.context.items.length===t.pagination.totalCount})}))},YInfiniteScrollingComponent.prototype.$postLink=function(){var e=this.initiated;this.distance=this.distance||0,this.context.items=[],this.currentPage=-1,this.pagingDisabled=!1,!this.container&&this.$element?(this.container=this.$element.find("."+this.CONTAINER_CLASS).get(0),this.initiated=!0):this.container.scrollTop=0,e&&this.nextPage()},YInfiniteScrollingComponent=Rt([m({templateUrl:"yInfiniteScrollingTemplate.html",inputs:["pageSize","mask:?","fetchPage","distance:?","context:?","dropDownContainerClass: @?","dropDownClass: @?"]})],YInfiniteScrollingComponent)}(),Pt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Mt=function(){function YEventMessageComponent(e){this.systemEventService=e,this.type="info",this.show=!1}return YEventMessageComponent.$inject=["systemEventService"],YEventMessageComponent.prototype.$onChanges=function(e){var t=this;e.showEvent&&(this.removeShowEventHandler(),this.unregisterShowEventHandler=this.systemEventService.subscribe(e.showEvent.currentValue,function(e,n){return t.showEventHandler(e,n)})),e.hideEvent&&(this.removeHideEventHandler(),this.unregisterHideEventHandler=this.systemEventService.subscribe(e.hideEvent.currentValue,function(){return t.show=!1})),this.recompile&&this.recompile()},YEventMessageComponent.prototype.$onInit=function(){this.show="true"===this.showToStart||!0===this.showToStart},YEventMessageComponent.prototype.$onDestroy=function(){this.removeShowEventHandler(),this.removeHideEventHandler()},YEventMessageComponent.prototype.showDescription=function(){return"string"==typeof this.description&&this.description.length>0},YEventMessageComponent.prototype.showTitle=function(){return"string"==typeof this.title&&this.title.length>0},YEventMessageComponent.prototype.showEventHandler=function(e,t){t.description&&t.description.length&&(this.description=t.description),t.title&&t.title.length&&(this.title=t.title),this.show=!0,this.recompile&&this.recompile()},YEventMessageComponent.prototype.removeHideEventHandler=function(){this.unregisterHideEventHandler&&this.unregisterHideEventHandler()},YEventMessageComponent.prototype.removeShowEventHandler=function(){this.unregisterShowEventHandler&&this.unregisterShowEventHandler()},YEventMessageComponent=Pt([m({template:'\n\t\t<div data-recompile-dom="$ctrl.recompile">\n\t\t\t<y-message data-type="$ctrl.type"\n\t\t\t\tdata-ng-if="$ctrl.show">\n\t\t\t\t<message-title data-ng-if="$ctrl.title.length">\n\t\t\t\t\t{{ $ctrl.title | translate }}\n\t\t\t\t</message-title>\n\t\t\t\t<message-description data-ng-if="$ctrl.description.length">\n\t\t\t\t\t{{ $ctrl.description | translate }}\n\t\t\t\t</message-description>\n\t\t\t</y-message>\n\t\t</div>\n    ',inputs:["type: ?","title: ?","description: ?","showEvent: ?","hideEvent: ?","showToStart: ?"]})],YEventMessageComponent)}(),Dt=function(){function LanguageSelectorController(e,t,n,r){this.SWITCH_LANGUAGE_EVENT=e,this.languageService=t,this.crossFrameEventService=n,this.$q=r,this.selectedLanguage=null,this.languages=[]}return LanguageSelectorController.prototype.$onInit=function(){var e=this;this.$q.all([this.languageService.getResolveLocale(),this.languageService.getToolingLanguages()]).then(function(t){var n=t[0],r=t[1];e.languages=r.slice(),e.setSelectedLanguage(n)}),this.unRegisterEventService=this.crossFrameEventService.subscribe(this.SWITCH_LANGUAGE_EVENT,this.handleLanguageChange.bind(this))},LanguageSelectorController.prototype.$onDestroy=function(){this.unRegisterEventService()},LanguageSelectorController.prototype.onSelectedLanguage=function(e){this.languageService.setSelectedToolingLanguage(e)},LanguageSelectorController.prototype.orderLanguagesWithSelectedLanguage=function(e,t){var n=this.languages.filter(function(t){return t!==e}).sort(function(e,t){return e.isoCode.localeCompare(t.isoCode)});return n.unshift(e),n},LanguageSelectorController.prototype.setSelectedLanguage=function(e){var t=this;this.selectedLanguage=this.findLanguageWithIsoCode(e),this.selectedLanguage?this.languages=this.orderLanguagesWithSelectedLanguage(this.selectedLanguage,this.languages):this.languageService.getResolveLocaleIsoCode().then(function(e){t.selectedLanguage=t.findLanguageWithIsoCode(e),t.languages=t.orderLanguagesWithSelectedLanguage(t.selectedLanguage,t.languages)})},LanguageSelectorController.prototype.findLanguageWithIsoCode=function(e){return this.languages.find(function(t){return t.isoCode===e})},LanguageSelectorController.prototype.handleLanguageChange=function(){var e=this;this.languageService.getResolveLocale().then(function(t){e.setSelectedLanguage(t)})},LanguageSelectorController}(),Nt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),xt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},$t=function(e){function LanguageSelectorComponent(t,n,r,i){return e.call(this,t,n,r,i)||this}return LanguageSelectorComponent.$inject=["SWITCH_LANGUAGE_EVENT","languageService","crossFrameEventService","$q"],Nt(LanguageSelectorComponent,e),LanguageSelectorComponent=xt([m({templateUrl:"languageSelectorTemplate.html"})],LanguageSelectorComponent)}(Dt),Lt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ut=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ft=function(e){function LanguageDropdownSelectorComponent(t,n,r,i){return e.call(this,t,n,r,i)||this}return LanguageDropdownSelectorComponent.$inject=["SWITCH_LANGUAGE_EVENT","languageService","crossFrameEventService","$q"],Lt(LanguageDropdownSelectorComponent,e),LanguageDropdownSelectorComponent.prototype.orderLanguagesWithSelectedLanguage=function(e,t){return this.languages},LanguageDropdownSelectorComponent=Ut([m({templateUrl:"languageDropdownSelectorTemplate.html"})],LanguageDropdownSelectorComponent)}(Dt),kt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},jt=function(){function CompileHtmlDirective(e,t,n,r){this.$compile=e,this.$scope=t,this.$element=n,this.$attrs=r}return CompileHtmlDirective.$inject=["$compile","$scope","$element","$attrs"],CompileHtmlDirective.prototype.$postLink=function(){var e=this;this.$scope.$parent.$watch(function(t){return t.$eval(e.$attrs.compileHtml)},function(t){e.$element.html(t),e.$compile(e.$element.contents())(e.$scope.$parent)})},CompileHtmlDirective=kt([f({selector:"[compile-html]"})],CompileHtmlDirective)}(),Ht=n(1),Gt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Vt=function(){function CryptographicUtils(){}return CryptographicUtils.prototype.sha1Hash=function(e){return Ht.SHA1(e).toString()},CryptographicUtils=Gt([function(e){return e}],CryptographicUtils)}(),Bt=function(){function UrlUtils(){}return UrlUtils.prototype.updateUrlParameter=function(e,t,n){var r=e.indexOf("#"),i=-1===r?"":e.substr(r);e=-1===r?e:e.substr(0,r);var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return(e=e.match(o)?e.replace(o,"$1"+t+"="+n+"$2"):e+a+t+"="+n)+i},UrlUtils}(),qt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},zt=function(){function DiscardablePromiseUtils(e){this.$log=e,this._map={}}return DiscardablePromiseUtils.$inject=["$log"],DiscardablePromiseUtils.prototype.apply=function(e,t,n,r){this._map[e]?(this.$log.debug("competing promise for key "+e),delete this._map[e].discardableHolder.successCallback,delete this._map[e].discardableHolder.failureCallback,this._map[e].promise=t):this._map[e]={promise:t,successCallback:n,failureCallback:r},this._map[e].discardableHolder={successCallback:this._map[e].successCallback,failureCallback:this._map[e].failureCallback};var i=this;this._map[e].promise.then(function(t){this.successCallback?(delete i._map[e],this.successCallback.apply(void 0,arguments)):i.$log.debug("aborted successCallback for promise identified by "+e)}.bind(this._map[e].discardableHolder),function(t){this.failureCallback?(delete i._map[e],this.failureCallback.apply(void 0,arguments)):i.$log.debug("aborted failureCallback for promise identified by "+e)}.bind(this._map[e].discardableHolder))},DiscardablePromiseUtils=qt([function(e){return e}],DiscardablePromiseUtils)}(),Wt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Yt=function(){function StringUtils(){}return StringUtils.prototype.regExpFactory=function(e){var t,n=new RegExp(/^[a-zA-Z\d]+$/i),r=new RegExp(/^[a-zA-Z\d\*]+$/i);return t=n.test(e)?["^","$"].join(e):r.test(e)?["^","$"].join(e.replace(/\*/g,".*")):e,new RegExp(t,"g")},StringUtils=Wt([function(e){return e}],StringUtils)}(),Kt=(new Yt,function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}),Xt=function(){function WindowUtils(e,t,n){this.isIframe=e,this.SMARTEDIT_IFRAME_ID=t,this.$window=n}return WindowUtils.$inject=["isIframe","SMARTEDIT_IFRAME_ID","$window"],WindowUtils.prototype.getTargetIFrame=function(){return this.isIframe()?this.$window.parent:this.$window.document.getElementById(this.SMARTEDIT_IFRAME_ID)?this.$window.document.getElementById(this.SMARTEDIT_IFRAME_ID).contentWindow:null},WindowUtils=Kt([function(e){return e}],WindowUtils)}(),Qt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Jt=function(){function FunctionsModule(){}return FunctionsModule=Qt([y({imports:["yjqueryModule","yLoDashModule","ngSanitize"],providers:[_,Bt,Vt,s,Yt,Xt,zt,{provide:"ParseError",useFactory:function(){return function(e){this.value=e}}},{provide:"getAbsoluteURL",useFactory:function(){return function(e,t){return new RegExp("([a-zA-Z0-9]+://)([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+)|([0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+)(:[0-9]+)?(/.*)?").exec(t)?t:e+t}}},{provide:"getOrigin",useFactory:function(){return function(e){if(e){var t=document.createElement("a");t.setAttribute("href",e);var n=t.protocol+"//"+t.hostname+(t.port?":"+t.port:"");return t=null,n}return window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}}},{provide:"isBlank",useFactory:function(){return function(e){return void 0===e||null===e||"null"===e||0===e.toString().trim().length}}},{provide:"extend",useFactory:function(){return function(e,t){return t||(t=function(){}),t.prototype=Object.create(e.prototype),t}}},{provide:"hitch",useFactory:function(){return function(e,t){var n=Array.prototype.slice.call(arguments).slice(2);return function lockedMethod(){var r=Array.prototype.slice.call(arguments);return t.apply(e,n.concat(r))}}}},{provide:"customTimeout",useFactory:function(e){return function(t,n){setTimeout(function(){t(),e.$digest()},n)}},deps:["$rootScope"]},{provide:"copy",useFactory:function(){return function(e){return JSON.parse(JSON.stringify(e))}}},{provide:"merge",useFactory:function(e){return function(t,n){return e.extend(t,n),t}},deps:["yjQuery"]},{provide:"getQueryString",useFactory:function(){return function(e){var t="";if(e)for(var n in e)e.hasOwnProperty(n)&&(t+="&"+n+"="+e[n]);return"?"+t}}},{provide:"getURI",useFactory:function(){return function(e){return e&&e.indexOf("?")>-1?e.split("?")[0]:e}}},{provide:"parseQuery",useFactory:function(){return function(e){var t={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,n,r,i){t[n]=i}),t}}},{provide:"trim",useFactory:function(){return function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}}},{provide:"convertToArray",useFactory:function(){return function(e){var t=[];for(var n in e)0!==n.indexOf("$")&&0!==n.indexOf("toJSON")&&t.push({key:n,value:e[n]});return t}}},{provide:"injectJS",useFactory:function(){return{getInjector:function getInjector(){return $script},execute:function(e){var t=this,n=e.srcs,r=e.index,i=e.callback;n.length?(void 0===r&&(r=0),void 0!==n[r]&&this.getInjector()(n[r],function(){r+1<n.length?t.execute({srcs:n,index:r+1,callback:i}):"function"==typeof i&&i()})):i()}}}},{provide:"uniqueArray",useFactory:function(){return function(e,t){return t.forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),e}}},{provide:"regExpFactory",useFactory:function(e){return e.regExpFactory},deps:["stringUtils"]},{provide:"generateIdentifier",useFactory:function(){return function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}}},{provide:"escapeHtml",useFactory:function(){return function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}}},{provide:"sanitize",useFactory:function(e){return function(t){return e(t)?t:t.split("").reverse().join("").replace(/(?:(([()])(?!\\)))/g,"$1\\").split("").reverse().join("")}},deps:["isBlank"]},{provide:"sanitizeHTML",useFactory:function(e){return function(t){var n=r.copy(t);return e(n)||(n=n.replace(/(\r\n|\n|\r)/gm,"").replace(/>\s+</g,"><").replace(/<\/br\>/g,"")),n}},deps:["isBlank"]},{provide:"toPromise",useFactory:function(e,t){return function(n,r){return function(){try{return e.when(n.apply(r,arguments))}catch(n){return t.error("execution of a method that was turned into a promise failed"),t.error(n),e.reject(n)}}}},deps:["$q","$log"]},{provide:"isFunction",useFactory:function(){return function(e){return"function"==typeof e}}},{provide:"isObject",useFactory:function(){var e={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};return function(t){return!(!t||!e[typeof t])}}},{provide:"debounce",useFactory:function(e,t){var n=function(){return function TypeError(){}}();return function(r,i,o){var a,s,c,l,d,u,p,h,f,m=0,g=!1,v=!0;if(!e(r))throw new n;i=Math.max(0,i)||0,!0===o?(h=!0,v=!1):t(o)&&(h=o.leading,g="maxWait"in o&&(Math.max(i,o.maxWait)||0),v="trailing"in o?o.trailing:v);var y=function(){var e=i-(Date.now()-l);e<=0?(s&&clearTimeout(s),f=p,s=u=p=void 0,f&&(m=Date.now(),c=r.apply(d,a),u||s||(a=d=null))):u=setTimeout(y,e)},S=function(){u&&clearTimeout(u),s=u=p=void 0,(v||g!==i)&&(m=Date.now(),c=r.apply(d,a),u||s||(a=d=null))};return function(){var e;if(a=arguments,l=Date.now(),d=this,p=v&&(u||!h),!1===g)e=h&&!u;else{s||h||(m=l);var t=g-(l-m);(f=t<=0)?(s&&(s=clearTimeout(s)),m=l,c=r.apply(d,a)):s||(s=setTimeout(S,t))}return f&&u?u=clearTimeout(u):u||i===g||(u=setTimeout(y,i)),e&&(f=!0,c=r.apply(d,a)),!f||u||s||(a=d=null),c}}},deps:["isFunction","isObject"]},{provide:"throttle",useFactory:function(e,t,n){return function(r,i,o){var a=!0,s=!0;if(!t(r))throw new TypeError;return!1===o?a=!1:n(o)&&(a="leading"in o?o.leading:a,s="trailing"in o?o.trailing:s),(o={}).leading=a,o.maxWait=i,o.trailing=s,e(r,i,o)}},deps:["debounce","isFunction","isObject"]},{provide:"parseHTML",useFactory:function(e){return function(t){return e.parseHTML(t)}},deps:["yjQuery"]},{provide:"unsafeParseHTML",useFactory:function(e){return function(t){return e.parseHTML(t,null,!0)}},deps:["yjQuery"]},{provide:"extractFromElement",useFactory:function(e){return function(t,n){return(t=e(t)).filter(n).add(t.find(n))}},deps:["yjQuery"]},{provide:"closeOpenModalsOnBrowserBack",useFactory:function(e){return function(){e.getTop()&&e.dismissAll()}},deps:["$uibModalStack"]},{provide:"URIBuilder",useFactory:function(e){return function URIBuilder(t){this.uri=t,this.build=function(){return this.uri},this.replaceParams=function(t){var n=e.cloneDeep(this);t&&Object.keys(t).sort(function(e,t){return t.length-e.length}).forEach(function(e){var r=new RegExp("\\b"+e+"\\b");n.uri=n.uri.replace(":"+e,t[e]).replace(r,t[e])});return n}}},deps:["lodash"]},{provide:"getDataFromResponse",useFactory:function(){return function(e){var t=Object.keys(e).filter(function(t){return e[t]instanceof Array})[0];return e[t]}}},{provide:"getKeyHoldingDataFromResponse",useFactory:function(){return function(e){return Object.keys(e).filter(function(t){return e[t]instanceof Array})[0]}}},{provide:"resetObject",useFactory:function(e){return function(t,n){if(t){for(var i in t)t.hasOwnProperty(i)&&delete t[i];r.extend(t,e(n))}else t=e(n);return t}},deps:["copy"]},{provide:"isFunctionEmpty",useFactory:function(e){return function(t){return e.isEmpty(t)}},deps:["functionsUtils"]},{provide:"isObjectEmptyDeep",useFactory:function(e){return function(t){if(e.isObject(t)){for(var n in t)if(t.hasOwnProperty(n)&&!e.isEmpty(t[n]))return!1;return!0}return e.isString(t)?e.isEmpty(t):e.isNil(t)}},deps:["lodash"]},{provide:"isAllTruthy",useFactory:function(){return function(){var e=Array.prototype.slice.call(arguments);return function(){var t=arguments;return e.every(function(e){return e.apply(e,t)})}}}},{provide:"isAnyTruthy",useFactory:function(){return function(){var e=Array.prototype.slice.call(arguments);return function(){var t=arguments;return e.some(function(e){return e.apply(e,t)})}}}},{provide:"formatDateAsUtc",useFactory:function(e){return function(t){return moment(t).utc().format(e.MOMENT_ISO)}},deps:["DATE_CONSTANTS"]},{provide:"getEncodedString",useFactory:function(){return function(e){if("string"==typeof e)return btoa(e);throw new Error('getEncodedString called with input of type "'+typeof e+'" when only "string" is accepted.')}}},{provide:"encode",useFactory:function(){return function(e){return btoa(encodeURIComponent(JSON.stringify(e)).replace(/%([0-9A-F]{2})/g,function toSolidBytes(e,t){return String.fromCharCode(parseInt(t,16))}))}}},{provide:"compareHTMLElementsPosition",useFactory:function(){return function(e){return function(t,n){return e&&(t=t[e],n=n[e]),t===n?0:t.compareDocumentPosition?2&t.compareDocumentPosition(n)?1:-1:t.sourceIndex-n.sourceIndex}}}},{provide:"isIframe",useFactory:function(e){return function(){return e.top!==e}},deps:["$window"]},{provide:"isPointOverElement",useFactory:function(){return function(e,t){var n=t.getBoundingClientRect();return e.x>=n.left&&e.x<=n.right&&e.y>=n.top&&e.y<=n.bottom}}},{provide:"areIntersecting",useFactory:function(){return function(e,t){return!(t.left>e.left+e.width||t.left+t.width<e.left||t.top>e.top+e.height||t.top+t.height<e.top)}}},{provide:"EXTENDED_VIEW_PORT_MARGIN",useValue:1e3},{provide:"isInExtendedViewPort",useFactory:function(e,t,n,r){return function(i){if(!t.contains(e[0],i))return!1;var o=t(i).offset();o.width=t(i).outerWidth(),o.height=t(i).outerHeight();var a=document.scrollingElement||document.documentElement;return n({left:-r+a.scrollLeft,width:window.innerWidth+2*r,top:-r+a.scrollTop,height:window.innerHeight+2*r},o)}},deps:["$document","yjQuery","areIntersecting","EXTENDED_VIEW_PORT_MARGIN"]},{provide:"deepIterateOverObjectWith",useFactory:function(e){return function deepIterateOverObjectWith(t,n){return e.reduce(t,function(t,r,i){return e.isPlainObject(r)?t[i]=deepIterateOverObjectWith(r,n):t[i]=n(r),t},{})}},deps:["lodash"]},{provide:"deepObjectPropertyDiff",useFactory:function(e,t){return function(n,r){function CHANGED_PROPERTY(){}function NON_CHANGED_PROPERTY(){}var i=e.mergeWith(e.cloneDeep(n),r,function(t,n){if(!e.isPlainObject(t))return e.isEqual(t,n)?NON_CHANGED_PROPERTY:CHANGED_PROPERTY}),o=t(i,function(e){return e!==CHANGED_PROPERTY&&e!==NON_CHANGED_PROPERTY?CHANGED_PROPERTY:e});return t(o,function(e){return e===CHANGED_PROPERTY})}},deps:["lodash","deepIterateOverObjectWith"]},{provide:"isInDOM",useFactory:function(e,t){return function(n){return t.contains(e[0],n)}},deps:["$document","yjQuery"]},{provide:"readObjectStructureFactory",useValue:function(){var e=function(t){var n=window;if(void 0===t||null===t||t.then)return t;if("function"==typeof t)return"FUNCTION";if("number"==typeof t)return"NUMBER";if("string"==typeof t)return"STRING";if("boolean"==typeof t)return"BOOLEAN";if(n.smarteditLodash.isElement(t))return"ELEMENT";if(t.hasOwnProperty&&t.hasOwnProperty("length")){if(t.forEach){var r=[];return t.forEach(function(t){r.push(e(t))}),r}return"JQUERY"}var i={};return Object.keys(t).forEach(function(n){0!==n.indexOf("$")&&(i[n]=e(t[n]))}),i};return e}}]})],FunctionsModule)}(),Zt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},en=function(){function SmarteditRootModule(){}return SmarteditRootModule=Zt([y({imports:["resourceLocationsModule","functionsModule","seConstantsModule","yjqueryModule","yLoDashModule"],providers:[Se,_e,GatewayProxiedAnnotationFactory,st,OperationContextAnnotationFactory],initialize:["gatewayProxiedAnnotationFactory","operationContextAnnotationFactory",function(e,t){"ngInject"}]})],SmarteditRootModule)}(),tn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},nn=function(){function FlawInjectionInterceptor(e,t){this.$log=e,this.interceptorHelper=t,this.requestMutations=[],this.responseMutations=[],this.flawWindow=window,this.flawWindow.allRequests=0,this.flawWindow.flawedRequests=0,this.flawWindow.allResponses=0,this.flawWindow.flawedResponses=0,this.request=this.request.bind(this),this.response=this.response.bind(this)}var e;return FlawInjectionInterceptor.$inject=["$log","interceptorHelper"],e=FlawInjectionInterceptor,FlawInjectionInterceptor.prototype.registerRequestFlaw=function(e){this.requestMutations.push(e)},FlawInjectionInterceptor.prototype.registerResponseFlaw=function(e){this.responseMutations.push(e)},FlawInjectionInterceptor.prototype.request=function(t){var n=this;return 0!==e.PROBABILITY&&this._isCRUDRequest(t)&&!this._isGET(t)?this.interceptorHelper.handleRequest(t,function(){if(n.flawWindow.allRequests++,n._activateWithProbability(e.PROBABILITY)){n.flawWindow.flawedRequests++;var r=n.requestMutations.find(function(e){return e.test(t)});r&&(t=r.mutate(t),n.$log.error('FLAWED REQUEST-"'+t.url))}return t}):t},FlawInjectionInterceptor.prototype.response=function(t){if(0!==e.PROBABILITY&&this._isCRUDResponse(t)&&!this._isGET(t.config)){if(this.flawWindow.allResponses++,this._activateWithProbability(e.PROBABILITY)){this.flawWindow.flawedResponses++;var n=this.responseMutations.find(function(e){return e.test(t.config)});n&&(t=n.mutate(t),this.$log.error('FLAWED RESPONSE-"'+t.config.url))}return t}return t},FlawInjectionInterceptor.prototype._isCRUDRequest=function(e){return e.url&&-1===e.url.indexOf(".html")&&-1===e.url.indexOf(".js")},FlawInjectionInterceptor.prototype._isCRUDResponse=function(e){return e.config&&e.config.url&&-1===e.config.url.indexOf(".html")&&e.headers("Content-Type")&&e.headers("Content-Type").indexOf("json")>-1},FlawInjectionInterceptor.prototype._isGET=function(e){return"GET"===e.method},FlawInjectionInterceptor.prototype._activateWithProbability=function(e){return Math.random()>=1-e},FlawInjectionInterceptor.PROBABILITY=0,FlawInjectionInterceptor=e=tn([function(e){return e}],FlawInjectionInterceptor)}(),rn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},on=function(){function FlawInjectionInterceptorModule(){}return FlawInjectionInterceptorModule=rn([y({imports:["interceptorHelperModule"],providers:[nn],config:["$httpProvider",function(e){"ngInject";e.interceptors.push(u.buildServiceName(nn))}],initialize:["flawInjectionInterceptor",function(e){"ngInject";e.registerRequestFlaw({test:function(e){return/sites\/[\w-]+\//.test(e.url)},mutate:function(e){return e.url=e.url.replace(/sites\/([\w-]+)\//,"sites/"+Math.random()+"/"),e}})}]})],FlawInjectionInterceptorModule)}(),an=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};function $exceptionHandler(e){"ngInject";var t=[/^Possibly unhandled rejection/],n=[/Unexpected request/,/No more request expected/];return function exceptionHandler(r,i){t.some(function(e){return e.test(r)})||(n.some(function(e){return e.test(r)})?e.error("E2E mock issue: "+r):e.error(r))}}function handlePromiseRejections(e,t,n,r){var i=function(r){return void 0!==r&&"canceled"!==r&&(n.isPlainObject(r)?function isAjaxError(e){return e.hasOwnProperty("headers")}(r)||t.error("exception caught in promise: "+JSON.stringify(r)):n.isBoolean(r)||t.error(r)),e.reject(r)},o=r.then;return r.then=function(e,t,n){var r=t||i;return o.call(this,e,r,n)},r}var sn=function(){function ConfigModule(){}return ConfigModule=an([y({providers:[$exceptionHandler],config:["$qProvider","$provide",function(e,t){"ngInject";e.errorOnUnhandledRejections(!0),t.decorator("$q",["$delegate","$log","lodash",function(e,t,n){var r=e.when;e.when=function(){return arguments[0]&&!arguments[0].then?handlePromiseRejections(e,t,n,r.apply(this,arguments)):r.apply(this,arguments)};var i=e.all;e.all=function(){return handlePromiseRejections(e,t,n,i.apply(e,arguments))};var o=e.defer;return e.defer=function(){var r=o.bind(e)();return handlePromiseRejections(e,t,n,r.promise),r},e}]),t.decorator("$timeout",["$delegate","$q","$log","lodash",function(e,t,n,r){var i=e;function wrappedTimeout(){return handlePromiseRejections(t,n,r,i.apply(e,arguments))}return r.merge(wrappedTimeout,i),wrappedTimeout}])}]})],ConfigModule)}(),cn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ln=function(){function CommonsRestServiceModule(){}return CommonsRestServiceModule=cn([y({providers:[ot]})],CommonsRestServiceModule)}(),dn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};r.module("eventServiceModule",["smarteditCommonsModule"]),r.module("crossFrameEventServiceModule",["smarteditCommonsModule"]),r.module("languageServiceModule",["smarteditCommonsModule"]),r.module("catalogServiceModule",["smarteditCommonsModule"]),r.module("gatewayFactoryModule",["smarteditRootModule"]),r.module("gatewayProxyModule",["smarteditRootModule"]),r.module("operationContextServiceModule",["smarteditRootModule"]),r.module("compileHtmlModule",["smarteditCommonsModule"]),r.module("yMoreTextModule",["smarteditCommonsModule"]),function deprecate_deprecatedSince1811(){r.module("permissionServiceInterfaceModule",["smarteditCommonsModule"]),r.module("FetchDataHandlerInterfaceModule",["genericEditorServicesModule"]),r.module("fetchEnumDataHandlerModule",["genericEditorServicesModule"]),r.module("dateFormatterModule",["dateTimePickerModule"]),r.module("DropdownPopulatorInterface",["dropdownPopulatorModule"]),r.module("optionsDropdownPopulatorModule",["dropdownPopulatorModule"]),r.module("uriDropdownPopulatorModule",["dropdownPopulatorModule"]),r.module("editorFieldMappingServiceModule",["genericEditorServicesModule"]),r.module("genericEditorStackServiceModule",["genericEditorServicesModule"]),r.module("genericEditorTabServiceModule",["genericEditorServicesModule"]),r.module("seValidationErrorParserModule",["genericEditorServicesModule"]),r.module("seValidationMessageParserModule",["genericEditorServicesModule"]),r.module("seGenericEditorFieldMessagesModule",["genericEditorModule"]),r.module("genericEditorTabModule",["genericEditorModule"]),r.module("genericEditorFieldModule",["genericEditorModule"]),r.module("authorizationModule",["smarteditCommonsModule"])}();var un,pn,hn=function(){function SmarteditCommonsModule(){}return SmarteditCommonsModule=dn([y({imports:[en,ln,Jt,on,"infinite-scroll","resourceLocationsModule","seConstantsModule","yjqueryModule","yLoDashModule",G,sn,"ui.select","ngSanitize"],providers:[Le,R,Fe,T,Ke,We],declarations:[jt,At,Mt,Ot,Ft,$t]})],SmarteditCommonsModule)}(),fn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},mn=function(){function SystemModule(){}return SystemModule=fn([y({imports:["contextualMenuDecoratorModule","slotContextualMenuDecoratorModule","decoratorServiceModule"]})],SystemModule)}(),gn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),vn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},yn=function(e){function CatalogService(){return null!==e&&e.apply(this,arguments)||this}return gn(CatalogService,e),CatalogService=vn([je(),function(e){return e}],CatalogService)}(I),Sn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},En=function(){function ComponentHandlerService(e,t,n,r,i,o,a,s,c,l,d,u,p,h,f,m){this.$q=e,this.$log=t,this.yjQuery=n,this.isBlank=r,this.lodash=i,this.OVERLAY_ID=o,this.CONTENT_SLOT_TYPE=a,this.ID_ATTRIBUTE=s,this.UUID_ATTRIBUTE=c,this.ELEMENT_UUID_ATTRIBUTE=l,this.TYPE_ATTRIBUTE=d,this.COMPONENT_CLASS=u,this.OVERLAY_COMPONENT_CLASS=p,this.CONTAINER_ID_ATTRIBUTE=h,this.CONTAINER_TYPE_ATTRIBUTE=f,this.CATALOG_VERSION_UUID_ATTRIBUTE=m}var e;return ComponentHandlerService.$inject=["$q","$log","yjQuery","isBlank","lodash","OVERLAY_ID","CONTENT_SLOT_TYPE","ID_ATTRIBUTE","UUID_ATTRIBUTE","ELEMENT_UUID_ATTRIBUTE","TYPE_ATTRIBUTE","COMPONENT_CLASS","OVERLAY_COMPONENT_CLASS","CONTAINER_ID_ATTRIBUTE","CONTAINER_TYPE_ATTRIBUTE","CATALOG_VERSION_UUID_ATTRIBUTE"],e=ComponentHandlerService,ComponentHandlerService.prototype.try=function(e){try{return this.$q.when(e())}catch(e){return this.$log.warn("Missing SmartEdit attributes on body element of the storefront - SmartEdit will resume once the attributes are added"),this.$q.reject(e)}},ComponentHandlerService.prototype.getPageUID=function(){return this.try(this.getBodyClassAttributeByRegEx.bind(this,e.PATTERN_SMARTEDIT_PAGE_UID))},ComponentHandlerService.prototype.getPageUUID=function(){return this.try(this.getBodyClassAttributeByRegEx.bind(this,e.PATTERN_SMARTEDIT_PAGE_UUID))},ComponentHandlerService.prototype.getCatalogVersionUUIDFromPage=function(){return this.try(this.getBodyClassAttributeByRegEx.bind(this,e.PATTERN_SMARTEDIT_CATALOG_VERSION_UUID))},ComponentHandlerService.prototype.getFromSelector=function(e){return this.yjQuery(e)},ComponentHandlerService.prototype.getOverlay=function(){return this.getFromSelector("#"+this.OVERLAY_ID)},ComponentHandlerService.prototype.isOverlayOn=function(){return this.getOverlay().length&&this.getOverlay().is(":visible")},ComponentHandlerService.prototype.getComponentUnderSlot=function(e,t,n,r){void 0===r&&(r=null);var i=this.buildComponentQuery(n,this.CONTENT_SLOT_TYPE)+" "+this.buildComponentQuery(e,t,r);return this.getFromSelector(i)},ComponentHandlerService.prototype.getComponent=function(e,t,n){return void 0===n&&(n=null),this.getFromSelector(this.buildComponentQuery(e,t,n))},ComponentHandlerService.prototype.getOriginalComponentWithinSlot=function(e,t,n){return this.getComponentUnderSlot(e,t,n,this.COMPONENT_CLASS)},ComponentHandlerService.prototype.getOriginalComponent=function(e,t){return this.getComponent(e,t,this.COMPONENT_CLASS)},ComponentHandlerService.prototype.getOverlayComponentWithinSlot=function(e,t,n){return this.getComponentUnderSlot(e,t,n,this.OVERLAY_COMPONENT_CLASS)},ComponentHandlerService.prototype.getOverlayComponent=function(e){var t=this.getParentSlotForComponent(e.parent());return t?this.getComponentUnderSlot(e.attr(this.ID_ATTRIBUTE),e.attr(this.TYPE_ATTRIBUTE),t,this.OVERLAY_COMPONENT_CLASS):this.getComponent(e.attr(this.ID_ATTRIBUTE),e.attr(this.TYPE_ATTRIBUTE),this.OVERLAY_COMPONENT_CLASS)},ComponentHandlerService.prototype.getComponentInOverlay=function(e,t){return this.getComponent(e,t,this.OVERLAY_COMPONENT_CLASS)},ComponentHandlerService.prototype.getParentSlotForComponent=function(e){return this.getFromSelector(e).closest("["+this.TYPE_ATTRIBUTE+"="+this.CONTENT_SLOT_TYPE+"]").attr(this.ID_ATTRIBUTE)},ComponentHandlerService.prototype.getComponentPositionInSlot=function(e,t){var n=this,r=this.getOriginalComponentsWithinSlot(e);return this.lodash.findIndex(r,function(e){return n.getId(e)===t})},ComponentHandlerService.prototype.getOriginalComponentsWithinSlot=function(e){return this.yjQuery(this.buildComponentsInSlotQuery(e))},ComponentHandlerService.prototype.getSlotOperationRelatedId=function(e){var t=(e=this.getFromSelector(e)).attr(this.CONTAINER_ID_ATTRIBUTE);return t&&e.attr(this.CONTAINER_TYPE_ATTRIBUTE)?t:e.attr(this.ID_ATTRIBUTE)},ComponentHandlerService.prototype.getSlotOperationRelatedUuid=function(e){var t=this.getFromSelector(e).attr(this.CONTAINER_ID_ATTRIBUTE);return t&&this.getFromSelector(e).attr(this.CONTAINER_TYPE_ATTRIBUTE)?t:this.getFromSelector(e).attr(this.UUID_ATTRIBUTE)},ComponentHandlerService.prototype.getParent=function(e){var t=(e=this.getFromSelector(e)).hasClass(this.COMPONENT_CLASS)?this.COMPONENT_CLASS:e.hasClass(this.OVERLAY_COMPONENT_CLASS)?this.OVERLAY_COMPONENT_CLASS:null;if(this.isBlank(t))throw new Error("componentHandlerService.getparent.error.component.from.unknown.layer");return e.closest("."+t+"["+this.ID_ATTRIBUTE+"]["+this.ID_ATTRIBUTE+"!='"+e.attr(this.ID_ATTRIBUTE)+"']")},ComponentHandlerService.prototype.getClosestSmartEditComponent=function(e){return this.getFromSelector(e).closest("."+this.COMPONENT_CLASS)},ComponentHandlerService.prototype.isSmartEditComponent=function(e){return this.getFromSelector(e).hasClass(this.COMPONENT_CLASS)},ComponentHandlerService.prototype.setId=function(e,t){return this.getFromSelector(e).attr(this.ID_ATTRIBUTE,t)},ComponentHandlerService.prototype.getId=function(e){return this.getFromSelector(e).attr(this.ID_ATTRIBUTE)},ComponentHandlerService.prototype.getUuid=function(e){return this.getFromSelector(e).attr(this.UUID_ATTRIBUTE)},ComponentHandlerService.prototype.getCatalogVersionUuid=function(e){return this.getFromSelector(e).attr(this.CATALOG_VERSION_UUID_ATTRIBUTE)},ComponentHandlerService.prototype.setType=function(e,t){return this.getFromSelector(e).attr(this.TYPE_ATTRIBUTE,t)},ComponentHandlerService.prototype.getType=function(e){return this.getFromSelector(e).attr(this.TYPE_ATTRIBUTE)},ComponentHandlerService.prototype.getSlotOperationRelatedType=function(e){var t=this.getFromSelector(e).attr(this.CONTAINER_TYPE_ATTRIBUTE);return t&&this.getFromSelector(e).attr(this.CONTAINER_ID_ATTRIBUTE)?t:this.getFromSelector(e).attr(this.TYPE_ATTRIBUTE)},ComponentHandlerService.prototype.getAllComponentsSelector=function(){return"."+this.COMPONENT_CLASS+"["+this.TYPE_ATTRIBUTE+"!='ContentSlot']"},ComponentHandlerService.prototype.getAllSlotsSelector=function(){return"."+this.COMPONENT_CLASS+"["+this.TYPE_ATTRIBUTE+"='ContentSlot']"},ComponentHandlerService.prototype.getParentSlotUuidForComponent=function(e){return e.closest("["+this.TYPE_ATTRIBUTE+"="+this.CONTENT_SLOT_TYPE+"]").attr(this.UUID_ATTRIBUTE)},ComponentHandlerService.prototype.isExternalComponent=function(t,n){var r=this.getOriginalComponent(t,n);return this.getCatalogVersionUuid(r)!==this.getBodyClassAttributeByRegEx(e.PATTERN_SMARTEDIT_CATALOG_VERSION_UUID)},ComponentHandlerService.prototype.getBodyClassAttributeByRegEx=function(e){try{var t=this.getFromSelector("body").attr("class");return e.exec(t)[1]}catch(e){throw{name:"InvalidStorefrontPageError",message:"Error: the page is not a valid storefront page."}}},ComponentHandlerService.prototype.getFirstSmartEditComponentChildren=function(e){var t=this,n=this.getFromSelector(e),r=n.getCssPath(),i=new RegExp(this.COMPONENT_CLASS,"g");return n.find("."+this.COMPONENT_CLASS).filter(function(e,n){var o=t.getFromSelector(n).getCssPath().replace(r,"").match(i);return o&&1===o.length})},ComponentHandlerService.prototype.getComponentCloneInOverlay=function(e){var t=e.attr(this.ELEMENT_UUID_ATTRIBUTE);return this.getFromSelector("."+this.OVERLAY_COMPONENT_CLASS+"["+this.ELEMENT_UUID_ATTRIBUTE+"='"+t+"']")},ComponentHandlerService.prototype.buildComponentQuery=function(e,t,n){void 0===n&&(n=null);var r="";return r+=n?"."+n:"",r+="["+this.ID_ATTRIBUTE+"='"+e+"']",r+="["+this.TYPE_ATTRIBUTE+"='"+t+"']"},ComponentHandlerService.prototype.buildComponentsInSlotQuery=function(e){var t="";return t+="."+this.COMPONENT_CLASS,t+="["+this.ID_ATTRIBUTE+"='"+e+"']",t+="["+this.TYPE_ATTRIBUTE+"='"+this.CONTENT_SLOT_TYPE+"']",t+=" > ",t+="["+this.ID_ATTRIBUTE+"]"},ComponentHandlerService.PATTERN_SMARTEDIT_PAGE_UID=/smartedit-page-uid\-(\S+)/,ComponentHandlerService.PATTERN_SMARTEDIT_PAGE_UUID=/smartedit-page-uuid\-(\S+)/,ComponentHandlerService.PATTERN_SMARTEDIT_CATALOG_VERSION_UUID=/smartedit-catalog-version-uuid\-(\S+)/,ComponentHandlerService=e=Sn([function(e){return e}],ComponentHandlerService)}(),_n=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},bn=function(){function ContextualMenuService(e,t,n,r,i,o){this.$q=e,this.priorityService=t,this.REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT=n,this.uniqueArray=r,this.regExpFactory=i,this.systemEventService=o,this._contextualMenus={}}return ContextualMenuService.$inject=["$q","priorityService","REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT","uniqueArray","regExpFactory","systemEventService"],ContextualMenuService.prototype.addItems=function(e){try{if(void 0!==e)this._featuresList=this._getFeaturesList(this._contextualMenus),Object.keys(e).forEach(this._initContextualMenuItems.bind(this,e))}catch(e){throw new Error("addItems() - Cannot add items. "+e)}},ContextualMenuService.prototype.removeItemByKey=function(e){var t=this;Object.keys(this._contextualMenus).forEach(function(n){var r=t._contextualMenus[n];t._contextualMenus[n]=r.filter(function(t){return t.key!==e}),0===t._contextualMenus[n].length&&delete t._contextualMenus[n]})},ContextualMenuService.prototype.getContextualMenuByType=function(e){var t=this,n=[];return this._contextualMenus&&Object.keys(this._contextualMenus).forEach(function(r){t.regExpFactory(r).test(e)&&(n=t._getUniqueItemArray(n,t._contextualMenus[r]))}),this.priorityService.sort(n)},ContextualMenuService.prototype.getContextualMenuItems=function(e){var t=this,n=e.iLeftBtns;delete e.iLeftBtns;var r=[],i=[],o=[];return this.getContextualMenuByType(e.componentType).forEach(function(a){var s=t.$q.defer();o.push(s.promise),t.$q.when(!a.condition||a.condition(e)).then(function(e,t,o){o&&(r.length<n?r:i).push(t),e.resolve()}.bind(void 0,s,a))}),this.$q.all(o).then(function(){return{leftMenuItems:r,moreMenuItems:i}})},ContextualMenuService.prototype.refreshMenuItems=function(){this.systemEventService.publishAsync(this.REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT)},ContextualMenuService.prototype._getFeaturesList=function(e){var t=[];return Object.keys(e).forEach(function(n){t=t.concat(e[n].map(function(e){return e.key}))}),t.reduce(function(e,t){return-1===e.indexOf(t)&&e.push(t),e},[])},ContextualMenuService.prototype._validateItem=function(e){if(e.action||(e.action={}),e.callback&&(e.action.callback=e.callback,delete e.callback),e.callbacks&&(e.action.callbacks=e.callbacks,delete e.callbacks),e.templateUrl&&(e.action.templateUrl=e.templateUrl,delete e.templateUrl),!e.action)throw new Error("Contextual menu item must provide an action: "+e);if(e.action.callback&&e.action.template||e.action.callback&&e.action.templateUrl||e.action.template&&e.action.templateUrl)throw new Error("Contextual menu item must have exactly ONE of action callback|callbacks|template|templateUrl")},ContextualMenuService.prototype._getUniqueItemArray=function(e,t){var n;return t.forEach(function(t){n=t,e.every(function(e){return n.key!==e.key})&&e.push(n)}),e},ContextualMenuService.prototype._initContextualMenuItems=function(e,t){var n=this,r=e[t].filter(function(e){if(n._validateItem(e),!e.key)throw new Error("Item doesn't have key.");if(-1!==n._featuresList.indexOf(e.key))throw new Error("Item with that key already exist.");return!0});this._contextualMenus[t]=this.uniqueArray(this._contextualMenus[t]||[],r)},ContextualMenuService=_n([function(e){return e}],ContextualMenuService)}(),Cn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Tn=function(){function DelegateRestService(){}return DelegateRestService.prototype.delegateForVoid=function(e,t,n,r,i){"proxyFunction";return null},DelegateRestService.prototype.delegateForSingleInstance=function(e,t,n,r,i){"proxyFunction";return null},DelegateRestService.prototype.delegateForArray=function(e,t,n,r,i){"proxyFunction";return null},DelegateRestService.prototype.delegateForPage=function(e,t,n,r){"proxyFunction";return null},DelegateRestService=Cn([je(),function(e){return e}],DelegateRestService)}(),In=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),wn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},On=function(e){function ExperienceService(t,n,r,i,o){var a=e.call(this,i)||this;return a.$q=t,a.$location=n,a.$log=r,a.previewService=o,a}return ExperienceService.$inject=["$q","$location","$log","lodash","previewService"],In(ExperienceService,e),ExperienceService.prototype.buildRefreshedPreviewUrl=function(){var e=this;return this.getCurrentExperience().then(function(t){if(!t)throw new Error("ExperienceService.buildRefreshedPreviewUrl() - Invalid experience from ExperienceService.getCurrentExperience()");return e.previewService.getResourcePathFromPreviewUrl(t.siteDescriptor.previewUrl).then(function(n){var r=e._convertExperienceToPreviewData(t,n);return e.previewService.updateUrlWithNewPreviewTicketId(e.$location.absUrl(),r)},function(t){return e.$log.error("ExperienceService.buildRefreshedPreviewUrl() - failed to retrieve resource path"),e.$q.reject(t)})},function(t){return e.$log.error("ExperienceService.buildRefreshedPreviewUrl() - failed to retrieve current experience"),e.$q.reject(t)})},ExperienceService=wn([je("loadExperience","updateExperiencePageContext","getCurrentExperience","setCurrentExperience","hasCatalogVersionChanged","buildRefreshedPreviewUrl"),function(e){return e}],ExperienceService)}(be),Rn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),An=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Pn=function(e){function FeatureService(t,n,r,i,o,a){var s=e.call(this,r,i)||this;return s.$log=t,s.decoratorService=n,s.$q=o,s.contextualMenuService=a,s}return FeatureService.$inject=["$log","decoratorService","lodash","cloneableUtils","$q","contextualMenuService"],Rn(FeatureService,e),FeatureService.prototype.addDecorator=function(e){var t=e.enablingCallback,n=e.disablingCallback,r=e.displayCondition;return e.enablingCallback=function(){this.enable(e.key,r),t&&t()}.bind(this.decoratorService),e.disablingCallback=function(){this.disable(e.key),n&&n()}.bind(this.decoratorService),delete e.displayCondition,this.register(e)},FeatureService.prototype.addContextualMenuButton=function(e){var t=r.copy(e);return delete e.nameI18nKey,delete e.descriptionI18nKey,delete e.regexpKeys,t.enablingCallback=function(){var n={};t.regexpKeys.forEach(function(t){n[t]=[e]}),this.addItems(n)}.bind(this.contextualMenuService),t.disablingCallback=function(){this.removeItemByKey(t.key)}.bind(this.contextualMenuService),this.register(t)},FeatureService.prototype._remoteEnablingFromInner=function(e){return this._featuresToAlias&&this._featuresToAlias[e]?this._featuresToAlias[e].enablingCallback():this.$log.warn("could not enable feature named "+e+", it was not found in the iframe"),this.$q.when()},FeatureService.prototype._remoteDisablingFromInner=function(e){return this._featuresToAlias&&this._featuresToAlias[e]?this._featuresToAlias[e].disablingCallback():this.$log.warn("could not disable feature named "+e+", it was not found in the iframe"),this.$q.when()},FeatureService=An([je("_registerAliases","addToolbarItem","register","enable","disable","_remoteEnablingFromInner","_remoteDisablingFromInner","addDecorator","getFeatureProperty","addContextualMenuButton"),function(e){return e}],FeatureService)}(w),Mn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Dn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Nn=function(e){function NotificationService(){return e.call(this)||this}return Mn(NotificationService,e),NotificationService=Dn([je("pushNotification","removeNotification","removeAllNotifications")],NotificationService)}(Te),xn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),$n=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ln=function(e){function NotificationMouseLeaveDetectionService(t,n){var r=e.call(this)||this;return r.$document=t,r.$q=n,r.notificationPanelBounds=null,r.mouseLeaveCallback=null,r._onMouseMove=r._onMouseMove.bind(r),r}return NotificationMouseLeaveDetectionService.$inject=["$document","$q"],xn(NotificationMouseLeaveDetectionService,e),NotificationMouseLeaveDetectionService.prototype._remoteStartDetection=function(e){return this.notificationPanelBounds=e,this.$document.on("mousemove",this._onMouseMove),this.$q.when()},NotificationMouseLeaveDetectionService.prototype._remoteStopDetection=function(){return this.$document.off("mousemove",this._onMouseMove),this.notificationPanelBounds=null,this.$q.when()},NotificationMouseLeaveDetectionService.prototype._getBounds=function(){return this.$q.when(this.notificationPanelBounds)},NotificationMouseLeaveDetectionService.prototype._getCallback=function(){return this.$q.when(this.mouseLeaveCallback)},NotificationMouseLeaveDetectionService=$n([je("stopDetection","_remoteStartDetection","_remoteStopDetection","_callCallback"),function(e){return e}],NotificationMouseLeaveDetectionService)}(Ce),Un=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Fn=function(){function DragAndDropCrossOrigin(e,t,n,r,i,o,a,s){var c=this;this.$document=e,this.yjQuery=t,this.crossFrameEventService=n,this.inViewElementObserver=r,this._dragAndDropScrollingService=i,this.SMARTEDIT_DRAG_AND_DROP_EVENTS=o,this.SMARTEDIT_ELEMENT_HOVERED=a,this.polyfillService=s,this.onDnDCrossOriginStart=function(e){c._dragAndDropScrollingService.toggleThrottling(c.polyfillService.isEligibleForThrottledScrolling())},this.onTrackMouseInner=function(e,t){if(!c.isSearchingElement){c.isSearchingElement=!0,c.currentElementHovered=c.yjQuery(c.inViewElementObserver.elementFromPoint(t));var n=c.getMousePositionInPage(t);c.lastElementHovered&&c.lastElementHovered.length&&(c.currentElementHovered.length&&c.lastElementHovered[0]!==c.currentElementHovered[0]||!c.currentElementHovered.length)&&(c.dispatchDragEvent(c.lastElementHovered[0],mt.DRAG_LEAVE,n),c.lastElementHovered.data(c.SMARTEDIT_ELEMENT_HOVERED,!1)),c.currentElementHovered.length&&(c.currentElementHovered.data(c.SMARTEDIT_ELEMENT_HOVERED)||(c.dispatchDragEvent(c.currentElementHovered[0],mt.DRAG_ENTER,n),c.currentElementHovered.data(c.SMARTEDIT_ELEMENT_HOVERED,!0)),c.dispatchDragEvent(c.currentElementHovered[0],mt.DRAG_OVER,n)),c.lastElementHovered=c.currentElementHovered,c.isSearchingElement=!1}},this.onDropElementInner=function(e,t){c.currentElementHovered.length&&(c.currentElementHovered.data(c.SMARTEDIT_ELEMENT_HOVERED,!1),c.dispatchDragEvent(c.currentElementHovered[0],mt.DROP,t),c.dispatchDragEvent(c.currentElementHovered[0],mt.DRAG_LEAVE,t))}}return DragAndDropCrossOrigin.$inject=["$document","yjQuery","crossFrameEventService","inViewElementObserver","_dragAndDropScrollingService","SMARTEDIT_DRAG_AND_DROP_EVENTS","SMARTEDIT_ELEMENT_HOVERED","polyfillService"],DragAndDropCrossOrigin.prototype.initialize=function(){this.crossFrameEventService.subscribe(this.SMARTEDIT_DRAG_AND_DROP_EVENTS.TRACK_MOUSE_POSITION,this.onTrackMouseInner),this.crossFrameEventService.subscribe(this.SMARTEDIT_DRAG_AND_DROP_EVENTS.DROP_ELEMENT,this.onDropElementInner),this.crossFrameEventService.subscribe(this.SMARTEDIT_DRAG_AND_DROP_EVENTS.DRAG_DROP_CROSS_ORIGIN_START,this.onDnDCrossOriginStart)},DragAndDropCrossOrigin.prototype.dispatchDragEvent=function(e,t,n){var r=this.$document[0].createEvent("CustomEvent");r.initCustomEvent(t,!0,!0,null),r.dataTransfer={data:{},setData:function(e,t){this.data[e]=t},getData:function(e){return this.data[e]}},r.pageX=n.x,r.pageY=n.y,e.dispatchEvent(r)},DragAndDropCrossOrigin.prototype.getMousePositionInPage=function(e){var t=this.yjQuery(this.$document[0].scrollingElement||this.$document[0].documentElement);return{x:e.x+t.scrollLeft(),y:e.y+t.scrollTop()}},DragAndDropCrossOrigin=Un([function(e){return e}],DragAndDropCrossOrigin)}(),kn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),jn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Hn=function(e){function PageInfoService(t){var n=e.call(this)||this;return n.componentHandlerService=t,n}return PageInfoService.$inject=["componentHandlerService"],kn(PageInfoService,e),PageInfoService.prototype.getPageUID=function(){return this.componentHandlerService.getPageUID()},PageInfoService.prototype.getPageUUID=function(){return this.componentHandlerService.getPageUUID()},PageInfoService.prototype.getCatalogVersionUUIDFromPage=function(){return this.componentHandlerService.getCatalogVersionUUIDFromPage()},PageInfoService=jn([je("getPageUID","getPageUUID","getCatalogVersionUUIDFromPage"),function(e){return e}],PageInfoService)}(Ie),Gn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Vn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Bn=function(e){function PerspectiveService(){return e.call(this)||this}return Gn(PerspectiveService,e),PerspectiveService=Vn([je()],PerspectiveService)}(Xe),qn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),zn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Wn=function(e){function PreviewService(t){return e.call(this,t)||this}return PreviewService.$inject=["urlUtils"],qn(PreviewService,e),PreviewService=zn([je(),function(e){return e}],PreviewService)}(Oe),Yn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Kn=function(){function RestService(e,t,n){this.delegateRestService=e,this.uri=t,this.identifier=n,this.metadataActivated=!1}return RestService.$inject=["delegateRestService","uri","identifier"],RestService.prototype.getById=function(e){return this.delegateRestService.delegateForSingleInstance("getById",e,this.uri,this.identifier,this.metadataActivated)},RestService.prototype.get=function(e){return this.delegateRestService.delegateForSingleInstance("get",e,this.uri,this.identifier,this.metadataActivated)},RestService.prototype.update=function(e){return this.delegateRestService.delegateForSingleInstance("update",e,this.uri,this.identifier,this.metadataActivated)},RestService.prototype.save=function(e){return this.delegateRestService.delegateForSingleInstance("save",e,this.uri,this.identifier,this.metadataActivated)},RestService.prototype.query=function(e){return this.delegateRestService.delegateForArray("query",e,this.uri,this.identifier,this.metadataActivated)},RestService.prototype.page=function(e){return this.delegateRestService.delegateForPage(e,this.uri,this.identifier,this.metadataActivated)},RestService.prototype.remove=function(e){return this.delegateRestService.delegateForVoid("remove",e,this.uri,this.identifier,this.metadataActivated)},RestService.prototype.activateMetadata=function(){this.metadataActivated=!0},RestService=Yn([function(e){return e}],RestService)}(),Xn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Qn=function(){function RestServiceFactory(e){this.delegateRestService=e}return RestServiceFactory.$inject=["delegateRestService"],RestServiceFactory.prototype.get=function(e,t){return new Kn(this.delegateRestService,e,t)},RestServiceFactory=Xn([function(e){return e}],RestServiceFactory)}(),Jn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Zn=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},er=function(e){function SessionService(){return e.call(this)||this}return Jn(SessionService,e),SessionService=Zn([je()],SessionService)}(Re),tr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),nr=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},rr=function(e){function SharedDataService(){return e.call(this)||this}return tr(SharedDataService,e),SharedDataService=nr([je()],SharedDataService)}(Ae),ir=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),or=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ar=function(e){function StorageService(){return e.call(this)||this}return ir(StorageService,e),StorageService=or([je()],StorageService)}(Pe),sr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),cr=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},lr=function(e){function UrlService(){return null!==e&&e.apply(this,arguments)||this}return sr(UrlService,e),UrlService=cr([je("openUrlInPopup","path"),function(e){return e}],UrlService)}(Me),dr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ur=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},pr=function(e){function WaitDialogService(){return e.call(this)||this}return dr(WaitDialogService,e),WaitDialogService=ur([je()],WaitDialogService)}(De),hr=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},fr=function(){function SeNamespaceService(e){this.$log=e}return SeNamespaceService.$inject=["$log"],SeNamespaceService.prototype.reprocessPage=function(){return this.namespace&&"function"==typeof this.namespace.reprocessPage?this.namespace.reprocessPage():(this.$log.warn("No reprocessPage function defined on smartedit namespace"),null)},SeNamespaceService.prototype.renderComponent=function(e,t,n){return!(!this.namespace||"function"!=typeof this.namespace.renderComponent)&&this.namespace.renderComponent(e,t,n)},Object.defineProperty(SeNamespaceService.prototype,"namespace",{get:function(){return window.smartedit},enumerable:!0,configurable:!0}),SeNamespaceService=hr([function(e){return e}],SeNamespaceService)}(),mr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),gr=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},vr=function(e){function PermissionService(t){var n=e.call(this)||this;return n.$log=t,n}return PermissionService.$inject=["$log"],mr(PermissionService,e),PermissionService.prototype._remoteCallRuleVerify=function(e,t){return this.ruleVerifyFunctions&&this.ruleVerifyFunctions[e]?this.ruleVerifyFunctions[e].verify(t):(this.$log.warn("could not call rule verify function for rule key: "+e+", it was not found in the iframe"),null)},PermissionService=gr([function(e){return e},je()],PermissionService)}(xe),yr=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Sr=function(){function StorageGateway(){}return StorageGateway.prototype.handleStorageRequest=function(e,t,n){"proxyFunction";return null},StorageGateway=yr([je("handleStorageRequest")],StorageGateway)}(),Er=function(){function StorageProxy(e,t){this.configuration=e,this.storageGateway=t}return StorageProxy.prototype.clear=function(){return this.storageGateway.handleStorageRequest(this.configuration,"clear",this.arrayFromArguments(arguments))},StorageProxy.prototype.dispose=function(){return this.storageGateway.handleStorageRequest(this.configuration,"dispose",this.arrayFromArguments(arguments))},StorageProxy.prototype.entries=function(){return this.storageGateway.handleStorageRequest(this.configuration,"entries",this.arrayFromArguments(arguments))},StorageProxy.prototype.find=function(e){return this.storageGateway.handleStorageRequest(this.configuration,"find",this.arrayFromArguments(arguments))},StorageProxy.prototype.get=function(e){return this.storageGateway.handleStorageRequest(this.configuration,"get",this.arrayFromArguments(arguments))},StorageProxy.prototype.getLength=function(){return this.storageGateway.handleStorageRequest(this.configuration,"getLength",this.arrayFromArguments(arguments))},StorageProxy.prototype.put=function(e,t){return this.storageGateway.handleStorageRequest(this.configuration,"put",this.arrayFromArguments(arguments))},StorageProxy.prototype.remove=function(e){return this.storageGateway.handleStorageRequest(this.configuration,"remove",this.arrayFromArguments(arguments))},StorageProxy.prototype.arrayFromArguments=function(e){return Array.prototype.slice.call(e)},StorageProxy}(),_r=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},br=function(){function StorageManagerGateway(e,t,n){this.$q=e,this.$log=t,this.storageGateway=n}return StorageManagerGateway.$inject=["$q","$log","storageGateway"],StorageManagerGateway.prototype.registerStorageController=function(e){throw new Error("registerStorageController() is not supported from the smartedit (inner) application, please register controllers from smarteditContainer")},StorageManagerGateway.prototype.getStorage=function(e){var t=this,n="Unable to get storage "+e.storageId,r=this.$q.defer();return this.getStorageSanitityCheck(e).then(function(i){i?r.resolve(new Er(e,t.storageGateway)):(t.$log.error(n),r.reject(n))},function(e){t.$log.error(n),t.$log.error(e),r.reject(n)}),r.promise},StorageManagerGateway.prototype.deleteExpiredStorages=function(e){"proxyFunction"},StorageManagerGateway.prototype.deleteStorage=function(e,t){"proxyFunction"},StorageManagerGateway.prototype.getStorageSanitityCheck=function(e){"proxyFunction"},StorageManagerGateway.prototype.hasStorage=function(e){"proxyFunction";return!1},StorageManagerGateway=_r([je("getStorageSanitityCheck","deleteExpiredStorages","deleteStorage","hasStorage"),function(e){return e}],StorageManagerGateway)}(),Cr=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Tr=function(){function StorageModule(){}return StorageModule=Cr([y({providers:[Sr,br,{provide:"storageManagerFactory",useFactory:function(e){return new Ct(e)},deps:["storageManagerGateway"]},{provide:"seStorageManager",useFactory:function(e){return e.getStorageManager("se.nsp")},deps:["storageManagerFactory"]}],initialize:["storageManagerFactory","storageGateway","seStorageManager",function(e,t,n){"ngInject"}]})],StorageModule)}(),Ir=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.ADD_OPERATION="addedNodes",e.REMOVE_OPERATION="removedNodes"}(un||(un={})),function(e){e.ADDED="added",e.DESTROYED="destroyed"}(pn||(pn={}));var wr={root:null,rootMargin:"1000px",threshold:0},Or=function(){function SmartEditContractChangeListener(e,t,n,r,i,o,a,s,c,l,d,u,p,h,f,m,g,v,y,S,E,_,b,C){this.isInDOM=e,this.componentHandlerService=t,this.resizeListener=n,this.positionRegistry=r,this.compareHTMLElementsPosition=i,this.isInExtendedViewPort=o,this.$log=a,this.$q=s,this.$interval=c,this.$rootScope=l,this.lodash=d,this.systemEventService=u,this.polyfillService=p,this.REPROCESS_TIMEOUT=h,this.TYPE_ATTRIBUTE=f,this.ID_ATTRIBUTE=m,this.UUID_ATTRIBUTE=g,this.CONTRACT_CHANGE_LISTENER_PROCESS_EVENTS=v,this.CONTRACT_CHANGE_LISTENER_COMPONENT_PROCESS_STATUS=y,this.CONTRACT_CHANGE_LISTENER_INTERSECTION_OBSERVER_OPTIONS=S,this.CONTRACT_CHANGE_LISTENER_PROCESS_QUEUE_THROTTLE=E,this.SMARTEDIT_COMPONENT_PROCESS_STATUS=_,this.PROCESS_QUEUE_POLYFILL_INTERVAL=b,this.testModeService=C,this.MUTATION_TYPES={CHILD_LIST:{NAME:"childList",ADD_OPERATION:un.ADD_OPERATION,REMOVE_OPERATION:un.REMOVE_OPERATION},ATTRIBUTES:{NAME:"attributes"}},this.MUTATION_OBSERVER_OPTIONS={attributes:!0,attributeOldValue:!0,childList:!0,characterData:!1,subtree:!0},this.enableExtendedView=!1,this._componentsAddedCallback=null,this._componentsRemovedCallback=null,this._componentResizedCallback=null,this._componentRepositionedCallback=null,this._onComponentChangedCallback=null,this._pageChangedCallback=null,this._throttledProcessQueue=this.lodash.throttle(this._rawProcessQueue,this.CONTRACT_CHANGE_LISTENER_PROCESS_QUEUE_THROTTLE),this.componentsQueue=[],this.smartEditAttributeNames=[this.TYPE_ATTRIBUTE,this.ID_ATTRIBUTE,this.UUID_ATTRIBUTE],this.CONTRACT_CHANGE_LISTENER_COMPONENT_PROCESS_STATUS,this.SMARTEDIT_COMPONENT_PROCESS_STATUS}return SmartEditContractChangeListener.$inject=["isInDOM","componentHandlerService","resizeListener","positionRegistry","compareHTMLElementsPosition","isInExtendedViewPort","$log","$q","$interval","$rootScope","lodash","systemEventService","polyfillService","REPROCESS_TIMEOUT","TYPE_ATTRIBUTE","ID_ATTRIBUTE","UUID_ATTRIBUTE","CONTRACT_CHANGE_LISTENER_PROCESS_EVENTS","CONTRACT_CHANGE_LISTENER_COMPONENT_PROCESS_STATUS","CONTRACT_CHANGE_LISTENER_INTERSECTION_OBSERVER_OPTIONS","CONTRACT_CHANGE_LISTENER_PROCESS_QUEUE_THROTTLE","SMARTEDIT_COMPONENT_PROCESS_STATUS","PROCESS_QUEUE_POLYFILL_INTERVAL","testModeService"],SmartEditContractChangeListener.prototype._newMutationObserver=function(e){return new MutationObserver(e)},SmartEditContractChangeListener.prototype._newIntersectionObserver=function(e){return new IntersectionObserver(e,this.CONTRACT_CHANGE_LISTENER_INTERSECTION_OBSERVER_OPTIONS)},SmartEditContractChangeListener.prototype._addToComponentQueue=function(e){var t=this._getComponentIndexInQueue(e.target);-1!==t?this.componentsQueue[t].isIntersecting=e.isIntersecting:this.isInDOM(e.target)&&this.componentsQueue.push({component:e.target,isIntersecting:e.isIntersecting,processed:null,oldProcessedValue:null,parent:this.componentHandlerService.getParent(e.target)[0]})},SmartEditContractChangeListener.prototype._getComponentIndexInQueue=function(e){return this.componentsQueue.findIndex(function(t){return e===t.component})},SmartEditContractChangeListener.prototype._componentsQueueLength=function(){return this.componentsQueue.length},SmartEditContractChangeListener.prototype.isExtendedViewEnabled=function(){return this.enableExtendedView},SmartEditContractChangeListener.prototype.setEconomyMode=function(e){var t=this;this.economyMode=e,this.economyMode||Array.prototype.slice.apply(this.componentHandlerService.getFirstSmartEditComponentChildren(this.componentHandlerService.getFromSelector("body"))).forEach(function(e){t.applyToSelfAndAllChildren(e,function(e){t._registerSizeAndPositionListeners(e)})})},SmartEditContractChangeListener.prototype.initListener=function(){var e=this;this.enableExtendedView=this.polyfillService.isEligibleForExtendedView();try{this.componentHandlerService.getPageUUID().then(function(t){e.currentPage=t,e._pageChangedCallback&&e.executeCallback(e._pageChangedCallback.bind(void 0,e.currentPage))})}catch(e){}this.systemEventService.subscribe(this.CONTRACT_CHANGE_LISTENER_PROCESS_EVENTS.RESTART_PROCESS,function(){return e._processQueue(),e.$q.when()}),this.enableExtendedView&&this.$interval(function(){e._processQueue()},this.PROCESS_QUEUE_POLYFILL_INTERVAL),this.mutationObserver=this._newMutationObserver(this.mutationObserverCallback.bind(this)),this.mutationObserver.observe(document.body,this.MUTATION_OBSERVER_OPTIONS),this.intersectionObserver=this._newIntersectionObserver(function(t){t.forEach(function(t){e._addToComponentQueue(t)}),e._processQueue()}),Array.prototype.slice.apply(this.componentHandlerService.getFirstSmartEditComponentChildren(this.componentHandlerService.getFromSelector("body"))).forEach(function(t){e.applyToSelfAndAllChildren(t,e.intersectionObserver.observe.bind(e.intersectionObserver))}),this._startExpendableListeners()},SmartEditContractChangeListener.prototype._processQueue=function(){this.testModeService.isE2EMode()?this._rawProcessQueue():this._throttledProcessQueue()},SmartEditContractChangeListener.prototype.isIntersecting=function(e){return!!this.isInDOM(e.component)&&(this.enableExtendedView?this.isInExtendedViewPort(e.component):e.isIntersecting)},SmartEditContractChangeListener.prototype._rawProcessQueue=function(){var e=this.componentsQueue.slice();this.systemEventService.publish(this.CONTRACT_CHANGE_LISTENER_PROCESS_EVENTS.PROCESS_COMPONENTS,this.lodash.map(e,"component")).then(function(e,t){var n=this,r=[],i=[];e.forEach(function(e){var o=t.find(function(t){return t===e.component}).dataset[n.SMARTEDIT_COMPONENT_PROCESS_STATUS];o===n.CONTRACT_CHANGE_LISTENER_COMPONENT_PROCESS_STATUS.PROCESS?e.processed!==pn.ADDED&&n.isIntersecting(e)?r.push(e):e.processed!==pn.ADDED||n.isIntersecting(e)||i.push(e):o===n.CONTRACT_CHANGE_LISTENER_COMPONENT_PROCESS_STATUS.REMOVE&&e.processed===pn.ADDED&&i.push(e),e.oldProcessedValue=e.processed}),r.forEach(function(e){e.processed=pn.ADDED}),i.forEach(function(e){e.processed=pn.DESTROYED}),i.length&&this._removeComponents(i),r.length&&(r.sort(this.compareHTMLElementsPosition("component")),this._addComponents(r)),this.economyMode||this.lodash.chain(r.concat(i)).filter(function(e){return null===e.oldProcessedValue||!n.isInDOM(e.component)}).map("parent").compact().uniq().value().forEach(function(e){n.repairParentResizeListener(e)})}.bind(this,e))},SmartEditContractChangeListener.prototype._addComponents=function(e){var t=this;this._componentsAddedCallback&&this.executeCallback(this._componentsAddedCallback.bind(void 0,this.lodash.map(e,"component"),this.economyMode)),this.economyMode||e.filter(function(e){return null===e.oldProcessedValue}).forEach(function(e){t._registerSizeAndPositionListeners(e.component)})},SmartEditContractChangeListener.prototype._removeComponents=function(e){var t=this;if(e.filter(function(e){return!t.isInDOM(e.component)}).forEach(function(e){t.economyMode||t._unregisterSizeAndPositionListeners(e.component),t.componentsQueue.splice(t._getComponentIndexInQueue(e.component),1)}),this._componentsRemovedCallback){var n=e.map(function(e){return t.lodash.pick(e,["component","parent"])});this.executeCallback(this._componentsRemovedCallback.bind(void 0,n,this.economyMode))}},SmartEditContractChangeListener.prototype._registerSizeAndPositionListeners=function(e){this._componentRepositionedCallback&&this.positionRegistry.register(e),this._componentResizedCallback&&this.resizeListener.register(e,this._componentResizedCallback.bind(void 0,e))},SmartEditContractChangeListener.prototype._unregisterSizeAndPositionListeners=function(e){this._componentRepositionedCallback&&this.positionRegistry.unregister(e),this._componentResizedCallback&&this.resizeListener.unregister(e)},SmartEditContractChangeListener.prototype.stopListener=function(){this.mutationObserver&&this.mutationObserver.disconnect(),this.intersectionObserver.disconnect(),this.mutationObserver=null,this._stopExpendableListeners()},SmartEditContractChangeListener.prototype._stopExpendableListeners=function(){this.resizeListener.dispose(),this.repositionListener&&(this.$interval.cancel(this.repositionListener),this.repositionListener=null),this.positionRegistry.dispose()},SmartEditContractChangeListener.prototype._startExpendableListeners=function(){var e=this;this.resizeListener.init(),this._componentRepositionedCallback&&(this.repositionListener=this.$interval(function(){e.positionRegistry.getRepositionedComponents().forEach(function(t){e._componentRepositionedCallback(t)})},this.REPROCESS_TIMEOUT))},SmartEditContractChangeListener.prototype.onComponentsAdded=function(e){this._componentsAddedCallback=e},SmartEditContractChangeListener.prototype.onComponentsRemoved=function(e){this._componentsRemovedCallback=e},SmartEditContractChangeListener.prototype.onComponentChanged=function(e){this._onComponentChangedCallback=e},SmartEditContractChangeListener.prototype.onComponentResized=function(e){this._componentResizedCallback=e},SmartEditContractChangeListener.prototype.onComponentRepositioned=function(e){this._componentRepositionedCallback=e},SmartEditContractChangeListener.prototype.onPageChanged=function(e){this._pageChangedCallback=e},SmartEditContractChangeListener.prototype.aggregateAddedOrRemovedNodesAndTheirParents=function(e,t){var n=this,r=this.lodash.flatten(e.filter(function(e){return e.type===n.MUTATION_TYPES.CHILD_LIST.NAME&&e[t]&&e[t].length}).map(function(e){var r=n.lodash.flatten(Array.prototype.slice.call(e[t]).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).map(function(e){return n.componentHandlerService.isSmartEditComponent(e)?e:Array.prototype.slice.call(n.componentHandlerService.getFirstSmartEditComponentChildren(e))})).sort(n.compareHTMLElementsPosition()),i=n.componentHandlerService.getClosestSmartEditComponent(e.target);return r.map(function(e){return{node:e,parent:i.length?i[0]:null}})}));return this.lodash.uniqWith(r,function(e,t){return e.node.contains(t.node)||t.node.contains(e.node)})},SmartEditContractChangeListener.prototype.aggregateMutationsOnSmartEditAttributes=function(e){var t=this;return e.filter(function(e){return e.target&&e.target.nodeType===Node.ELEMENT_NODE&&t.componentHandlerService.isSmartEditComponent(e.target)&&e.type===t.MUTATION_TYPES.ATTRIBUTES.NAME&&t.smartEditAttributeNames.indexOf(e.attributeName)>-1}).reduce(function(e,t){var n=e.find(function(e){return e.node===t.target});return n||(n={node:t.target,oldAttributes:{}},e.push(n)),n.oldAttributes[t.attributeName]=t.oldValue,e},[])},SmartEditContractChangeListener.prototype.mutationsHasPageChange=function(e){var t=this;return e.find(function(e){var n=e.target;return e.type===t.MUTATION_TYPES.ATTRIBUTES.NAME&&"BODY"===n.tagName&&"class"===e.attributeName})},SmartEditContractChangeListener.prototype.applyToSelfAndAllChildren=function(e,t){var n=this;t(e),Array.prototype.slice.call(this.componentHandlerService.getFirstSmartEditComponentChildren(e)).forEach(function(e){n.applyToSelfAndAllChildren(e,t)})},SmartEditContractChangeListener.prototype.repairParentResizeListener=function(e){if(e){var t=this.componentsQueue[this._getComponentIndexInQueue(e)];t&&t.processed===pn.ADDED&&this.isInDOM(e)&&(this.resizeListener.fix(e),this._componentResizedCallback(e))}},SmartEditContractChangeListener.prototype.executeCallback=function(e){this.$rootScope.$evalAsync(e)},SmartEditContractChangeListener.prototype.mutationObserverCallback=function(e){var t=this;this.$log.debug(e),this._pageChangedCallback&&this.mutationsHasPageChange(e)&&this.componentHandlerService.getPageUUID().then(function(e){t.currentPage!==e&&t.executeCallback(t._pageChangedCallback.bind(void 0,e)),t.currentPage=e}),this._componentsAddedCallback&&this.aggregateAddedOrRemovedNodesAndTheirParents(e,this.MUTATION_TYPES.CHILD_LIST.ADD_OPERATION).forEach(function(e){t.applyToSelfAndAllChildren(e.node,t.intersectionObserver.observe.bind(t.intersectionObserver))}),this.aggregateAddedOrRemovedNodesAndTheirParents(e,this.MUTATION_TYPES.CHILD_LIST.REMOVE_OPERATION).forEach(function(e){t.applyToSelfAndAllChildren(e.node,function(n){-1!==t._getComponentIndexInQueue(n)&&(t.economyMode||t.repairParentResizeListener(e.parent),t._removeComponents([{isIntersecting:!1,component:n,parent:e.parent}]))})}),this._onComponentChangedCallback&&this.aggregateMutationsOnSmartEditAttributes(e).forEach(function(e){t.executeCallback(t._onComponentChangedCallback.bind(void 0,e.node,e.oldAttributes))})},SmartEditContractChangeListener=Ir([function(e){return e}],SmartEditContractChangeListener)}(),Rr=function(){return(Rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ar=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Pr=function(){function SakExecutorService(e,t,n,r,i,o,a,s,c,l){var d=this;this.$log=e,this.$compile=t,this.yjQuery=n,this.lodash=r,this.polyfillService=i,this.decoratorService=o,this.systemEventService=a,this.ID_ATTRIBUTE=s,this.ELEMENT_UUID_ATTRIBUTE=c,this.SMARTEDIT_DRAG_AND_DROP_EVENTS=l,this.ATTR_DATA="data-",this.ATTR_SMARTEDIT="smartedit",this.ATTR_DATA_SMARTEDIT=this.ATTR_DATA+this.ATTR_SMARTEDIT,this.componentDecoratorEnabled=!0,this.scopes=[],this.systemEventService.subscribe(this.SMARTEDIT_DRAG_AND_DROP_EVENTS.DRAG_DROP_END,function(){d.componentDecoratorEnabled=!0,d.polyfillService.isEligibleForEconomyMode()&&d.scopes.forEach(function(e){e.scope.componentDecoratorEnabled=!0})}),this.systemEventService.subscribe(this.SMARTEDIT_DRAG_AND_DROP_EVENTS.DRAG_DROP_START,function(e,t){if(d.componentDecoratorEnabled=!1,d.polyfillService.isEligibleForEconomyMode()){var n=t?d._getElementIndex(t):-1;d.scopes.forEach(function(e,t){-1!==n&&n===t||(e.scope.componentDecoratorEnabled=!1)})}}),this.decoratorsCondition=this.polyfillService.isEligibleForEconomyMode()?"data-ng-if='componentDecoratorEnabled'":""}return SakExecutorService.$inject=["$log","$compile","yjQuery","lodash","polyfillService","decoratorService","systemEventService","ID_ATTRIBUTE","ELEMENT_UUID_ATTRIBUTE","SMARTEDIT_DRAG_AND_DROP_EVENTS"],SakExecutorService.prototype._getElementIndex=function(e){var t=this;return this.scopes.findIndex(function(n){return t.yjQuery(n.element).attr(t.ELEMENT_UUID_ATTRIBUTE)===t.yjQuery(e).attr(t.ELEMENT_UUID_ATTRIBUTE)})},SakExecutorService.prototype.getScopes=function(){return this.scopes},SakExecutorService.prototype.wrapDecorators=function(e,t,n){var r=this;return this.decoratorService.getDecoratorsForComponent(n,t).then(function(t){var n="<div "+r.decoratorsCondition+" data-ng-transclude></div>";return t.forEach(function(e){n="<div "+r.decoratorsCondition+" class='"+e+" se-decorator-wrap' data-active='active' data-smartedit-component-id='{{$ctrl.smarteditComponentId}}' data-smartedit-component-type='{{$ctrl.smarteditComponentType}}' data-smartedit-container-id='{{$ctrl.smarteditContainerId}}' data-smartedit-container-type='{{$ctrl.smarteditContainerType}}' data-component-attributes='componentAttributes'>"+n,n+="</div>"}),r.polyfillService.isEligibleForEconomyMode()&&(n="<div>"+n+"<div data-ng-if='!componentDecoratorEnabled' data-ng-transclude></div></div>"),r.$compile(n,e)})},SakExecutorService.prototype.registerScope=function(e,t){this.scopes.push({scope:e,element:Rr({},t)})},SakExecutorService.prototype.destroyScope=function(e){var t=this._getElementIndex(e);-1!==t?(this.scopes[t].scope.$destroy(),this.scopes.splice(t,1)):this.$log.warn("sakExecutor::destroyScope failed to retrieve element:",this.yjQuery(e).attr(this.ID_ATTRIBUTE),this.yjQuery(e).attr(this.ELEMENT_UUID_ATTRIBUTE))},SakExecutorService.prototype.prepareScope=function(e,t){var n=this;this.registerScope(e,t);var r={};Array.prototype.slice.apply(t.get(0).attributes).forEach(function(e){var t=e.nodeName;n.isValidSmartEditAttribute(t)&&(t=n.parseAttributeName(t),r[t]=e.nodeValue)}),e.componentAttributes=r},SakExecutorService.prototype.isDecoratorEnabled=function(){return this.componentDecoratorEnabled},SakExecutorService.prototype.isValidSmartEditAttribute=function(e){return this.lodash.startsWith(e,this.ATTR_DATA_SMARTEDIT)||this.lodash.startsWith(e,this.ATTR_SMARTEDIT)},SakExecutorService.prototype.parseAttributeName=function(e){return this.lodash.startsWith(e,this.ATTR_DATA)&&(e=e.substring(this.ATTR_DATA.length)),this.lodash.camelCase(e)},SakExecutorService=Ar([function(e){return e}],SakExecutorService)}(),Mr=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Dr=function(){function SmarteditElementComponent(e,t,n,r,i,o,a,s,c){this.$element=e,this.$scope=t,this.$transclude=n,this.$q=r,this.$rootScope=i,this.sakExecutorService=o,this.crossFrameEventService=a,this.EVENT_PERSPECTIVE_CHANGED=s,this.EVENT_PERSPECTIVE_REFRESHED=c,this.$scope.active=!1,this.$scope.componentDecoratorEnabled=this.sakExecutorService.isDecoratorEnabled()}return SmarteditElementComponent.$inject=["$element","$scope","$transclude","$q","$rootScope","sakExecutorService","crossFrameEventService","EVENT_PERSPECTIVE_CHANGED","EVENT_PERSPECTIVE_REFRESHED"],SmarteditElementComponent.prototype.$postLink=function(){this.unregisterPerspectiveChangeEvent=this.crossFrameEventService.subscribe(this.EVENT_PERSPECTIVE_CHANGED,this.replayDecorators.bind(this)),this.unregisterPerspectiveRefreshedEvent=this.crossFrameEventService.subscribe(this.EVENT_PERSPECTIVE_REFRESHED,this.replayDecorators.bind(this)),this.$transclude(this.$scope,this.cloneAttach.bind(this))},SmarteditElementComponent.prototype.$onDestroy=function(){this.unregisterPerspectiveChangeEvent(),this.unregisterPerspectiveRefreshedEvent()},SmarteditElementComponent.prototype.replayDecorators=function(){var e=this;return this.elementScope.$destroy(),this.$element.get(0).removeChild(this.compiledElement.get(0)),this.sakExecutorService.wrapDecorators(this.$transclude,this.smarteditComponentId,this.smarteditComponentType).then(function(t){e.elementScope=e.$scope.$new(!1),e.compiledElement=t(e.elementScope),e.$element.append(e.compiledElement)}),this.$q.when()},SmarteditElementComponent.prototype.cloneAttach=function(){var e=this;this.sakExecutorService.wrapDecorators(this.$transclude,this.smarteditComponentId,this.smarteditComponentType).then(function(t){e.elementScope=e.$scope.$new(!1),e.compiledElement=t(e.elementScope),e.$element.append(e.compiledElement),e.sakExecutorService.prepareScope(e.$scope,e.$element);var n=function(){e.$scope.active=!1},r=function(){e.$scope.active=!0};e.$element.on("mouseenter",function(){e.sakExecutorService.isDecoratorEnabled()?e.$rootScope.$apply(r):e.$rootScope.$apply(n)}),e.$element.on("mouseleave",function(){e.$rootScope.$apply(n)})})},SmarteditElementComponent=Mr([m({inputs:["smarteditComponentId:@","smarteditComponentType:@","smarteditContainerId:@","smarteditContainerType:@"]})],SmarteditElementComponent)}(),Nr=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},xr=function(){function SmarteditServicesModule(){}return SmarteditServicesModule=Nr([y({imports:["coretemplates","seConstantsModule","ngResource","functionsModule","decoratorServiceModule","yLoDashModule","timerModule","resizeListenerModule","positionRegistryModule",hn,Tr],providers:[lr,rr,yn,En,Hn,ft,lt,pr,Tn,Qn,Wn,ut,Bn,Pn,Nn,Ln,ar,bn,Fn,Et,J,re,CachedAnnotationFactory,CacheConfigAnnotationFactory,InvalidateCacheAnnotationFactory,On,fr,vr,er,u.makeValueProvider({DEFAULT_REPROCESS_TIMEOUT:100}),u.makeValueProvider({DEFAULT_PROCESS_QUEUE_POLYFILL_INTERVAL:250}),u.makeValueProvider({DEFAULT_CONTRACT_CHANGE_LISTENER_INTERSECTION_OBSERVER_OPTIONS:wr}),u.makeValueProvider({DEFAULT_CONTRACT_CHANGE_LISTENER_PROCESS_QUEUE_THROTTLE:500}),Or,Pr],declarations:[Dr],initialize:["cachedAnnotationFactory","cacheConfigAnnotationFactory","invalidateCacheAnnotationFactory","notificationMouseLeaveDetectionService",function(e,t,n,r){"ngInject"}]})],SmarteditServicesModule)}(),$r=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Lr=function(){function HtmlDirective(e){this.$element=e}return HtmlDirective.$inject=["$element"],HtmlDirective.prototype.$postLink=function(){this.$element.addClass("smartedit-html-container")},HtmlDirective=$r([f({selector:"html"})],HtmlDirective)}(),Ur=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};!function doImport(){importAll(n(2)),importAll(n(4)),importAll(n(64)),importAll(n(66)),importAll(n(77))}(),r.module("urlServiceModule",["smarteditServicesModule"]),r.module("sharedDataServiceModule",["smarteditServicesModule"]),r.module("waitDialogServiceModule",["smarteditServicesModule"]),r.module("componentHandlerServiceModule",["smarteditServicesModule"]),r.module("contextualMenuServiceModule",["smarteditServicesModule"]),r.module("perspectiveServiceModule",["smarteditServicesModule"]),r.module("notificationServiceModule",["smarteditServicesModule"]),r.module("notificationMouseLeaveDetectionServiceModule",["smarteditServicesModule"]),r.module("storageServiceModule",["smarteditServicesModule"]),r.module("featureServiceModule",["smarteditServicesModule"]),r.module("sessionServiceModule",["smarteditServicesModule"]),r.module("experienceServiceModule",["smarteditServicesModule"]),r.module("bootstrapServiceModule",["smarteditServicesModule"]),r.module("permissionServiceModule",["smarteditServicesModule"]);var Fr=function(){function Smartedit(){}return Smartedit=Ur([y({imports:[xr,"yjqueryModule","templateCacheDecoratorModule","ui.bootstrap","ngResource","decoratorServiceModule","alertsBoxModule","ui.select","httpAuthInterceptorModule","httpErrorInterceptorServiceModule","unauthorizedErrorInterceptorModule","retryInterceptorModule","resourceNotFoundErrorInterceptorModule","experienceInterceptorModule","renderServiceModule","iframeClickDetectionServiceModule","sanitizeHtmlInputModule","resizeComponentServiceModule","slotContextualMenuDecoratorModule","contextualMenuDecoratorModule","pageSensitiveDirectiveModule","browserServiceModule",mn],declarations:[Lr],config:["$provide","readObjectStructureFactory","$logProvider",function(e,t,n){"ngInject";Ve(e,t(),"smartedit"),n.debugEnabled(!1)}],initialize:["systemEventService","EVENTS","ID_ATTRIBUTE","OVERLAY_RERENDERED_EVENT","SMARTEDIT_DRAG_AND_DROP_EVENTS","smartEditContractChangeListener","crossFrameEventService","perspectiveService","languageService","restServiceFactory","gatewayFactory","renderService","decoratorService","featureService","permissionService","resizeComponentService","seNamespaceService","experienceService","httpErrorInterceptorService","retryInterceptor","unauthorizedErrorInterceptor","resourceNotFoundErrorInterceptor","lodash","delegateRestService","pageInfoService","browserService","polyfillService","testModeService","sharedDataService",function(e,t,n,r,i,o,a,s,c,l,d,u,p,h,f,m,g,v,y,S,E,_,b,C,T,I,w,O,R){"ngInject";d.initListener(),y.addInterceptor(S),y.addInterceptor(E),y.addInterceptor(_),o.onComponentsAdded(function(t,n){n||(g.reprocessPage(),m._resizeComponents(!0),u._resizeSlots()),t.forEach(function(e){return u._createComponent(e)}),e.publishAsync(r,{addedComponents:t})}),o.onComponentsRemoved(function(t,n){n||(g.reprocessPage(),u._resizeSlots()),t.forEach(function(e){return u._destroyComponent(e.component,e.parent)}),e.publishAsync(r,{removedComponents:b.map(t,"component")})}),o.onComponentResized(function(e){g.reprocessPage(),u._resizeSlots(),u._updateComponentSizeAndPosition(e)}),o.onComponentRepositioned(function(e){u._updateComponentSizeAndPosition(e)}),o.onComponentChanged(function(e,t){g.reprocessPage(),u._resizeSlots(),u._destroyComponent(e,e.parent,t),u._createComponent(e)}),o.onPageChanged(function(e){T.getCatalogVersionUUIDFromPage().then(function(e){T.getPageUID().then(function(t){v.updateExperiencePageContext(e,t)})})}),w.isEligibleForEconomyMode()&&(e.subscribe(i.DRAG_DROP_START,function(){o.setEconomyMode(!0)}),e.subscribe(i.DRAG_DROP_END,function(){g.reprocessPage(),m._resizeComponents(!0),u._resizeSlots(),o.setEconomyMode(!1)})),a.subscribe(t.PAGE_CHANGE,function(){s.refreshPerspective(),c.registerSwitchLanguage()}),o.initListener(),h.register({key:"se.emptySlotFix",nameI18nKey:"se.emptyslotfix",enablingCallback:function(){m._resizeComponents(!0)},disablingCallback:function(){m._resizeComponents(!1)}}),h.addDecorator({key:"se.contextualMenu",nameI18nKey:"contextualMenu"}),h.addDecorator({key:"se.slotContextualMenu",nameI18nKey:"se.slot.contextual.menu"})}]})],Smartedit)}();n.d(t,"Smartedit",function(){return Fr})}]);